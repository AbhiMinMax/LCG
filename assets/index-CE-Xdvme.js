(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();var V0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xv(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Qf={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function F0(){if(ty)return Nl;ty=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,r,l){var u=null;if(l!==void 0&&(u=""+l),r.key!==void 0&&(u=""+r.key),"key"in r){l={};for(var d in r)d!=="key"&&(l[d]=r[d])}else l=r;return r=l.ref,{$$typeof:i,type:s,key:u,ref:r!==void 0?r:null,props:l}}return Nl.Fragment=t,Nl.jsx=n,Nl.jsxs=n,Nl}var ey;function Y0(){return ey||(ey=1,Qf.exports=F0()),Qf.exports}var y=Y0(),Zf={exports:{}},ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function X0(){if(ny)return ne;ny=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.iterator;function w(R){return R===null||typeof R!="object"?null:(R=_&&R[_]||R["@@iterator"],typeof R=="function"?R:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,O={};function M(R,it,xt){this.props=R,this.context=it,this.refs=O,this.updater=xt||T}M.prototype.isReactComponent={},M.prototype.setState=function(R,it){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,it,"setState")},M.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function k(){}k.prototype=M.prototype;function G(R,it,xt){this.props=R,this.context=it,this.refs=O,this.updater=xt||T}var ot=G.prototype=new k;ot.constructor=G,C(ot,M.prototype),ot.isPureReactComponent=!0;var H=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function ht(R,it,xt,Q,_t,qt){return xt=qt.ref,{$$typeof:i,type:R,key:it,ref:xt!==void 0?xt:null,props:qt}}function ft(R,it){return ht(R.type,it,void 0,void 0,void 0,R.props)}function mt(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function Mt(R){var it={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(xt){return it[xt]})}var zt=/\/+/g;function kt(R,it){return typeof R=="object"&&R!==null&&R.key!=null?Mt(""+R.key):it.toString(36)}function Ot(){}function Xt(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Ot,Ot):(R.status="pending",R.then(function(it){R.status==="pending"&&(R.status="fulfilled",R.value=it)},function(it){R.status==="pending"&&(R.status="rejected",R.reason=it)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function Ht(R,it,xt,Q,_t){var qt=typeof R;(qt==="undefined"||qt==="boolean")&&(R=null);var Lt=!1;if(R===null)Lt=!0;else switch(qt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(R.$$typeof){case i:case t:Lt=!0;break;case b:return Lt=R._init,Ht(Lt(R._payload),it,xt,Q,_t)}}if(Lt)return _t=_t(R),Lt=Q===""?"."+kt(R,0):Q,H(_t)?(xt="",Lt!=null&&(xt=Lt.replace(zt,"$&/")+"/"),Ht(_t,it,xt,"",function(Ut){return Ut})):_t!=null&&(mt(_t)&&(_t=ft(_t,xt+(_t.key==null||R&&R.key===_t.key?"":(""+_t.key).replace(zt,"$&/")+"/")+Lt)),it.push(_t)),1;Lt=0;var Re=Q===""?".":Q+":";if(H(R))for(var de=0;de<R.length;de++)Q=R[de],qt=Re+kt(Q,de),Lt+=Ht(Q,it,xt,qt,_t);else if(de=w(R),typeof de=="function")for(R=de.call(R),de=0;!(Q=R.next()).done;)Q=Q.value,qt=Re+kt(Q,de++),Lt+=Ht(Q,it,xt,qt,_t);else if(qt==="object"){if(typeof R.then=="function")return Ht(Xt(R),it,xt,Q,_t);throw it=String(R),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function et(R,it,xt){if(R==null)return R;var Q=[],_t=0;return Ht(R,Q,"","",function(qt){return it.call(xt,qt,_t++)}),Q}function St(R){if(R._status===-1){var it=R._result;it=it(),it.then(function(xt){(R._status===0||R._status===-1)&&(R._status=1,R._result=xt)},function(xt){(R._status===0||R._status===-1)&&(R._status=2,R._result=xt)}),R._status===-1&&(R._status=0,R._result=it)}if(R._status===1)return R._result.default;throw R._result}var Rt=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function rt(){}return ne.Children={map:et,forEach:function(R,it,xt){et(R,function(){it.apply(this,arguments)},xt)},count:function(R){var it=0;return et(R,function(){it++}),it},toArray:function(R){return et(R,function(it){return it})||[]},only:function(R){if(!mt(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},ne.Component=M,ne.Fragment=n,ne.Profiler=r,ne.PureComponent=G,ne.StrictMode=s,ne.Suspense=f,ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,ne.__COMPILER_RUNTIME={__proto__:null,c:function(R){return $.H.useMemoCache(R)}},ne.cache=function(R){return function(){return R.apply(null,arguments)}},ne.cloneElement=function(R,it,xt){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var Q=C({},R.props),_t=R.key,qt=void 0;if(it!=null)for(Lt in it.ref!==void 0&&(qt=void 0),it.key!==void 0&&(_t=""+it.key),it)!J.call(it,Lt)||Lt==="key"||Lt==="__self"||Lt==="__source"||Lt==="ref"&&it.ref===void 0||(Q[Lt]=it[Lt]);var Lt=arguments.length-2;if(Lt===1)Q.children=xt;else if(1<Lt){for(var Re=Array(Lt),de=0;de<Lt;de++)Re[de]=arguments[de+2];Q.children=Re}return ht(R.type,_t,void 0,void 0,qt,Q)},ne.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:l,_context:R},R},ne.createElement=function(R,it,xt){var Q,_t={},qt=null;if(it!=null)for(Q in it.key!==void 0&&(qt=""+it.key),it)J.call(it,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(_t[Q]=it[Q]);var Lt=arguments.length-2;if(Lt===1)_t.children=xt;else if(1<Lt){for(var Re=Array(Lt),de=0;de<Lt;de++)Re[de]=arguments[de+2];_t.children=Re}if(R&&R.defaultProps)for(Q in Lt=R.defaultProps,Lt)_t[Q]===void 0&&(_t[Q]=Lt[Q]);return ht(R,qt,void 0,void 0,null,_t)},ne.createRef=function(){return{current:null}},ne.forwardRef=function(R){return{$$typeof:d,render:R}},ne.isValidElement=mt,ne.lazy=function(R){return{$$typeof:b,_payload:{_status:-1,_result:R},_init:St}},ne.memo=function(R,it){return{$$typeof:g,type:R,compare:it===void 0?null:it}},ne.startTransition=function(R){var it=$.T,xt={};$.T=xt;try{var Q=R(),_t=$.S;_t!==null&&_t(xt,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(rt,Rt)}catch(qt){Rt(qt)}finally{$.T=it}},ne.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},ne.use=function(R){return $.H.use(R)},ne.useActionState=function(R,it,xt){return $.H.useActionState(R,it,xt)},ne.useCallback=function(R,it){return $.H.useCallback(R,it)},ne.useContext=function(R){return $.H.useContext(R)},ne.useDebugValue=function(){},ne.useDeferredValue=function(R,it){return $.H.useDeferredValue(R,it)},ne.useEffect=function(R,it,xt){var Q=$.H;if(typeof xt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(R,it)},ne.useId=function(){return $.H.useId()},ne.useImperativeHandle=function(R,it,xt){return $.H.useImperativeHandle(R,it,xt)},ne.useInsertionEffect=function(R,it){return $.H.useInsertionEffect(R,it)},ne.useLayoutEffect=function(R,it){return $.H.useLayoutEffect(R,it)},ne.useMemo=function(R,it){return $.H.useMemo(R,it)},ne.useOptimistic=function(R,it){return $.H.useOptimistic(R,it)},ne.useReducer=function(R,it,xt){return $.H.useReducer(R,it,xt)},ne.useRef=function(R){return $.H.useRef(R)},ne.useState=function(R){return $.H.useState(R)},ne.useSyncExternalStore=function(R,it,xt){return $.H.useSyncExternalStore(R,it,xt)},ne.useTransition=function(){return $.H.useTransition()},ne.version="19.1.1",ne}var iy;function Bh(){return iy||(iy=1,Zf.exports=X0()),Zf.exports}var P=Bh();const Wv=Xv(P);var $f={exports:{}},Ll={},Jf={exports:{}},th={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function W0(){return ay||(ay=1,function(i){function t(et,St){var Rt=et.length;et.push(St);t:for(;0<Rt;){var rt=Rt-1>>>1,R=et[rt];if(0<r(R,St))et[rt]=St,et[Rt]=R,Rt=rt;else break t}}function n(et){return et.length===0?null:et[0]}function s(et){if(et.length===0)return null;var St=et[0],Rt=et.pop();if(Rt!==St){et[0]=Rt;t:for(var rt=0,R=et.length,it=R>>>1;rt<it;){var xt=2*(rt+1)-1,Q=et[xt],_t=xt+1,qt=et[_t];if(0>r(Q,Rt))_t<R&&0>r(qt,Q)?(et[rt]=qt,et[_t]=Rt,rt=_t):(et[rt]=Q,et[xt]=Rt,rt=xt);else if(_t<R&&0>r(qt,Rt))et[rt]=qt,et[_t]=Rt,rt=_t;else break t}}return St}function r(et,St){var Rt=et.sortIndex-St.sortIndex;return Rt!==0?Rt:et.id-St.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();i.unstable_now=function(){return u.now()-d}}var f=[],g=[],b=1,_=null,w=3,T=!1,C=!1,O=!1,M=!1,k=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function H(et){for(var St=n(g);St!==null;){if(St.callback===null)s(g);else if(St.startTime<=et)s(g),St.sortIndex=St.expirationTime,t(f,St);else break;St=n(g)}}function $(et){if(O=!1,H(et),!C)if(n(f)!==null)C=!0,J||(J=!0,kt());else{var St=n(g);St!==null&&Ht($,St.startTime-et)}}var J=!1,ht=-1,ft=5,mt=-1;function Mt(){return M?!0:!(i.unstable_now()-mt<ft)}function zt(){if(M=!1,J){var et=i.unstable_now();mt=et;var St=!0;try{t:{C=!1,O&&(O=!1,G(ht),ht=-1),T=!0;var Rt=w;try{e:{for(H(et),_=n(f);_!==null&&!(_.expirationTime>et&&Mt());){var rt=_.callback;if(typeof rt=="function"){_.callback=null,w=_.priorityLevel;var R=rt(_.expirationTime<=et);if(et=i.unstable_now(),typeof R=="function"){_.callback=R,H(et),St=!0;break e}_===n(f)&&s(f),H(et)}else s(f);_=n(f)}if(_!==null)St=!0;else{var it=n(g);it!==null&&Ht($,it.startTime-et),St=!1}}break t}finally{_=null,w=Rt,T=!1}St=void 0}}finally{St?kt():J=!1}}}var kt;if(typeof ot=="function")kt=function(){ot(zt)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,Xt=Ot.port2;Ot.port1.onmessage=zt,kt=function(){Xt.postMessage(null)}}else kt=function(){k(zt,0)};function Ht(et,St){ht=k(function(){et(i.unstable_now())},St)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(et){et.callback=null},i.unstable_forceFrameRate=function(et){0>et||125<et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ft=0<et?Math.floor(1e3/et):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(et){switch(w){case 1:case 2:case 3:var St=3;break;default:St=w}var Rt=w;w=St;try{return et()}finally{w=Rt}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(et,St){switch(et){case 1:case 2:case 3:case 4:case 5:break;default:et=3}var Rt=w;w=et;try{return St()}finally{w=Rt}},i.unstable_scheduleCallback=function(et,St,Rt){var rt=i.unstable_now();switch(typeof Rt=="object"&&Rt!==null?(Rt=Rt.delay,Rt=typeof Rt=="number"&&0<Rt?rt+Rt:rt):Rt=rt,et){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=Rt+R,et={id:b++,callback:St,priorityLevel:et,startTime:Rt,expirationTime:R,sortIndex:-1},Rt>rt?(et.sortIndex=Rt,t(g,et),n(f)===null&&et===n(g)&&(O?(G(ht),ht=-1):O=!0,Ht($,Rt-rt))):(et.sortIndex=R,t(f,et),C||T||(C=!0,J||(J=!0,kt()))),et},i.unstable_shouldYield=Mt,i.unstable_wrapCallback=function(et){var St=w;return function(){var Rt=w;w=St;try{return et.apply(this,arguments)}finally{w=Rt}}}}(th)),th}var sy;function I0(){return sy||(sy=1,Jf.exports=W0()),Jf.exports}var eh={exports:{}},wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function G0(){if(ry)return wn;ry=1;var i=Bh();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(f,g,b){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:f,containerInfo:g,implementation:b}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,wn.createPortal=function(f,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(f,g,null,b)},wn.flushSync=function(f){var g=u.T,b=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=g,s.p=b,s.d.f()}},wn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(f,g))},wn.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},wn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var b=g.as,_=d(b,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?s.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:T}):b==="script"&&s.d.X(f,{crossOrigin:_,integrity:w,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},wn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=d(g.as,g.crossOrigin);s.d.M(f,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(f)},wn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,_=d(b,g.crossOrigin);s.d.L(f,b,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},wn.preloadModule=function(f,g){if(typeof f=="string")if(g){var b=d(g.as,g.crossOrigin);s.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(f)},wn.requestFormReset=function(f){s.d.r(f)},wn.unstable_batchedUpdates=function(f,g){return f(g)},wn.useFormState=function(f,g,b){return u.H.useFormState(f,g,b)},wn.useFormStatus=function(){return u.H.useHostTransitionStatus()},wn.version="19.1.1",wn}var oy;function Q0(){if(oy)return eh.exports;oy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),eh.exports=G0(),eh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function Z0(){if(ly)return Ll;ly=1;var i=I0(),t=Bh(),n=Q0();function s(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function l(e){var a=e,o=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(o=a.return),e=a.return;while(e)}return a.tag===3?o:null}function u(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(s(188))}function f(e){var a=e.alternate;if(!a){if(a=l(e),a===null)throw Error(s(188));return a!==e?null:e}for(var o=e,c=a;;){var p=o.return;if(p===null)break;var v=p.alternate;if(v===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===o)return d(p),e;if(v===c)return d(p),a;v=v.sibling}throw Error(s(188))}if(o.return!==c.return)o=p,c=v;else{for(var E=!1,j=p.child;j;){if(j===o){E=!0,o=p,c=v;break}if(j===c){E=!0,c=p,o=v;break}j=j.sibling}if(!E){for(j=v.child;j;){if(j===o){E=!0,o=v,c=p;break}if(j===c){E=!0,c=v,o=p;break}j=j.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:a}function g(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=g(e),a!==null)return a;e=e.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),ht=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),mt=Symbol.for("react.activity"),Mt=Symbol.for("react.memo_cache_sentinel"),zt=Symbol.iterator;function kt(e){return e===null||typeof e!="object"?null:(e=zt&&e[zt]||e["@@iterator"],typeof e=="function"?e:null)}var Ot=Symbol.for("react.client.reference");function Xt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ot?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case M:return"Profiler";case O:return"StrictMode";case $:return"Suspense";case J:return"SuspenseList";case mt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case ot:return(e.displayName||"Context")+".Provider";case G:return(e._context.displayName||"Context")+".Consumer";case H:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ht:return a=e.displayName||null,a!==null?a:Xt(e.type)||"Memo";case ft:a=e._payload,e=e._init;try{return Xt(e(a))}catch{}}return null}var Ht=Array.isArray,et=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,St=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt={pending:!1,data:null,method:null,action:null},rt=[],R=-1;function it(e){return{current:e}}function xt(e){0>R||(e.current=rt[R],rt[R]=null,R--)}function Q(e,a){R++,rt[R]=e.current,e.current=a}var _t=it(null),qt=it(null),Lt=it(null),Re=it(null);function de(e,a){switch(Q(Lt,a),Q(qt,e),Q(_t,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?Cm(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=Cm(a),e=jm(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}xt(_t),Q(_t,e)}function Ut(){xt(_t),xt(qt),xt(Lt)}function It(e){e.memoizedState!==null&&Q(Re,e);var a=_t.current,o=jm(a,e.type);a!==o&&(Q(qt,e),Q(_t,o))}function Ne(e){qt.current===e&&(xt(_t),xt(qt)),Re.current===e&&(xt(Re),jl._currentValue=Rt)}var Gt=Object.prototype.hasOwnProperty,vn=i.unstable_scheduleCallback,Ds=i.unstable_cancelCallback,fn=i.unstable_shouldYield,Cs=i.unstable_requestPaint,Nn=i.unstable_now,Eo=i.unstable_getCurrentPriorityLevel,pr=i.unstable_ImmediatePriority,Oa=i.unstable_UserBlockingPriority,hn=i.unstable_NormalPriority,gr=i.unstable_LowPriority,fi=i.unstable_IdlePriority,js=i.log,Yi=i.unstable_setDisableYieldValue,Cn=null,Be=null;function Ln(e){if(typeof js=="function"&&Yi(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Cn,e)}catch{}}var Ye=Math.clz32?Math.clz32:hi,Ms=Math.log,ka=Math.LN2;function hi(e){return e>>>=0,e===0?32:31-(Ms(e)/ka|0)|0}var pi=256,st=4194304;function At(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vt(e,a,o){var c=e.pendingLanes;if(c===0)return 0;var p=0,v=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var j=c&134217727;return j!==0?(c=j&~v,c!==0?p=At(c):(E&=j,E!==0?p=At(E):o||(o=j&~e,o!==0&&(p=At(o))))):(j=c&~v,j!==0?p=At(j):E!==0?p=At(E):o||(o=c&~e,o!==0&&(p=At(o)))),p===0?0:a!==0&&a!==p&&(a&v)===0&&(v=p&-p,o=a&-a,v>=o||v===32&&(o&4194048)!==0)?a:p}function Ft(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function zn(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xi(){var e=pi;return pi<<=1,(pi&4194048)===0&&(pi=256),e}function Nt(){var e=st;return st<<=1,(st&62914560)===0&&(st=4194304),e}function Os(e){for(var a=[],o=0;31>o;o++)a.push(e);return a}function Ra(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ao(e,a,o,c,p,v){var E=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var j=e.entanglements,z=e.expirationTimes,nt=e.hiddenUpdates;for(o=E&~o;0<o;){var gt=31-Ye(o),bt=1<<gt;j[gt]=0,z[gt]=-1;var lt=nt[gt];if(lt!==null)for(nt[gt]=null,gt=0;gt<lt.length;gt++){var ct=lt[gt];ct!==null&&(ct.lane&=-536870913)}o&=~bt}c!==0&&To(e,c,0),v!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=v&~(E&~a))}function To(e,a,o){e.pendingLanes|=a,e.suspendedLanes&=~a;var c=31-Ye(a);e.entangledLanes|=a,e.entanglements[c]=e.entanglements[c]|1073741824|o&4194090}function mr(e,a){var o=e.entangledLanes|=a;for(e=e.entanglements;o;){var c=31-Ye(o),p=1<<c;p&a|e[c]&a&&(e[c]|=a),o&=~p}}function Do(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Co(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wi(){var e=St.p;return e!==0?e:(e=window.event,e===void 0?32:Im(e.type))}function Na(e,a){var o=St.p;try{return St.p=e,a()}finally{St.p=o}}var Zn=Math.random().toString(36).slice(2),Xe="__reactFiber$"+Zn,ae="__reactProps$"+Zn,je="__reactContainer$"+Zn,jo="__reactEvents$"+Zn,yr="__reactListeners$"+Zn,vr="__reactHandles$"+Zn,ks="__reactResources$"+Zn,Rs="__reactMarker$"+Zn;function $n(e){delete e[Xe],delete e[ae],delete e[jo],delete e[yr],delete e[vr]}function Kn(e){var a=e[Xe];if(a)return a;for(var o=e.parentNode;o;){if(a=o[je]||o[Xe]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(e=Rm(e);e!==null;){if(o=e[Xe])return o;e=Rm(e)}return a}e=o,o=e.parentNode}return null}function jn(e){if(e=e[Xe]||e[je]){var a=e.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return e}return null}function _i(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(s(33))}function La(e){var a=e[ks];return a||(a=e[ks]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ee(e){e[Rs]=!0}var Mo=new Set,Si={};function wi(e,a){Ei(e,a),Ei(e+"Capture",a)}function Ei(e,a){for(Si[e]=a,e=0;e<a.length;e++)Mo.add(a[e])}var Pe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ai={},Jn={};function uc(e){return Gt.call(Jn,e)?!0:Gt.call(Ai,e)?!1:Pe.test(e)?Jn[e]=!0:(Ai[e]=!0,!1)}function gi(e,a,o){if(uc(a))if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+o)}}function Ii(e,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+o)}}function Vn(e,a,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(a,o,""+c)}}var Ns,Ti;function Gi(e){if(Ns===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);Ns=a&&a[1]||"",Ti=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ns+e+Ti}var za=!1;function br(e,a){if(!e||za)return"";za=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var bt=function(){throw Error()};if(Object.defineProperty(bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(bt,[])}catch(ct){var lt=ct}Reflect.construct(e,[],bt)}else{try{bt.call()}catch(ct){lt=ct}e.call(bt.prototype)}}else{try{throw Error()}catch(ct){lt=ct}(bt=e())&&typeof bt.catch=="function"&&bt.catch(function(){})}}catch(ct){if(ct&&lt&&typeof ct.stack=="string")return[ct.stack,lt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),E=v[0],j=v[1];if(E&&j){var z=E.split(`
`),nt=j.split(`
`);for(p=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;p<nt.length&&!nt[p].includes("DetermineComponentFrameRoot");)p++;if(c===z.length||p===nt.length)for(c=z.length-1,p=nt.length-1;1<=c&&0<=p&&z[c]!==nt[p];)p--;for(;1<=c&&0<=p;c--,p--)if(z[c]!==nt[p]){if(c!==1||p!==1)do if(c--,p--,0>p||z[c]!==nt[p]){var gt=`
`+z[c].replace(" at new "," at ");return e.displayName&&gt.includes("<anonymous>")&&(gt=gt.replace("<anonymous>",e.displayName)),gt}while(1<=c&&0<=p);break}}}finally{za=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Gi(o):""}function oe(e){switch(e.tag){case 26:case 27:case 5:return Gi(e.type);case 16:return Gi("Lazy");case 13:return Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 15:return br(e.type,!1);case 11:return br(e.type.render,!1);case 1:return br(e.type,!0);case 31:return Gi("Activity");default:return""}}function Oo(e){try{var a="";do a+=oe(e),e=e.return;while(e);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Mn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ko(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ae(e){var a=ko(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,a),c=""+e[a];if(!e.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,v=o.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return p.call(this)},set:function(E){c=""+E,v.call(this,E)}}),Object.defineProperty(e,a,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function Di(e){e._valueTracker||(e._valueTracker=Ae(e))}function Ba(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var o=a.getValue(),c="";return e&&(c=ko(e)?e.checked?"true":"false":e.value),e=c,e!==o?(a.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ro=/[\n"\\]/g;function bn(e){return e.replace(Ro,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Pa(e,a,o,c,p,v,E,j){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),a!=null?E==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+Mn(a)):e.value!==""+Mn(a)&&(e.value=""+Mn(a)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),a!=null?Ha(e,E,Mn(a)):o!=null?Ha(e,E,Mn(o)):c!=null&&e.removeAttribute("value"),p==null&&v!=null&&(e.defaultChecked=!!v),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.name=""+Mn(j):e.removeAttribute("name")}function No(e,a,o,c,p,v,E,j){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.type=v),a!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||a!=null))return;o=o!=null?""+Mn(o):"",a=a!=null?""+Mn(a):o,j||a===e.value||(e.value=a),e.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=j?e.checked:!!c,e.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E)}function Ha(e,a,o){a==="number"&&mi(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function Qi(e,a,o,c){if(e=e.options,a){a={};for(var p=0;p<o.length;p++)a["$"+o[p]]=!0;for(o=0;o<e.length;o++)p=a.hasOwnProperty("$"+e[o].value),e[o].selected!==p&&(e[o].selected=p),p&&c&&(e[o].defaultSelected=!0)}else{for(o=""+Mn(o),a=null,p=0;p<e.length;p++){if(e[p].value===o){e[p].selected=!0,c&&(e[p].defaultSelected=!0);return}a!==null||e[p].disabled||(a=e[p])}a!==null&&(a.selected=!0)}}function Ua(e,a,o){if(a!=null&&(a=""+Mn(a),a!==e.value&&(e.value=a),o==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=o!=null?""+Mn(o):""}function Lo(e,a,o,c){if(a==null){if(c!=null){if(o!=null)throw Error(s(92));if(Ht(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),a=o}o=Mn(a),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c)}function qa(e,a){if(a){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=a;return}}e.textContent=a}var fe=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xr(e,a,o){var c=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":c?e.setProperty(a,o):typeof o!="number"||o===0||fe.has(a)?a==="float"?e.cssFloat=o:e[a]=(""+o).trim():e[a]=o+"px"}function dc(e,a,o){if(a!=null&&typeof a!="object")throw Error(s(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&o[p]!==c&&xr(e,p,c)}else for(var v in a)a.hasOwnProperty(v)&&xr(e,v,a[v])}function zo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var On=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ka=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zi(e){return Ka.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ti=null;function _r(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $i=null,Me=null;function Fn(e){var a=jn(e);if(a&&(e=a.stateNode)){var o=e[ae]||null;t:switch(e=a.stateNode,a.type){case"input":if(Pa(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+bn(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var c=o[a];if(c!==e&&c.form===e.form){var p=c[ae]||null;if(!p)throw Error(s(90));Pa(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<o.length;a++)c=o[a],c.form===e.form&&Ba(c)}break t;case"textarea":Ua(e,o.value,o.defaultValue);break t;case"select":a=o.value,a!=null&&Qi(e,!!o.multiple,a,!1)}}}var Ji=!1;function Va(e,a,o){if(Ji)return e(a,o);Ji=!0;try{var c=e(a);return c}finally{if(Ji=!1,($i!==null||Me!==null)&&(Jc(),$i&&(a=$i,e=Me,Me=$i=null,Fn(a),e)))for(a=0;a<e.length;a++)Fn(e[a])}}function ta(e,a){var o=e.stateNode;if(o===null)return null;var c=o[ae]||null;if(c===null)return null;o=c[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,a,typeof o));return o}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bo=!1;if(sn)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){Bo=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{Bo=!1}var ei=null,Sr=null,Fa=null;function Ya(){if(Fa)return Fa;var e,a=Sr,o=a.length,c,p="value"in ei?ei.value:ei.textContent,v=p.length;for(e=0;e<o&&a[e]===p[e];e++);var E=o-e;for(c=1;c<=E&&a[o-c]===p[v-c];c++);return Fa=p.slice(e,1<c?1-c:void 0)}function Xa(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function Ls(){return!0}function fc(){return!1}function Ze(e){function a(o,c,p,v,E){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(o=e[j],this[j]=o?o(v):v[j]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ls:fc,this.isPropagationStopped=fc,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),a}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wr=Ze(ea),Ci=b({},ea,{view:0,detail:0}),Er=Ze(Ci),zs,Po,Bs,Ar=b({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:na,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bs&&(Bs&&e.type==="mousemove"?(zs=e.screenX-Bs.screenX,Po=e.screenY-Bs.screenY):Po=zs=0,Bs=e),zs)},movementY:function(e){return"movementY"in e?e.movementY:Po}}),Tr=Ze(Ar),Ho=b({},Ar,{dataTransfer:0}),hc=Ze(Ho),Dr=b({},Ci,{relatedTarget:0}),Wa=Ze(Dr),Cr=b({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),pc=Ze(Cr),cd=b({},ea,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jr=Ze(cd),Uo=b({},ea,{data:0}),Mr=Ze(Uo),qo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ko={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ps(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=rn[e])?!!a[e]:!1}function na(){return Ps}var gc=b({},Ci,{key:function(e){if(e.key){var a=qo[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=Xa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ko[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:na,charCode:function(e){return e.type==="keypress"?Xa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Or=Ze(gc),mc=b({},Ar,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vo=Ze(mc),kr=b({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:na}),Fo=Ze(kr),ia=b({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yo=Ze(ia),Xo=b({},Ar,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rr=Ze(Xo),Wo=b({},ea,{newState:0,oldState:0}),yc=Ze(Wo),ud=[9,13,27,32],Hs=sn&&"CompositionEvent"in window,ji=null;sn&&"documentMode"in document&&(ji=document.documentMode);var dd=sn&&"TextEvent"in window&&!ji,Nr=sn&&(!Hs||ji&&8<ji&&11>=ji),Lr=" ",vc=!1;function Io(e,a){switch(e){case"keyup":return ud.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var aa=!1;function xc(e,a){switch(e){case"compositionend":return bc(a);case"keypress":return a.which!==32?null:(vc=!0,Lr);case"textInput":return e=a.data,e===Lr&&vc?null:e;default:return null}}function fd(e,a){if(aa)return e==="compositionend"||!Hs&&Io(e,a)?(e=Ya(),Fa=Sr=ei=null,aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Nr&&a.locale!=="ko"?null:a.data;default:return null}}var _c={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zr(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!_c[e.type]:a==="textarea"}function Go(e,a,o,c){$i?Me?Me.push(c):Me=[c]:$i=c,a=su(a,"onChange"),0<a.length&&(o=new wr("onChange","change",null,o,c),e.push({event:o,listeners:a}))}var Ia=null,Us=null;function hd(e){wm(e,0)}function Br(e){var a=_i(e);if(Ba(a))return e}function qs(e,a){if(e==="change")return a}var ni=!1;if(sn){var Oe;if(sn){var Ga="oninput"in document;if(!Ga){var kn=document.createElement("div");kn.setAttribute("oninput","return;"),Ga=typeof kn.oninput=="function"}Oe=Ga}else Oe=!1;ni=Oe&&(!document.documentMode||9<document.documentMode)}function Sc(){Ia&&(Ia.detachEvent("onpropertychange",Pr),Us=Ia=null)}function Pr(e){if(e.propertyName==="value"&&Br(Us)){var a=[];Go(a,Us,e,_r(e)),Va(hd,a)}}function wc(e,a,o){e==="focusin"?(Sc(),Ia=a,Us=o,Ia.attachEvent("onpropertychange",Pr)):e==="focusout"&&Sc()}function sa(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Br(Us)}function Qo(e,a){if(e==="click")return Br(a)}function Qa(e,a){if(e==="input"||e==="change")return Br(a)}function Mi(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var _n=typeof Object.is=="function"?Object.is:Mi;function h(e,a){if(_n(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var o=Object.keys(e),c=Object.keys(a);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Gt.call(a,p)||!_n(e[p],a[p]))return!1}return!0}function m(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function x(e,a){var o=m(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=a&&c>=a)return{node:o,offset:a-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=m(o)}}function S(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?S(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function A(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=mi(e.document);a instanceof e.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)e=a.contentWindow;else break;a=mi(e.document)}return a}function D(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var N=sn&&"documentMode"in document&&11>=document.documentMode,L=null,q=null,V=null,X=!1;function B(e,a,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;X||L==null||L!==mi(c)||(c=L,"selectionStart"in c&&D(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),V&&h(V,c)||(V=c,c=su(q,"onSelect"),0<c.length&&(a=new wr("onSelect","select",null,a,o),e.push({event:a,listeners:c}),a.target=L)))}function I(e,a){var o={};return o[e.toLowerCase()]=a.toLowerCase(),o["Webkit"+e]="webkit"+a,o["Moz"+e]="moz"+a,o}var U={animationend:I("Animation","AnimationEnd"),animationiteration:I("Animation","AnimationIteration"),animationstart:I("Animation","AnimationStart"),transitionrun:I("Transition","TransitionRun"),transitionstart:I("Transition","TransitionStart"),transitioncancel:I("Transition","TransitionCancel"),transitionend:I("Transition","TransitionEnd")},Y={},Z={};sn&&(Z=document.createElement("div").style,"AnimationEvent"in window||(delete U.animationend.animation,delete U.animationiteration.animation,delete U.animationstart.animation),"TransitionEvent"in window||delete U.transitionend.transition);function F(e){if(Y[e])return Y[e];if(!U[e])return e;var a=U[e],o;for(o in a)if(a.hasOwnProperty(o)&&o in Z)return Y[e]=a[o];return e}var at=F("animationend"),ut=F("animationiteration"),dt=F("animationstart"),pt=F("transitionrun"),Tt=F("transitionstart"),Ct=F("transitioncancel"),wt=F("transitionend"),Dt=new Map,jt="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jt.push("scrollEnd");function Et(e,a){Dt.set(e,a),wi(a,[e])}var Bt=new WeakMap;function Yt(e,a){if(typeof e=="object"&&e!==null){var o=Bt.get(e);return o!==void 0?o:(a={value:e,source:a,stack:Oo(a)},Bt.set(e,a),a)}return{value:e,source:a,stack:Oo(a)}}var Qt=[],ee=0,pn=0;function Jt(){for(var e=ee,a=pn=ee=0;a<e;){var o=Qt[a];Qt[a++]=null;var c=Qt[a];Qt[a++]=null;var p=Qt[a];Qt[a++]=null;var v=Qt[a];if(Qt[a++]=null,c!==null&&p!==null){var E=c.pending;E===null?p.next=p:(p.next=E.next,E.next=p),c.pending=p}v!==0&&on(o,p,v)}}function We(e,a,o,c){Qt[ee++]=e,Qt[ee++]=a,Qt[ee++]=o,Qt[ee++]=c,pn|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function $e(e,a,o,c){return We(e,a,o,c),ii(e)}function yi(e,a){return We(e,null,null,a),ii(e)}function on(e,a,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var p=!1,v=e.return;v!==null;)v.childLanes|=o,c=v.alternate,c!==null&&(c.childLanes|=o),v.tag===22&&(e=v.stateNode,e===null||e._visibility&1||(p=!0)),e=v,v=v.return;return e.tag===3?(v=e.stateNode,p&&a!==null&&(p=31-Ye(o),e=v.hiddenUpdates,c=e[p],c===null?e[p]=[a]:c.push(a),a.lane=o|536870912),v):null}function ii(e){if(50<_l)throw _l=0,xf=null,Error(s(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var Oi={};function Cx(e,a,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(e,a,o,c){return new Cx(e,a,o,c)}function pd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ra(e,a){var o=e.alternate;return o===null?(o=Yn(e.tag,a,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=a,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,a=e.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function lp(e,a){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,a=o.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function Ec(e,a,o,c,p,v){var E=0;if(c=e,typeof e=="function")pd(e)&&(E=1);else if(typeof e=="string")E=M0(e,o,_t.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case mt:return e=Yn(31,o,a,p),e.elementType=mt,e.lanes=v,e;case C:return Ks(o.children,p,v,a);case O:E=8,p|=24;break;case M:return e=Yn(12,o,a,p|2),e.elementType=M,e.lanes=v,e;case $:return e=Yn(13,o,a,p),e.elementType=$,e.lanes=v,e;case J:return e=Yn(19,o,a,p),e.elementType=J,e.lanes=v,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:case ot:E=10;break t;case G:E=9;break t;case H:E=11;break t;case ht:E=14;break t;case ft:E=16,c=null;break t}E=29,o=Error(s(130,e===null?"null":typeof e,"")),c=null}return a=Yn(E,o,a,p),a.elementType=e,a.type=c,a.lanes=v,a}function Ks(e,a,o,c){return e=Yn(7,e,c,a),e.lanes=o,e}function gd(e,a,o){return e=Yn(6,e,null,a),e.lanes=o,e}function md(e,a,o){return a=Yn(4,e.children!==null?e.children:[],e.key,a),a.lanes=o,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var Hr=[],Ur=0,Ac=null,Tc=0,ai=[],si=0,Vs=null,oa=1,la="";function Fs(e,a){Hr[Ur++]=Tc,Hr[Ur++]=Ac,Ac=e,Tc=a}function cp(e,a,o){ai[si++]=oa,ai[si++]=la,ai[si++]=Vs,Vs=e;var c=oa;e=la;var p=32-Ye(c)-1;c&=~(1<<p),o+=1;var v=32-Ye(a)+p;if(30<v){var E=p-p%5;v=(c&(1<<E)-1).toString(32),c>>=E,p-=E,oa=1<<32-Ye(a)+p|o<<p|c,la=v+e}else oa=1<<v|o<<p|c,la=e}function yd(e){e.return!==null&&(Fs(e,1),cp(e,1,0))}function vd(e){for(;e===Ac;)Ac=Hr[--Ur],Hr[Ur]=null,Tc=Hr[--Ur],Hr[Ur]=null;for(;e===Vs;)Vs=ai[--si],ai[si]=null,la=ai[--si],ai[si]=null,oa=ai[--si],ai[si]=null}var Rn=null,qe=null,ye=!1,Ys=null,ki=!1,bd=Error(s(519));function Xs(e){var a=Error(s(418,""));throw Jo(Yt(a,e)),bd}function up(e){var a=e.stateNode,o=e.type,c=e.memoizedProps;switch(a[Xe]=e,a[ae]=c,o){case"dialog":ce("cancel",a),ce("close",a);break;case"iframe":case"object":case"embed":ce("load",a);break;case"video":case"audio":for(o=0;o<wl.length;o++)ce(wl[o],a);break;case"source":ce("error",a);break;case"img":case"image":case"link":ce("error",a),ce("load",a);break;case"details":ce("toggle",a);break;case"input":ce("invalid",a),No(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Di(a);break;case"select":ce("invalid",a);break;case"textarea":ce("invalid",a),Lo(a,c.value,c.defaultValue,c.children),Di(a)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||c.suppressHydrationWarning===!0||Dm(a.textContent,o)?(c.popover!=null&&(ce("beforetoggle",a),ce("toggle",a)),c.onScroll!=null&&ce("scroll",a),c.onScrollEnd!=null&&ce("scrollend",a),c.onClick!=null&&(a.onclick=ru),a=!0):a=!1,a||Xs(e)}function dp(e){for(Rn=e.return;Rn;)switch(Rn.tag){case 5:case 13:ki=!1;return;case 27:case 3:ki=!0;return;default:Rn=Rn.return}}function Zo(e){if(e!==Rn)return!1;if(!ye)return dp(e),ye=!0,!1;var a=e.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||zf(e.type,e.memoizedProps)),o=!o),o&&qe&&Xs(e),dp(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,a=0;e;){if(e.nodeType===8)if(o=e.data,o==="/$"){if(a===0){qe=bi(e.nextSibling);break t}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;e=e.nextSibling}qe=null}}else a===27?(a=qe,fs(e.type)?(e=Uf,Uf=null,qe=e):qe=a):qe=Rn?bi(e.stateNode.nextSibling):null;return!0}function $o(){qe=Rn=null,ye=!1}function fp(){var e=Ys;return e!==null&&(Hn===null?Hn=e:Hn.push.apply(Hn,e),Ys=null),e}function Jo(e){Ys===null?Ys=[e]:Ys.push(e)}var xd=it(null),Ws=null,ca=null;function Za(e,a,o){Q(xd,a._currentValue),a._currentValue=o}function ua(e){e._currentValue=xd.current,xt(xd)}function _d(e,a,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),e===o)break;e=e.return}}function Sd(e,a,o,c){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var v=p.dependencies;if(v!==null){var E=p.child;v=v.firstContext;t:for(;v!==null;){var j=v;v=p;for(var z=0;z<a.length;z++)if(j.context===a[z]){v.lanes|=o,j=v.alternate,j!==null&&(j.lanes|=o),_d(v.return,o,e),c||(E=null);break t}v=j.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(s(341));E.lanes|=o,v=E.alternate,v!==null&&(v.lanes|=o),_d(E,o,e),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===e){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function tl(e,a,o,c){e=null;for(var p=a,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var j=p.type;_n(p.pendingProps.value,E.value)||(e!==null?e.push(j):e=[j])}}else if(p===Re.current){if(E=p.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(jl):e=[jl])}p=p.return}e!==null&&Sd(a,e,o,c),a.flags|=262144}function Dc(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Is(e){Ws=e,ca=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Sn(e){return hp(Ws,e)}function Cc(e,a){return Ws===null&&Is(e),hp(e,a)}function hp(e,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},ca===null){if(e===null)throw Error(s(308));ca=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else ca=ca.next=a;return o}var jx=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){a.aborted=!0,e.forEach(function(o){return o()})}},Mx=i.unstable_scheduleCallback,Ox=i.unstable_NormalPriority,en={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wd(){return{controller:new jx,data:new Map,refCount:0}}function el(e){e.refCount--,e.refCount===0&&Mx(Ox,function(){e.controller.abort()})}var nl=null,Ed=0,qr=0,Kr=null;function kx(e,a){if(nl===null){var o=nl=[];Ed=0,qr=Df(),Kr={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Ed++,a.then(pp,pp),a}function pp(){if(--Ed===0&&nl!==null){Kr!==null&&(Kr.status="fulfilled");var e=nl;nl=null,qr=0,Kr=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function Rx(e,a){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return e.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<o.length;p++)(0,o[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var gp=et.S;et.S=function(e,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&kx(e,a),gp!==null&&gp(e,a)};var Gs=it(null);function Ad(){var e=Gs.current;return e!==null?e:De.pooledCache}function jc(e,a){a===null?Q(Gs,Gs.current):Q(Gs,a.pool)}function mp(){var e=Ad();return e===null?null:{parent:en._currentValue,pool:e}}var il=Error(s(460)),yp=Error(s(474)),Mc=Error(s(542)),Td={then:function(){}};function vp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Oc(){}function bp(e,a,o){switch(o=e[o],o===void 0?e.push(a):o!==a&&(a.then(Oc,Oc),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,_p(e),e;default:if(typeof a.status=="string")a.then(Oc,Oc);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=a,e.status="pending",e.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,_p(e),e}throw al=a,il}}var al=null;function xp(){if(al===null)throw Error(s(459));var e=al;return al=null,e}function _p(e){if(e===il||e===Mc)throw Error(s(483))}var $a=!1;function Dd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cd(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ja(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ts(e,a,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(ve&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=ii(e),on(e,null,o),a}return We(e,c,a,o),ii(e)}function sl(e,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var c=a.lanes;c&=e.pendingLanes,o|=c,a.lanes=o,mr(e,o)}}function jd(e,a){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?p=v=E:v=v.next=E,o=o.next}while(o!==null);v===null?p=v=a:v=v.next=a}else p=v=a;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=a:e.next=a,o.lastBaseUpdate=a}var Md=!1;function rl(){if(Md){var e=Kr;if(e!==null)throw e}}function ol(e,a,o,c){Md=!1;var p=e.updateQueue;$a=!1;var v=p.firstBaseUpdate,E=p.lastBaseUpdate,j=p.shared.pending;if(j!==null){p.shared.pending=null;var z=j,nt=z.next;z.next=null,E===null?v=nt:E.next=nt,E=z;var gt=e.alternate;gt!==null&&(gt=gt.updateQueue,j=gt.lastBaseUpdate,j!==E&&(j===null?gt.firstBaseUpdate=nt:j.next=nt,gt.lastBaseUpdate=z))}if(v!==null){var bt=p.baseState;E=0,gt=nt=z=null,j=v;do{var lt=j.lane&-536870913,ct=lt!==j.lane;if(ct?(he&lt)===lt:(c&lt)===lt){lt!==0&&lt===qr&&(Md=!0),gt!==null&&(gt=gt.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});t:{var te=e,Zt=j;lt=a;var we=o;switch(Zt.tag){case 1:if(te=Zt.payload,typeof te=="function"){bt=te.call(we,bt,lt);break t}bt=te;break t;case 3:te.flags=te.flags&-65537|128;case 0:if(te=Zt.payload,lt=typeof te=="function"?te.call(we,bt,lt):te,lt==null)break t;bt=b({},bt,lt);break t;case 2:$a=!0}}lt=j.callback,lt!==null&&(e.flags|=64,ct&&(e.flags|=8192),ct=p.callbacks,ct===null?p.callbacks=[lt]:ct.push(lt))}else ct={lane:lt,tag:j.tag,payload:j.payload,callback:j.callback,next:null},gt===null?(nt=gt=ct,z=bt):gt=gt.next=ct,E|=lt;if(j=j.next,j===null){if(j=p.shared.pending,j===null)break;ct=j,j=ct.next,ct.next=null,p.lastBaseUpdate=ct,p.shared.pending=null}}while(!0);gt===null&&(z=bt),p.baseState=z,p.firstBaseUpdate=nt,p.lastBaseUpdate=gt,v===null&&(p.shared.lanes=0),ls|=E,e.lanes=E,e.memoizedState=bt}}function Sp(e,a){if(typeof e!="function")throw Error(s(191,e));e.call(a)}function wp(e,a){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Sp(o[e],a)}var Vr=it(null),kc=it(0);function Ep(e,a){e=ya,Q(kc,e),Q(Vr,a),ya=e|a.baseLanes}function Od(){Q(kc,ya),Q(Vr,Vr.current)}function kd(){ya=kc.current,xt(Vr),xt(kc)}var es=0,se=null,_e=null,Je=null,Rc=!1,Fr=!1,Qs=!1,Nc=0,ll=0,Yr=null,Nx=0;function Ie(){throw Error(s(321))}function Rd(e,a){if(a===null)return!1;for(var o=0;o<a.length&&o<e.length;o++)if(!_n(e[o],a[o]))return!1;return!0}function Nd(e,a,o,c,p,v){return es=v,se=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,et.H=e===null||e.memoizedState===null?og:lg,Qs=!1,v=o(c,p),Qs=!1,Fr&&(v=Tp(a,o,c,p)),Ap(e),v}function Ap(e){et.H=Uc;var a=_e!==null&&_e.next!==null;if(es=0,Je=_e=se=null,Rc=!1,ll=0,Yr=null,a)throw Error(s(300));e===null||ln||(e=e.dependencies,e!==null&&Dc(e)&&(ln=!0))}function Tp(e,a,o,c){se=e;var p=0;do{if(Fr&&(Yr=null),ll=0,Fr=!1,25<=p)throw Error(s(301));if(p+=1,Je=_e=null,e.updateQueue!=null){var v=e.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}et.H=qx,v=a(o,c)}while(Fr);return v}function Lx(){var e=et.H,a=e.useState()[0];return a=typeof a.then=="function"?cl(a):a,e=e.useState()[0],(_e!==null?_e.memoizedState:null)!==e&&(se.flags|=1024),a}function Ld(){var e=Nc!==0;return Nc=0,e}function zd(e,a,o){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~o}function Bd(e){if(Rc){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}Rc=!1}es=0,Je=_e=se=null,Fr=!1,ll=Nc=0,Yr=null}function Bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?se.memoizedState=Je=e:Je=Je.next=e,Je}function tn(){if(_e===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var a=Je===null?se.memoizedState:Je.next;if(a!==null)Je=a,_e=e;else{if(e===null)throw se.alternate===null?Error(s(467)):Error(s(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Je===null?se.memoizedState=Je=e:Je=Je.next=e}return Je}function Pd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(e){var a=ll;return ll+=1,Yr===null&&(Yr=[]),e=bp(Yr,e,a),a=se,(Je===null?a.memoizedState:Je.next)===null&&(a=a.alternate,et.H=a===null||a.memoizedState===null?og:lg),e}function Lc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cl(e);if(e.$$typeof===ot)return Sn(e)}throw Error(s(438,String(e)))}function Hd(e){var a=null,o=se.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var c=se.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Pd(),se.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(e),c=0;c<e;c++)o[c]=Mt;return a.index++,o}function da(e,a){return typeof a=="function"?a(e):a}function zc(e){var a=tn();return Ud(a,_e,e)}function Ud(e,a,o){var c=e.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var p=e.baseQueue,v=c.pending;if(v!==null){if(p!==null){var E=p.next;p.next=v.next,v.next=E}a.baseQueue=p=v,c.pending=null}if(v=e.baseState,p===null)e.memoizedState=v;else{a=p.next;var j=E=null,z=null,nt=a,gt=!1;do{var bt=nt.lane&-536870913;if(bt!==nt.lane?(he&bt)===bt:(es&bt)===bt){var lt=nt.revertLane;if(lt===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),bt===qr&&(gt=!0);else if((es&lt)===lt){nt=nt.next,lt===qr&&(gt=!0);continue}else bt={lane:0,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},z===null?(j=z=bt,E=v):z=z.next=bt,se.lanes|=lt,ls|=lt;bt=nt.action,Qs&&o(v,bt),v=nt.hasEagerState?nt.eagerState:o(v,bt)}else lt={lane:bt,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},z===null?(j=z=lt,E=v):z=z.next=lt,se.lanes|=bt,ls|=bt;nt=nt.next}while(nt!==null&&nt!==a);if(z===null?E=v:z.next=j,!_n(v,e.memoizedState)&&(ln=!0,gt&&(o=Kr,o!==null)))throw o;e.memoizedState=v,e.baseState=E,e.baseQueue=z,c.lastRenderedState=v}return p===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function qd(e){var a=tn(),o=a.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var c=o.dispatch,p=o.pending,v=a.memoizedState;if(p!==null){o.pending=null;var E=p=p.next;do v=e(v,E.action),E=E.next;while(E!==p);_n(v,a.memoizedState)||(ln=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),o.lastRenderedState=v}return[v,c]}function Dp(e,a,o){var c=se,p=tn(),v=ye;if(v){if(o===void 0)throw Error(s(407));o=o()}else o=a();var E=!_n((_e||p).memoizedState,o);E&&(p.memoizedState=o,ln=!0),p=p.queue;var j=Mp.bind(null,c,p,e);if(ul(2048,8,j,[e]),p.getSnapshot!==a||E||Je!==null&&Je.memoizedState.tag&1){if(c.flags|=2048,Xr(9,Bc(),jp.bind(null,c,p,o,a),null),De===null)throw Error(s(349));v||(es&124)!==0||Cp(c,a,o)}return o}function Cp(e,a,o){e.flags|=16384,e={getSnapshot:a,value:o},a=se.updateQueue,a===null?(a=Pd(),se.updateQueue=a,a.stores=[e]):(o=a.stores,o===null?a.stores=[e]:o.push(e))}function jp(e,a,o,c){a.value=o,a.getSnapshot=c,Op(a)&&kp(e)}function Mp(e,a,o){return o(function(){Op(a)&&kp(e)})}function Op(e){var a=e.getSnapshot;e=e.value;try{var o=a();return!_n(e,o)}catch{return!0}}function kp(e){var a=yi(e,2);a!==null&&Qn(a,e,2)}function Kd(e){var a=Bn();if(typeof e=="function"){var o=e;if(e=o(),Qs){Ln(!0);try{o()}finally{Ln(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:e},a}function Rp(e,a,o,c){return e.baseState=o,Ud(e,_e,typeof c=="function"?c:da)}function zx(e,a,o,c,p){if(Hc(e))throw Error(s(485));if(e=a.action,e!==null){var v={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};et.T!==null?o(!0):v.isTransition=!1,c(v),o=a.pending,o===null?(v.next=a.pending=v,Np(a,v)):(v.next=o.next,a.pending=o.next=v)}}function Np(e,a){var o=a.action,c=a.payload,p=e.state;if(a.isTransition){var v=et.T,E={};et.T=E;try{var j=o(p,c),z=et.S;z!==null&&z(E,j),Lp(e,a,j)}catch(nt){Vd(e,a,nt)}finally{et.T=v}}else try{v=o(p,c),Lp(e,a,v)}catch(nt){Vd(e,a,nt)}}function Lp(e,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){zp(e,a,c)},function(c){return Vd(e,a,c)}):zp(e,a,o)}function zp(e,a,o){a.status="fulfilled",a.value=o,Bp(a),e.state=o,a=e.pending,a!==null&&(o=a.next,o===a?e.pending=null:(o=o.next,a.next=o,Np(e,o)))}function Vd(e,a,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=o,Bp(a),a=a.next;while(a!==c)}e.action=null}function Bp(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function Pp(e,a){return a}function Hp(e,a){if(ye){var o=De.formState;if(o!==null){t:{var c=se;if(ye){if(qe){e:{for(var p=qe,v=ki;p.nodeType!==8;){if(!v){p=null;break e}if(p=bi(p.nextSibling),p===null){p=null;break e}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){qe=bi(p.nextSibling),c=p.data==="F!";break t}}Xs(c)}c=!1}c&&(a=o[0])}}return o=Bn(),o.memoizedState=o.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pp,lastRenderedState:a},o.queue=c,o=ag.bind(null,se,c),c.dispatch=o,c=Kd(!1),v=Id.bind(null,se,!1,c.queue),c=Bn(),p={state:a,dispatch:null,action:e,pending:null},c.queue=p,o=zx.bind(null,se,p,v,o),p.dispatch=o,c.memoizedState=e,[a,o,!1]}function Up(e){var a=tn();return qp(a,_e,e)}function qp(e,a,o){if(a=Ud(e,a,Pp)[0],e=zc(da)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=cl(a)}catch(E){throw E===il?Mc:E}else c=a;a=tn();var p=a.queue,v=p.dispatch;return o!==a.memoizedState&&(se.flags|=2048,Xr(9,Bc(),Bx.bind(null,p,o),null)),[c,v,e]}function Bx(e,a){e.action=a}function Kp(e){var a=tn(),o=_e;if(o!==null)return qp(a,o,e);tn(),a=a.memoizedState,o=tn();var c=o.queue.dispatch;return o.memoizedState=e,[a,c,!1]}function Xr(e,a,o,c){return e={tag:e,create:o,deps:c,inst:a,next:null},a=se.updateQueue,a===null&&(a=Pd(),se.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,a.lastEffect=e),e}function Bc(){return{destroy:void 0,resource:void 0}}function Vp(){return tn().memoizedState}function Pc(e,a,o,c){var p=Bn();c=c===void 0?null:c,se.flags|=e,p.memoizedState=Xr(1|a,Bc(),o,c)}function ul(e,a,o,c){var p=tn();c=c===void 0?null:c;var v=p.memoizedState.inst;_e!==null&&c!==null&&Rd(c,_e.memoizedState.deps)?p.memoizedState=Xr(a,v,o,c):(se.flags|=e,p.memoizedState=Xr(1|a,v,o,c))}function Fp(e,a){Pc(8390656,8,e,a)}function Yp(e,a){ul(2048,8,e,a)}function Xp(e,a){return ul(4,2,e,a)}function Wp(e,a){return ul(4,4,e,a)}function Ip(e,a){if(typeof a=="function"){e=e();var o=a(e);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function Gp(e,a,o){o=o!=null?o.concat([e]):null,ul(4,4,Ip.bind(null,a,e),o)}function Fd(){}function Qp(e,a){var o=tn();a=a===void 0?null:a;var c=o.memoizedState;return a!==null&&Rd(a,c[1])?c[0]:(o.memoizedState=[e,a],e)}function Zp(e,a){var o=tn();a=a===void 0?null:a;var c=o.memoizedState;if(a!==null&&Rd(a,c[1]))return c[0];if(c=e(),Qs){Ln(!0);try{e()}finally{Ln(!1)}}return o.memoizedState=[c,a],c}function Yd(e,a,o){return o===void 0||(es&1073741824)!==0?e.memoizedState=a:(e.memoizedState=o,e=tm(),se.lanes|=e,ls|=e,o)}function $p(e,a,o,c){return _n(o,a)?o:Vr.current!==null?(e=Yd(e,o,c),_n(e,a)||(ln=!0),e):(es&42)===0?(ln=!0,e.memoizedState=o):(e=tm(),se.lanes|=e,ls|=e,a)}function Jp(e,a,o,c,p){var v=St.p;St.p=v!==0&&8>v?v:8;var E=et.T,j={};et.T=j,Id(e,!1,a,o);try{var z=p(),nt=et.S;if(nt!==null&&nt(j,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var gt=Rx(z,c);dl(e,a,gt,Gn(e))}else dl(e,a,c,Gn(e))}catch(bt){dl(e,a,{then:function(){},status:"rejected",reason:bt},Gn())}finally{St.p=v,et.T=E}}function Px(){}function Xd(e,a,o,c){if(e.tag!==5)throw Error(s(476));var p=tg(e).queue;Jp(e,p,a,Rt,o===null?Px:function(){return eg(e),o(c)})}function tg(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:Rt,baseState:Rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:Rt},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:o},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function eg(e){var a=tg(e).next.queue;dl(e,a,{},Gn())}function Wd(){return Sn(jl)}function ng(){return tn().memoizedState}function ig(){return tn().memoizedState}function Hx(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var o=Gn();e=Ja(o);var c=ts(a,e,o);c!==null&&(Qn(c,a,o),sl(c,a,o)),a={cache:wd()},e.payload=a;return}a=a.return}}function Ux(e,a,o){var c=Gn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Hc(e)?sg(a,o):(o=$e(e,a,o,c),o!==null&&(Qn(o,e,c),rg(o,a,c)))}function ag(e,a,o){var c=Gn();dl(e,a,o,c)}function dl(e,a,o,c){var p={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Hc(e))sg(a,p);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var E=a.lastRenderedState,j=v(E,o);if(p.hasEagerState=!0,p.eagerState=j,_n(j,E))return We(e,a,p,0),De===null&&Jt(),!1}catch{}finally{}if(o=$e(e,a,p,c),o!==null)return Qn(o,e,c),rg(o,a,c),!0}return!1}function Id(e,a,o,c){if(c={lane:2,revertLane:Df(),action:c,hasEagerState:!1,eagerState:null,next:null},Hc(e)){if(a)throw Error(s(479))}else a=$e(e,o,c,2),a!==null&&Qn(a,e,2)}function Hc(e){var a=e.alternate;return e===se||a!==null&&a===se}function sg(e,a){Fr=Rc=!0;var o=e.pending;o===null?a.next=a:(a.next=o.next,o.next=a),e.pending=a}function rg(e,a,o){if((o&4194048)!==0){var c=a.lanes;c&=e.pendingLanes,o|=c,a.lanes=o,mr(e,o)}}var Uc={readContext:Sn,use:Lc,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie},og={readContext:Sn,use:Lc,useCallback:function(e,a){return Bn().memoizedState=[e,a===void 0?null:a],e},useContext:Sn,useEffect:Fp,useImperativeHandle:function(e,a,o){o=o!=null?o.concat([e]):null,Pc(4194308,4,Ip.bind(null,a,e),o)},useLayoutEffect:function(e,a){return Pc(4194308,4,e,a)},useInsertionEffect:function(e,a){Pc(4,2,e,a)},useMemo:function(e,a){var o=Bn();a=a===void 0?null:a;var c=e();if(Qs){Ln(!0);try{e()}finally{Ln(!1)}}return o.memoizedState=[c,a],c},useReducer:function(e,a,o){var c=Bn();if(o!==void 0){var p=o(a);if(Qs){Ln(!0);try{o(a)}finally{Ln(!1)}}}else p=a;return c.memoizedState=c.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},c.queue=e,e=e.dispatch=Ux.bind(null,se,e),[c.memoizedState,e]},useRef:function(e){var a=Bn();return e={current:e},a.memoizedState=e},useState:function(e){e=Kd(e);var a=e.queue,o=ag.bind(null,se,a);return a.dispatch=o,[e.memoizedState,o]},useDebugValue:Fd,useDeferredValue:function(e,a){var o=Bn();return Yd(o,e,a)},useTransition:function(){var e=Kd(!1);return e=Jp.bind(null,se,e.queue,!0,!1),Bn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,o){var c=se,p=Bn();if(ye){if(o===void 0)throw Error(s(407));o=o()}else{if(o=a(),De===null)throw Error(s(349));(he&124)!==0||Cp(c,a,o)}p.memoizedState=o;var v={value:o,getSnapshot:a};return p.queue=v,Fp(Mp.bind(null,c,v,e),[e]),c.flags|=2048,Xr(9,Bc(),jp.bind(null,c,v,o,a),null),o},useId:function(){var e=Bn(),a=De.identifierPrefix;if(ye){var o=la,c=oa;o=(c&~(1<<32-Ye(c)-1)).toString(32)+o,a=""+a+"R"+o,o=Nc++,0<o&&(a+="H"+o.toString(32)),a+=""}else o=Nx++,a=""+a+"r"+o.toString(32)+"";return e.memoizedState=a},useHostTransitionStatus:Wd,useFormState:Hp,useActionState:Hp,useOptimistic:function(e){var a=Bn();a.memoizedState=a.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=Id.bind(null,se,!0,o),o.dispatch=a,[e,a]},useMemoCache:Hd,useCacheRefresh:function(){return Bn().memoizedState=Hx.bind(null,se)}},lg={readContext:Sn,use:Lc,useCallback:Qp,useContext:Sn,useEffect:Yp,useImperativeHandle:Gp,useInsertionEffect:Xp,useLayoutEffect:Wp,useMemo:Zp,useReducer:zc,useRef:Vp,useState:function(){return zc(da)},useDebugValue:Fd,useDeferredValue:function(e,a){var o=tn();return $p(o,_e.memoizedState,e,a)},useTransition:function(){var e=zc(da)[0],a=tn().memoizedState;return[typeof e=="boolean"?e:cl(e),a]},useSyncExternalStore:Dp,useId:ng,useHostTransitionStatus:Wd,useFormState:Up,useActionState:Up,useOptimistic:function(e,a){var o=tn();return Rp(o,_e,e,a)},useMemoCache:Hd,useCacheRefresh:ig},qx={readContext:Sn,use:Lc,useCallback:Qp,useContext:Sn,useEffect:Yp,useImperativeHandle:Gp,useInsertionEffect:Xp,useLayoutEffect:Wp,useMemo:Zp,useReducer:qd,useRef:Vp,useState:function(){return qd(da)},useDebugValue:Fd,useDeferredValue:function(e,a){var o=tn();return _e===null?Yd(o,e,a):$p(o,_e.memoizedState,e,a)},useTransition:function(){var e=qd(da)[0],a=tn().memoizedState;return[typeof e=="boolean"?e:cl(e),a]},useSyncExternalStore:Dp,useId:ng,useHostTransitionStatus:Wd,useFormState:Kp,useActionState:Kp,useOptimistic:function(e,a){var o=tn();return _e!==null?Rp(o,_e,e,a):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Hd,useCacheRefresh:ig},Wr=null,fl=0;function qc(e){var a=fl;return fl+=1,Wr===null&&(Wr=[]),bp(Wr,e,a)}function hl(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function Kc(e,a){throw a.$$typeof===_?Error(s(525)):(e=Object.prototype.toString.call(a),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function cg(e){var a=e._init;return a(e._payload)}function ug(e){function a(W,K){if(e){var tt=W.deletions;tt===null?(W.deletions=[K],W.flags|=16):tt.push(K)}}function o(W,K){if(!e)return null;for(;K!==null;)a(W,K),K=K.sibling;return null}function c(W){for(var K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function p(W,K){return W=ra(W,K),W.index=0,W.sibling=null,W}function v(W,K,tt){return W.index=tt,e?(tt=W.alternate,tt!==null?(tt=tt.index,tt<K?(W.flags|=67108866,K):tt):(W.flags|=67108866,K)):(W.flags|=1048576,K)}function E(W){return e&&W.alternate===null&&(W.flags|=67108866),W}function j(W,K,tt,yt){return K===null||K.tag!==6?(K=gd(tt,W.mode,yt),K.return=W,K):(K=p(K,tt),K.return=W,K)}function z(W,K,tt,yt){var Kt=tt.type;return Kt===C?gt(W,K,tt.props.children,yt,tt.key):K!==null&&(K.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===ft&&cg(Kt)===K.type)?(K=p(K,tt.props),hl(K,tt),K.return=W,K):(K=Ec(tt.type,tt.key,tt.props,null,W.mode,yt),hl(K,tt),K.return=W,K)}function nt(W,K,tt,yt){return K===null||K.tag!==4||K.stateNode.containerInfo!==tt.containerInfo||K.stateNode.implementation!==tt.implementation?(K=md(tt,W.mode,yt),K.return=W,K):(K=p(K,tt.children||[]),K.return=W,K)}function gt(W,K,tt,yt,Kt){return K===null||K.tag!==7?(K=Ks(tt,W.mode,yt,Kt),K.return=W,K):(K=p(K,tt),K.return=W,K)}function bt(W,K,tt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=gd(""+K,W.mode,tt),K.return=W,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return tt=Ec(K.type,K.key,K.props,null,W.mode,tt),hl(tt,K),tt.return=W,tt;case T:return K=md(K,W.mode,tt),K.return=W,K;case ft:var yt=K._init;return K=yt(K._payload),bt(W,K,tt)}if(Ht(K)||kt(K))return K=Ks(K,W.mode,tt,null),K.return=W,K;if(typeof K.then=="function")return bt(W,qc(K),tt);if(K.$$typeof===ot)return bt(W,Cc(W,K),tt);Kc(W,K)}return null}function lt(W,K,tt,yt){var Kt=K!==null?K.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return Kt!==null?null:j(W,K,""+tt,yt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case w:return tt.key===Kt?z(W,K,tt,yt):null;case T:return tt.key===Kt?nt(W,K,tt,yt):null;case ft:return Kt=tt._init,tt=Kt(tt._payload),lt(W,K,tt,yt)}if(Ht(tt)||kt(tt))return Kt!==null?null:gt(W,K,tt,yt,null);if(typeof tt.then=="function")return lt(W,K,qc(tt),yt);if(tt.$$typeof===ot)return lt(W,K,Cc(W,tt),yt);Kc(W,tt)}return null}function ct(W,K,tt,yt,Kt){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return W=W.get(tt)||null,j(K,W,""+yt,Kt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case w:return W=W.get(yt.key===null?tt:yt.key)||null,z(K,W,yt,Kt);case T:return W=W.get(yt.key===null?tt:yt.key)||null,nt(K,W,yt,Kt);case ft:var re=yt._init;return yt=re(yt._payload),ct(W,K,tt,yt,Kt)}if(Ht(yt)||kt(yt))return W=W.get(tt)||null,gt(K,W,yt,Kt,null);if(typeof yt.then=="function")return ct(W,K,tt,qc(yt),Kt);if(yt.$$typeof===ot)return ct(W,K,tt,Cc(K,yt),Kt);Kc(K,yt)}return null}function te(W,K,tt,yt){for(var Kt=null,re=null,Vt=K,$t=K=0,un=null;Vt!==null&&$t<tt.length;$t++){Vt.index>$t?(un=Vt,Vt=null):un=Vt.sibling;var ge=lt(W,Vt,tt[$t],yt);if(ge===null){Vt===null&&(Vt=un);break}e&&Vt&&ge.alternate===null&&a(W,Vt),K=v(ge,K,$t),re===null?Kt=ge:re.sibling=ge,re=ge,Vt=un}if($t===tt.length)return o(W,Vt),ye&&Fs(W,$t),Kt;if(Vt===null){for(;$t<tt.length;$t++)Vt=bt(W,tt[$t],yt),Vt!==null&&(K=v(Vt,K,$t),re===null?Kt=Vt:re.sibling=Vt,re=Vt);return ye&&Fs(W,$t),Kt}for(Vt=c(Vt);$t<tt.length;$t++)un=ct(Vt,W,$t,tt[$t],yt),un!==null&&(e&&un.alternate!==null&&Vt.delete(un.key===null?$t:un.key),K=v(un,K,$t),re===null?Kt=un:re.sibling=un,re=un);return e&&Vt.forEach(function(ys){return a(W,ys)}),ye&&Fs(W,$t),Kt}function Zt(W,K,tt,yt){if(tt==null)throw Error(s(151));for(var Kt=null,re=null,Vt=K,$t=K=0,un=null,ge=tt.next();Vt!==null&&!ge.done;$t++,ge=tt.next()){Vt.index>$t?(un=Vt,Vt=null):un=Vt.sibling;var ys=lt(W,Vt,ge.value,yt);if(ys===null){Vt===null&&(Vt=un);break}e&&Vt&&ys.alternate===null&&a(W,Vt),K=v(ys,K,$t),re===null?Kt=ys:re.sibling=ys,re=ys,Vt=un}if(ge.done)return o(W,Vt),ye&&Fs(W,$t),Kt;if(Vt===null){for(;!ge.done;$t++,ge=tt.next())ge=bt(W,ge.value,yt),ge!==null&&(K=v(ge,K,$t),re===null?Kt=ge:re.sibling=ge,re=ge);return ye&&Fs(W,$t),Kt}for(Vt=c(Vt);!ge.done;$t++,ge=tt.next())ge=ct(Vt,W,$t,ge.value,yt),ge!==null&&(e&&ge.alternate!==null&&Vt.delete(ge.key===null?$t:ge.key),K=v(ge,K,$t),re===null?Kt=ge:re.sibling=ge,re=ge);return e&&Vt.forEach(function(K0){return a(W,K0)}),ye&&Fs(W,$t),Kt}function we(W,K,tt,yt){if(typeof tt=="object"&&tt!==null&&tt.type===C&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case w:t:{for(var Kt=tt.key;K!==null;){if(K.key===Kt){if(Kt=tt.type,Kt===C){if(K.tag===7){o(W,K.sibling),yt=p(K,tt.props.children),yt.return=W,W=yt;break t}}else if(K.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===ft&&cg(Kt)===K.type){o(W,K.sibling),yt=p(K,tt.props),hl(yt,tt),yt.return=W,W=yt;break t}o(W,K);break}else a(W,K);K=K.sibling}tt.type===C?(yt=Ks(tt.props.children,W.mode,yt,tt.key),yt.return=W,W=yt):(yt=Ec(tt.type,tt.key,tt.props,null,W.mode,yt),hl(yt,tt),yt.return=W,W=yt)}return E(W);case T:t:{for(Kt=tt.key;K!==null;){if(K.key===Kt)if(K.tag===4&&K.stateNode.containerInfo===tt.containerInfo&&K.stateNode.implementation===tt.implementation){o(W,K.sibling),yt=p(K,tt.children||[]),yt.return=W,W=yt;break t}else{o(W,K);break}else a(W,K);K=K.sibling}yt=md(tt,W.mode,yt),yt.return=W,W=yt}return E(W);case ft:return Kt=tt._init,tt=Kt(tt._payload),we(W,K,tt,yt)}if(Ht(tt))return te(W,K,tt,yt);if(kt(tt)){if(Kt=kt(tt),typeof Kt!="function")throw Error(s(150));return tt=Kt.call(tt),Zt(W,K,tt,yt)}if(typeof tt.then=="function")return we(W,K,qc(tt),yt);if(tt.$$typeof===ot)return we(W,K,Cc(W,tt),yt);Kc(W,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,K!==null&&K.tag===6?(o(W,K.sibling),yt=p(K,tt),yt.return=W,W=yt):(o(W,K),yt=gd(tt,W.mode,yt),yt.return=W,W=yt),E(W)):o(W,K)}return function(W,K,tt,yt){try{fl=0;var Kt=we(W,K,tt,yt);return Wr=null,Kt}catch(Vt){if(Vt===il||Vt===Mc)throw Vt;var re=Yn(29,Vt,null,W.mode);return re.lanes=yt,re.return=W,re}finally{}}}var Ir=ug(!0),dg=ug(!1),ri=it(null),Ri=null;function ns(e){var a=e.alternate;Q(nn,nn.current&1),Q(ri,e),Ri===null&&(a===null||Vr.current!==null||a.memoizedState!==null)&&(Ri=e)}function fg(e){if(e.tag===22){if(Q(nn,nn.current),Q(ri,e),Ri===null){var a=e.alternate;a!==null&&a.memoizedState!==null&&(Ri=e)}}else is()}function is(){Q(nn,nn.current),Q(ri,ri.current)}function fa(e){xt(ri),Ri===e&&(Ri=null),xt(nn)}var nn=it(0);function Vc(e){for(var a=e;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Hf(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Gd(e,a,o,c){a=e.memoizedState,o=o(c,a),o=o==null?a:b({},a,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Qd={enqueueSetState:function(e,a,o){e=e._reactInternals;var c=Gn(),p=Ja(c);p.payload=a,o!=null&&(p.callback=o),a=ts(e,p,c),a!==null&&(Qn(a,e,c),sl(a,e,c))},enqueueReplaceState:function(e,a,o){e=e._reactInternals;var c=Gn(),p=Ja(c);p.tag=1,p.payload=a,o!=null&&(p.callback=o),a=ts(e,p,c),a!==null&&(Qn(a,e,c),sl(a,e,c))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var o=Gn(),c=Ja(o);c.tag=2,a!=null&&(c.callback=a),a=ts(e,c,o),a!==null&&(Qn(a,e,o),sl(a,e,o))}};function hg(e,a,o,c,p,v,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,v,E):a.prototype&&a.prototype.isPureReactComponent?!h(o,c)||!h(p,v):!0}function pg(e,a,o,c){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,c),a.state!==e&&Qd.enqueueReplaceState(a,a.state,null)}function Zs(e,a){var o=a;if("ref"in a){o={};for(var c in a)c!=="ref"&&(o[c]=a[c])}if(e=e.defaultProps){o===a&&(o=b({},o));for(var p in e)o[p]===void 0&&(o[p]=e[p])}return o}var Fc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function gg(e){Fc(e)}function mg(e){console.error(e)}function yg(e){Fc(e)}function Yc(e,a){try{var o=e.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function vg(e,a,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Zd(e,a,o){return o=Ja(o),o.tag=3,o.payload={element:null},o.callback=function(){Yc(e,a)},o}function bg(e){return e=Ja(e),e.tag=3,e}function xg(e,a,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var v=c.value;e.payload=function(){return p(v)},e.callback=function(){vg(a,o,c)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){vg(a,o,c),typeof p!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var j=c.stack;this.componentDidCatch(c.value,{componentStack:j!==null?j:""})})}function Kx(e,a,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=o.alternate,a!==null&&tl(a,o,p,!0),o=ri.current,o!==null){switch(o.tag){case 13:return Ri===null?Sf():o.alternate===null&&Ke===0&&(Ke=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===Td?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([c]):a.add(c),Ef(e,c,p)),!1;case 22:return o.flags|=65536,c===Td?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([c]):o.add(c)),Ef(e,c,p)),!1}throw Error(s(435,o.tag))}return Ef(e,c,p),Sf(),!1}if(ye)return a=ri.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==bd&&(e=Error(s(422),{cause:c}),Jo(Yt(e,o)))):(c!==bd&&(a=Error(s(423),{cause:c}),Jo(Yt(a,o))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,c=Yt(c,o),p=Zd(e.stateNode,c,p),jd(e,p),Ke!==4&&(Ke=2)),!1;var v=Error(s(520),{cause:c});if(v=Yt(v,o),xl===null?xl=[v]:xl.push(v),Ke!==4&&(Ke=2),a===null)return!0;c=Yt(c,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,e=p&-p,o.lanes|=e,e=Zd(o.stateNode,c,e),jd(o,e),!1;case 1:if(a=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(cs===null||!cs.has(v))))return o.flags|=65536,p&=-p,o.lanes|=p,p=bg(p),xg(p,e,o,c),jd(o,p),!1}o=o.return}while(o!==null);return!1}var _g=Error(s(461)),ln=!1;function gn(e,a,o,c){a.child=e===null?dg(a,null,o,c):Ir(a,e.child,o,c)}function Sg(e,a,o,c,p){o=o.render;var v=a.ref;if("ref"in c){var E={};for(var j in c)j!=="ref"&&(E[j]=c[j])}else E=c;return Is(a),c=Nd(e,a,o,E,v,p),j=Ld(),e!==null&&!ln?(zd(e,a,p),ha(e,a,p)):(ye&&j&&yd(a),a.flags|=1,gn(e,a,c,p),a.child)}function wg(e,a,o,c,p){if(e===null){var v=o.type;return typeof v=="function"&&!pd(v)&&v.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=v,Eg(e,a,v,c,p)):(e=Ec(o.type,null,c,a,a.mode,p),e.ref=a.ref,e.return=a,a.child=e)}if(v=e.child,!rf(e,p)){var E=v.memoizedProps;if(o=o.compare,o=o!==null?o:h,o(E,c)&&e.ref===a.ref)return ha(e,a,p)}return a.flags|=1,e=ra(v,c),e.ref=a.ref,e.return=a,a.child=e}function Eg(e,a,o,c,p){if(e!==null){var v=e.memoizedProps;if(h(v,c)&&e.ref===a.ref)if(ln=!1,a.pendingProps=c=v,rf(e,p))(e.flags&131072)!==0&&(ln=!0);else return a.lanes=e.lanes,ha(e,a,p)}return $d(e,a,o,c,p)}function Ag(e,a,o){var c=a.pendingProps,p=c.children,v=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=v!==null?v.baseLanes|o:o,e!==null){for(p=a.child=e.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;a.childLanes=v&~c}else a.childLanes=0,a.child=null;return Tg(e,a,c,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&jc(a,v!==null?v.cachePool:null),v!==null?Ep(a,v):Od(),fg(a);else return a.lanes=a.childLanes=536870912,Tg(e,a,v!==null?v.baseLanes|o:o,o)}else v!==null?(jc(a,v.cachePool),Ep(a,v),is(),a.memoizedState=null):(e!==null&&jc(a,null),Od(),is());return gn(e,a,p,o),a.child}function Tg(e,a,o,c){var p=Ad();return p=p===null?null:{parent:en._currentValue,pool:p},a.memoizedState={baseLanes:o,cachePool:p},e!==null&&jc(a,null),Od(),fg(a),e!==null&&tl(e,a,c,!0),null}function Xc(e,a){var o=a.ref;if(o===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(e===null||e.ref!==o)&&(a.flags|=4194816)}}function $d(e,a,o,c,p){return Is(a),o=Nd(e,a,o,c,void 0,p),c=Ld(),e!==null&&!ln?(zd(e,a,p),ha(e,a,p)):(ye&&c&&yd(a),a.flags|=1,gn(e,a,o,p),a.child)}function Dg(e,a,o,c,p,v){return Is(a),a.updateQueue=null,o=Tp(a,c,o,p),Ap(e),c=Ld(),e!==null&&!ln?(zd(e,a,v),ha(e,a,v)):(ye&&c&&yd(a),a.flags|=1,gn(e,a,o,v),a.child)}function Cg(e,a,o,c,p){if(Is(a),a.stateNode===null){var v=Oi,E=o.contextType;typeof E=="object"&&E!==null&&(v=Sn(E)),v=new o(c,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Qd,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=c,v.state=a.memoizedState,v.refs={},Dd(a),E=o.contextType,v.context=typeof E=="object"&&E!==null?Sn(E):Oi,v.state=a.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Gd(a,o,E,c),v.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&Qd.enqueueReplaceState(v,v.state,null),ol(a,c,v,p),rl(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(e===null){v=a.stateNode;var j=a.memoizedProps,z=Zs(o,j);v.props=z;var nt=v.context,gt=o.contextType;E=Oi,typeof gt=="object"&&gt!==null&&(E=Sn(gt));var bt=o.getDerivedStateFromProps;gt=typeof bt=="function"||typeof v.getSnapshotBeforeUpdate=="function",j=a.pendingProps!==j,gt||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(j||nt!==E)&&pg(a,v,c,E),$a=!1;var lt=a.memoizedState;v.state=lt,ol(a,c,v,p),rl(),nt=a.memoizedState,j||lt!==nt||$a?(typeof bt=="function"&&(Gd(a,o,bt,c),nt=a.memoizedState),(z=$a||hg(a,o,z,c,lt,nt,E))?(gt||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=nt),v.props=c,v.state=nt,v.context=E,c=z):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{v=a.stateNode,Cd(e,a),E=a.memoizedProps,gt=Zs(o,E),v.props=gt,bt=a.pendingProps,lt=v.context,nt=o.contextType,z=Oi,typeof nt=="object"&&nt!==null&&(z=Sn(nt)),j=o.getDerivedStateFromProps,(nt=typeof j=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==bt||lt!==z)&&pg(a,v,c,z),$a=!1,lt=a.memoizedState,v.state=lt,ol(a,c,v,p),rl();var ct=a.memoizedState;E!==bt||lt!==ct||$a||e!==null&&e.dependencies!==null&&Dc(e.dependencies)?(typeof j=="function"&&(Gd(a,o,j,c),ct=a.memoizedState),(gt=$a||hg(a,o,gt,c,lt,ct,z)||e!==null&&e.dependencies!==null&&Dc(e.dependencies))?(nt||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,ct,z),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,ct,z)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===e.memoizedProps&&lt===e.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&lt===e.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ct),v.props=c,v.state=ct,v.context=z,c=gt):(typeof v.componentDidUpdate!="function"||E===e.memoizedProps&&lt===e.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&lt===e.memoizedState||(a.flags|=1024),c=!1)}return v=c,Xc(e,a),c=(a.flags&128)!==0,v||c?(v=a.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,e!==null&&c?(a.child=Ir(a,e.child,null,p),a.child=Ir(a,null,o,p)):gn(e,a,o,p),a.memoizedState=v.state,e=a.child):e=ha(e,a,p),e}function jg(e,a,o,c){return $o(),a.flags|=256,gn(e,a,o,c),a.child}var Jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tf(e){return{baseLanes:e,cachePool:mp()}}function ef(e,a,o){return e=e!==null?e.childLanes&~o:0,a&&(e|=oi),e}function Mg(e,a,o){var c=a.pendingProps,p=!1,v=(a.flags&128)!==0,E;if((E=v)||(E=e!==null&&e.memoizedState===null?!1:(nn.current&2)!==0),E&&(p=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,e===null){if(ye){if(p?ns(a):is(),ye){var j=qe,z;if(z=j){t:{for(z=j,j=ki;z.nodeType!==8;){if(!j){j=null;break t}if(z=bi(z.nextSibling),z===null){j=null;break t}}j=z}j!==null?(a.memoizedState={dehydrated:j,treeContext:Vs!==null?{id:oa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},z=Yn(18,null,null,0),z.stateNode=j,z.return=a,a.child=z,Rn=a,qe=null,z=!0):z=!1}z||Xs(a)}if(j=a.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return Hf(j)?a.lanes=32:a.lanes=536870912,null;fa(a)}return j=c.children,c=c.fallback,p?(is(),p=a.mode,j=Wc({mode:"hidden",children:j},p),c=Ks(c,p,o,null),j.return=a,c.return=a,j.sibling=c,a.child=j,p=a.child,p.memoizedState=tf(o),p.childLanes=ef(e,E,o),a.memoizedState=Jd,c):(ns(a),nf(a,j))}if(z=e.memoizedState,z!==null&&(j=z.dehydrated,j!==null)){if(v)a.flags&256?(ns(a),a.flags&=-257,a=af(e,a,o)):a.memoizedState!==null?(is(),a.child=e.child,a.flags|=128,a=null):(is(),p=c.fallback,j=a.mode,c=Wc({mode:"visible",children:c.children},j),p=Ks(p,j,o,null),p.flags|=2,c.return=a,p.return=a,c.sibling=p,a.child=c,Ir(a,e.child,null,o),c=a.child,c.memoizedState=tf(o),c.childLanes=ef(e,E,o),a.memoizedState=Jd,a=p);else if(ns(a),Hf(j)){if(E=j.nextSibling&&j.nextSibling.dataset,E)var nt=E.dgst;E=nt,c=Error(s(419)),c.stack="",c.digest=E,Jo({value:c,source:null,stack:null}),a=af(e,a,o)}else if(ln||tl(e,a,o,!1),E=(o&e.childLanes)!==0,ln||E){if(E=De,E!==null&&(c=o&-o,c=(c&42)!==0?1:Do(c),c=(c&(E.suspendedLanes|o))!==0?0:c,c!==0&&c!==z.retryLane))throw z.retryLane=c,yi(e,c),Qn(E,e,c),_g;j.data==="$?"||Sf(),a=af(e,a,o)}else j.data==="$?"?(a.flags|=192,a.child=e.child,a=null):(e=z.treeContext,qe=bi(j.nextSibling),Rn=a,ye=!0,Ys=null,ki=!1,e!==null&&(ai[si++]=oa,ai[si++]=la,ai[si++]=Vs,oa=e.id,la=e.overflow,Vs=a),a=nf(a,c.children),a.flags|=4096);return a}return p?(is(),p=c.fallback,j=a.mode,z=e.child,nt=z.sibling,c=ra(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,nt!==null?p=ra(nt,p):(p=Ks(p,j,o,null),p.flags|=2),p.return=a,c.return=a,c.sibling=p,a.child=c,c=p,p=a.child,j=e.child.memoizedState,j===null?j=tf(o):(z=j.cachePool,z!==null?(nt=en._currentValue,z=z.parent!==nt?{parent:nt,pool:nt}:z):z=mp(),j={baseLanes:j.baseLanes|o,cachePool:z}),p.memoizedState=j,p.childLanes=ef(e,E,o),a.memoizedState=Jd,c):(ns(a),o=e.child,e=o.sibling,o=ra(o,{mode:"visible",children:c.children}),o.return=a,o.sibling=null,e!==null&&(E=a.deletions,E===null?(a.deletions=[e],a.flags|=16):E.push(e)),a.child=o,a.memoizedState=null,o)}function nf(e,a){return a=Wc({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function Wc(e,a){return e=Yn(22,e,null,a),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function af(e,a,o){return Ir(a,e.child,null,o),e=nf(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function Og(e,a,o){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a),_d(e.return,a,o)}function sf(e,a,o,c,p){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=o,v.tailMode=p)}function kg(e,a,o){var c=a.pendingProps,p=c.revealOrder,v=c.tail;if(gn(e,a,c.children,o),c=nn.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Og(e,o,a);else if(e.tag===19)Og(e,o,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break t;for(;e.sibling===null;){if(e.return===null||e.return===a)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(Q(nn,c),p){case"forwards":for(o=a.child,p=null;o!==null;)e=o.alternate,e!==null&&Vc(e)===null&&(p=o),o=o.sibling;o=p,o===null?(p=a.child,a.child=null):(p=o.sibling,o.sibling=null),sf(a,!1,p,o,v);break;case"backwards":for(o=null,p=a.child,a.child=null;p!==null;){if(e=p.alternate,e!==null&&Vc(e)===null){a.child=p;break}e=p.sibling,p.sibling=o,o=p,p=e}sf(a,!0,o,null,v);break;case"together":sf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ha(e,a,o){if(e!==null&&(a.dependencies=e.dependencies),ls|=a.lanes,(o&a.childLanes)===0)if(e!==null){if(tl(e,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(s(153));if(a.child!==null){for(e=a.child,o=ra(e,e.pendingProps),a.child=o,o.return=a;e.sibling!==null;)e=e.sibling,o=o.sibling=ra(e,e.pendingProps),o.return=a;o.sibling=null}return a.child}function rf(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&Dc(e)))}function Vx(e,a,o){switch(a.tag){case 3:de(a,a.stateNode.containerInfo),Za(a,en,e.memoizedState.cache),$o();break;case 27:case 5:It(a);break;case 4:de(a,a.stateNode.containerInfo);break;case 10:Za(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ns(a),a.flags|=128,null):(o&a.child.childLanes)!==0?Mg(e,a,o):(ns(a),e=ha(e,a,o),e!==null?e.sibling:null);ns(a);break;case 19:var p=(e.flags&128)!==0;if(c=(o&a.childLanes)!==0,c||(tl(e,a,o,!1),c=(o&a.childLanes)!==0),p){if(c)return kg(e,a,o);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Q(nn,nn.current),c)break;return null;case 22:case 23:return a.lanes=0,Ag(e,a,o);case 24:Za(a,en,e.memoizedState.cache)}return ha(e,a,o)}function Rg(e,a,o){if(e!==null)if(e.memoizedProps!==a.pendingProps)ln=!0;else{if(!rf(e,o)&&(a.flags&128)===0)return ln=!1,Vx(e,a,o);ln=(e.flags&131072)!==0}else ln=!1,ye&&(a.flags&1048576)!==0&&cp(a,Tc,a.index);switch(a.lanes=0,a.tag){case 16:t:{e=a.pendingProps;var c=a.elementType,p=c._init;if(c=p(c._payload),a.type=c,typeof c=="function")pd(c)?(e=Zs(c,e),a.tag=1,a=Cg(null,a,c,e,o)):(a.tag=0,a=$d(null,a,c,e,o));else{if(c!=null){if(p=c.$$typeof,p===H){a.tag=11,a=Sg(null,a,c,e,o);break t}else if(p===ht){a.tag=14,a=wg(null,a,c,e,o);break t}}throw a=Xt(c)||c,Error(s(306,a,""))}}return a;case 0:return $d(e,a,a.type,a.pendingProps,o);case 1:return c=a.type,p=Zs(c,a.pendingProps),Cg(e,a,c,p,o);case 3:t:{if(de(a,a.stateNode.containerInfo),e===null)throw Error(s(387));c=a.pendingProps;var v=a.memoizedState;p=v.element,Cd(e,a),ol(a,c,null,o);var E=a.memoizedState;if(c=E.cache,Za(a,en,c),c!==v.cache&&Sd(a,[en],o,!0),rl(),c=E.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=jg(e,a,c,o);break t}else if(c!==p){p=Yt(Error(s(424)),a),Jo(p),a=jg(e,a,c,o);break t}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(qe=bi(e.firstChild),Rn=a,ye=!0,Ys=null,ki=!0,o=dg(a,null,c,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if($o(),c===p){a=ha(e,a,o);break t}gn(e,a,c,o)}a=a.child}return a;case 26:return Xc(e,a),e===null?(o=Bm(a.type,null,a.pendingProps,null))?a.memoizedState=o:ye||(o=a.type,e=a.pendingProps,c=ou(Lt.current).createElement(o),c[Xe]=a,c[ae]=e,yn(c,o,e),Ee(c),a.stateNode=c):a.memoizedState=Bm(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return It(a),e===null&&ye&&(c=a.stateNode=Nm(a.type,a.pendingProps,Lt.current),Rn=a,ki=!0,p=qe,fs(a.type)?(Uf=p,qe=bi(c.firstChild)):qe=p),gn(e,a,a.pendingProps.children,o),Xc(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&ye&&((p=c=qe)&&(c=y0(c,a.type,a.pendingProps,ki),c!==null?(a.stateNode=c,Rn=a,qe=bi(c.firstChild),ki=!1,p=!0):p=!1),p||Xs(a)),It(a),p=a.type,v=a.pendingProps,E=e!==null?e.memoizedProps:null,c=v.children,zf(p,v)?c=null:E!==null&&zf(p,E)&&(a.flags|=32),a.memoizedState!==null&&(p=Nd(e,a,Lx,null,null,o),jl._currentValue=p),Xc(e,a),gn(e,a,c,o),a.child;case 6:return e===null&&ye&&((e=o=qe)&&(o=v0(o,a.pendingProps,ki),o!==null?(a.stateNode=o,Rn=a,qe=null,e=!0):e=!1),e||Xs(a)),null;case 13:return Mg(e,a,o);case 4:return de(a,a.stateNode.containerInfo),c=a.pendingProps,e===null?a.child=Ir(a,null,c,o):gn(e,a,c,o),a.child;case 11:return Sg(e,a,a.type,a.pendingProps,o);case 7:return gn(e,a,a.pendingProps,o),a.child;case 8:return gn(e,a,a.pendingProps.children,o),a.child;case 12:return gn(e,a,a.pendingProps.children,o),a.child;case 10:return c=a.pendingProps,Za(a,a.type,c.value),gn(e,a,c.children,o),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,Is(a),p=Sn(p),c=c(p),a.flags|=1,gn(e,a,c,o),a.child;case 14:return wg(e,a,a.type,a.pendingProps,o);case 15:return Eg(e,a,a.type,a.pendingProps,o);case 19:return kg(e,a,o);case 31:return c=a.pendingProps,o=a.mode,c={mode:c.mode,children:c.children},e===null?(o=Wc(c,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=ra(e.child,c),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return Ag(e,a,o);case 24:return Is(a),c=Sn(en),e===null?(p=Ad(),p===null&&(p=De,v=wd(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=o),p=v),a.memoizedState={parent:c,cache:p},Dd(a),Za(a,en,p)):((e.lanes&o)!==0&&(Cd(e,a),ol(a,null,null,o),rl()),p=e.memoizedState,v=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Za(a,en,c)):(c=v.cache,Za(a,en,c),c!==p.cache&&Sd(a,[en],o,!0))),gn(e,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function pa(e){e.flags|=4}function Ng(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Km(a)){if(a=ri.current,a!==null&&((he&4194048)===he?Ri!==null:(he&62914560)!==he&&(he&536870912)===0||a!==Ri))throw al=Td,yp;e.flags|=8192}}function Ic(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?Nt():536870912,e.lanes|=a,$r|=a)}function pl(e,a){if(!ye)switch(e.tailMode){case"hidden":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function He(e){var a=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(a)for(var p=e.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=c,e.childLanes=o,a}function Fx(e,a,o){var c=a.pendingProps;switch(vd(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(a),null;case 1:return He(a),null;case 3:return o=a.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),ua(en),Ut(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Zo(a)?pa(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,fp())),He(a),null;case 26:return o=a.memoizedState,e===null?(pa(a),o!==null?(He(a),Ng(a,o)):(He(a),a.flags&=-16777217)):o?o!==e.memoizedState?(pa(a),He(a),Ng(a,o)):(He(a),a.flags&=-16777217):(e.memoizedProps!==c&&pa(a),He(a),a.flags&=-16777217),null;case 27:Ne(a),o=Lt.current;var p=a.type;if(e!==null&&a.stateNode!=null)e.memoizedProps!==c&&pa(a);else{if(!c){if(a.stateNode===null)throw Error(s(166));return He(a),null}e=_t.current,Zo(a)?up(a):(e=Nm(p,c,o),a.stateNode=e,pa(a))}return He(a),null;case 5:if(Ne(a),o=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==c&&pa(a);else{if(!c){if(a.stateNode===null)throw Error(s(166));return He(a),null}if(e=_t.current,Zo(a))up(a);else{switch(p=ou(Lt.current),e){case 1:e=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:e=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":e=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":e=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?p.createElement(o,{is:c.is}):p.createElement(o)}}e[Xe]=a,e[ae]=c;t:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)e.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break t;for(;p.sibling===null;){if(p.return===null||p.return===a)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=e;t:switch(yn(e,o,c),o){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&pa(a)}}return He(a),a.flags&=-16777217,null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==c&&pa(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(s(166));if(e=Lt.current,Zo(a)){if(e=a.stateNode,o=a.memoizedProps,c=null,p=Rn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}e[Xe]=a,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Dm(e.nodeValue,o)),e||Xs(a)}else e=ou(e).createTextNode(c),e[Xe]=a,a.stateNode=e}return He(a),null;case 13:if(c=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Zo(a),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(s(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Xe]=a}else $o(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;He(a),p=!1}else p=fp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(fa(a),a):(fa(a),null)}if(fa(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=c!==null,e=e!==null&&e.memoizedState!==null,o){c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var v=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==p&&(c.flags|=2048)}return o!==e&&o&&(a.child.flags|=8192),Ic(a,a.updateQueue),He(a),null;case 4:return Ut(),e===null&&Of(a.stateNode.containerInfo),He(a),null;case 10:return ua(a.type),He(a),null;case 19:if(xt(nn),p=a.memoizedState,p===null)return He(a),null;if(c=(a.flags&128)!==0,v=p.rendering,v===null)if(c)pl(p,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(v=Vc(e),v!==null){for(a.flags|=128,pl(p,!1),e=v.updateQueue,a.updateQueue=e,Ic(a,e),a.subtreeFlags=0,e=o,o=a.child;o!==null;)lp(o,e),o=o.sibling;return Q(nn,nn.current&1|2),a.child}e=e.sibling}p.tail!==null&&Nn()>Zc&&(a.flags|=128,c=!0,pl(p,!1),a.lanes=4194304)}else{if(!c)if(e=Vc(v),e!==null){if(a.flags|=128,c=!0,e=e.updateQueue,a.updateQueue=e,Ic(a,e),pl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!ye)return He(a),null}else 2*Nn()-p.renderingStartTime>Zc&&o!==536870912&&(a.flags|=128,c=!0,pl(p,!1),a.lanes=4194304);p.isBackwards?(v.sibling=a.child,a.child=v):(e=p.last,e!==null?e.sibling=v:a.child=v,p.last=v)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Nn(),a.sibling=null,e=nn.current,Q(nn,c?e&1|2:e&1),a):(He(a),null);case 22:case 23:return fa(a),kd(),c=a.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(o&536870912)!==0&&(a.flags&128)===0&&(He(a),a.subtreeFlags&6&&(a.flags|=8192)):He(a),o=a.updateQueue,o!==null&&Ic(a,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==o&&(a.flags|=2048),e!==null&&xt(Gs),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),ua(en),He(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function Yx(e,a){switch(vd(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return ua(en),Ut(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return Ne(a),null;case 13:if(fa(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(s(340));$o()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return xt(nn),null;case 4:return Ut(),null;case 10:return ua(a.type),null;case 22:case 23:return fa(a),kd(),e!==null&&xt(Gs),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return ua(en),null;case 25:return null;default:return null}}function Lg(e,a){switch(vd(a),a.tag){case 3:ua(en),Ut();break;case 26:case 27:case 5:Ne(a);break;case 4:Ut();break;case 13:fa(a);break;case 19:xt(nn);break;case 10:ua(a.type);break;case 22:case 23:fa(a),kd(),e!==null&&xt(Gs);break;case 24:ua(en)}}function gl(e,a){try{var o=a.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&e)===e){c=void 0;var v=o.create,E=o.inst;c=v(),E.destroy=c}o=o.next}while(o!==p)}}catch(j){Te(a,a.return,j)}}function as(e,a,o){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var v=p.next;c=v;do{if((c.tag&e)===e){var E=c.inst,j=E.destroy;if(j!==void 0){E.destroy=void 0,p=a;var z=o,nt=j;try{nt()}catch(gt){Te(p,z,gt)}}}c=c.next}while(c!==v)}}catch(gt){Te(a,a.return,gt)}}function zg(e){var a=e.updateQueue;if(a!==null){var o=e.stateNode;try{wp(a,o)}catch(c){Te(e,e.return,c)}}}function Bg(e,a,o){o.props=Zs(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){Te(e,a,c)}}function ml(e,a){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(p){Te(e,a,p)}}function Ni(e,a){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){Te(e,a,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Te(e,a,p)}else o.current=null}function Pg(e){var a=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){Te(e,e.return,p)}}function of(e,a,o){try{var c=e.stateNode;f0(c,e.type,o,a),c[ae]=a}catch(p){Te(e,e.return,p)}}function Hg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fs(e.type)||e.tag===4}function lf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Hg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cf(e,a,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(e),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=ru));else if(c!==4&&(c===27&&fs(e.type)&&(o=e.stateNode,a=null),e=e.child,e!==null))for(cf(e,a,o),e=e.sibling;e!==null;)cf(e,a,o),e=e.sibling}function Gc(e,a,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,a?o.insertBefore(e,a):o.appendChild(e);else if(c!==4&&(c===27&&fs(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Gc(e,a,o),e=e.sibling;e!==null;)Gc(e,a,o),e=e.sibling}function Ug(e){var a=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);yn(a,c,o),a[Xe]=e,a[ae]=o}catch(v){Te(e,e.return,v)}}var ga=!1,Ge=!1,uf=!1,qg=typeof WeakSet=="function"?WeakSet:Set,cn=null;function Xx(e,a){if(e=e.containerInfo,Nf=hu,e=A(e),D(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break t}var E=0,j=-1,z=-1,nt=0,gt=0,bt=e,lt=null;e:for(;;){for(var ct;bt!==o||p!==0&&bt.nodeType!==3||(j=E+p),bt!==v||c!==0&&bt.nodeType!==3||(z=E+c),bt.nodeType===3&&(E+=bt.nodeValue.length),(ct=bt.firstChild)!==null;)lt=bt,bt=ct;for(;;){if(bt===e)break e;if(lt===o&&++nt===p&&(j=E),lt===v&&++gt===c&&(z=E),(ct=bt.nextSibling)!==null)break;bt=lt,lt=bt.parentNode}bt=ct}o=j===-1||z===-1?null:{start:j,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(Lf={focusedElem:e,selectionRange:o},hu=!1,cn=a;cn!==null;)if(a=cn,e=a.child,(a.subtreeFlags&1024)!==0&&e!==null)e.return=a,cn=e;else for(;cn!==null;){switch(a=cn,v=a.alternate,e=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&v!==null){e=void 0,o=a,p=v.memoizedProps,v=v.memoizedState,c=o.stateNode;try{var te=Zs(o.type,p,o.elementType===o.type);e=c.getSnapshotBeforeUpdate(te,v),c.__reactInternalSnapshotBeforeUpdate=e}catch(Zt){Te(o,o.return,Zt)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,o=e.nodeType,o===9)Pf(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=a.sibling,e!==null){e.return=a.return,cn=e;break}cn=a.return}}function Kg(e,a,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ss(e,o),c&4&&gl(5,o);break;case 1:if(ss(e,o),c&4)if(e=o.stateNode,a===null)try{e.componentDidMount()}catch(E){Te(o,o.return,E)}else{var p=Zs(o.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(p,a,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Te(o,o.return,E)}}c&64&&zg(o),c&512&&ml(o,o.return);break;case 3:if(ss(e,o),c&64&&(e=o.updateQueue,e!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{wp(e,a)}catch(E){Te(o,o.return,E)}}break;case 27:a===null&&c&4&&Ug(o);case 26:case 5:ss(e,o),a===null&&c&4&&Pg(o),c&512&&ml(o,o.return);break;case 12:ss(e,o);break;case 13:ss(e,o),c&4&&Yg(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=e0.bind(null,o),b0(e,o))));break;case 22:if(c=o.memoizedState!==null||ga,!c){a=a!==null&&a.memoizedState!==null||Ge,p=ga;var v=Ge;ga=c,(Ge=a)&&!v?rs(e,o,(o.subtreeFlags&8772)!==0):ss(e,o),ga=p,Ge=v}break;case 30:break;default:ss(e,o)}}function Vg(e){var a=e.alternate;a!==null&&(e.alternate=null,Vg(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&$n(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Le=null,Pn=!1;function ma(e,a,o){for(o=o.child;o!==null;)Fg(e,a,o),o=o.sibling}function Fg(e,a,o){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Cn,o)}catch{}switch(o.tag){case 26:Ge||Ni(o,a),ma(e,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ge||Ni(o,a);var c=Le,p=Pn;fs(o.type)&&(Le=o.stateNode,Pn=!1),ma(e,a,o),Al(o.stateNode),Le=c,Pn=p;break;case 5:Ge||Ni(o,a);case 6:if(c=Le,p=Pn,Le=null,ma(e,a,o),Le=c,Pn=p,Le!==null)if(Pn)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(o.stateNode)}catch(v){Te(o,a,v)}else try{Le.removeChild(o.stateNode)}catch(v){Te(o,a,v)}break;case 18:Le!==null&&(Pn?(e=Le,km(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Rl(e)):km(Le,o.stateNode));break;case 4:c=Le,p=Pn,Le=o.stateNode.containerInfo,Pn=!0,ma(e,a,o),Le=c,Pn=p;break;case 0:case 11:case 14:case 15:Ge||as(2,o,a),Ge||as(4,o,a),ma(e,a,o);break;case 1:Ge||(Ni(o,a),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Bg(o,a,c)),ma(e,a,o);break;case 21:ma(e,a,o);break;case 22:Ge=(c=Ge)||o.memoizedState!==null,ma(e,a,o),Ge=c;break;default:ma(e,a,o)}}function Yg(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Rl(e)}catch(o){Te(a,a.return,o)}}function Wx(e){switch(e.tag){case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new qg),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new qg),a;default:throw Error(s(435,e.tag))}}function df(e,a){var o=Wx(e);a.forEach(function(c){var p=n0.bind(null,e,c);o.has(c)||(o.add(c),c.then(p,p))})}function Xn(e,a){var o=a.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],v=e,E=a,j=E;t:for(;j!==null;){switch(j.tag){case 27:if(fs(j.type)){Le=j.stateNode,Pn=!1;break t}break;case 5:Le=j.stateNode,Pn=!1;break t;case 3:case 4:Le=j.stateNode.containerInfo,Pn=!0;break t}j=j.return}if(Le===null)throw Error(s(160));Fg(v,E,p),Le=null,Pn=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Xg(a,e),a=a.sibling}var vi=null;function Xg(e,a){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Xn(a,e),Wn(e),c&4&&(as(3,e,e.return),gl(3,e),as(5,e,e.return));break;case 1:Xn(a,e),Wn(e),c&512&&(Ge||o===null||Ni(o,o.return)),c&64&&ga&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=vi;if(Xn(a,e),Wn(e),c&512&&(Ge||o===null||Ni(o,o.return)),c&4){var v=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":v=p.getElementsByTagName("title")[0],(!v||v[Rs]||v[Xe]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(c),p.head.insertBefore(v,p.querySelector("head > title"))),yn(v,c,o),v[Xe]=e,Ee(v),c=v;break t;case"link":var E=Um("link","href",p).get(c+(o.href||""));if(E){for(var j=0;j<E.length;j++)if(v=E[j],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(j,1);break e}}v=p.createElement(c),yn(v,c,o),p.head.appendChild(v);break;case"meta":if(E=Um("meta","content",p).get(c+(o.content||""))){for(j=0;j<E.length;j++)if(v=E[j],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(j,1);break e}}v=p.createElement(c),yn(v,c,o),p.head.appendChild(v);break;default:throw Error(s(468,c))}v[Xe]=e,Ee(v),c=v}e.stateNode=c}else qm(p,e.type,e.stateNode);else e.stateNode=Hm(p,c,e.memoizedProps);else v!==c?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,c===null?qm(p,e.type,e.stateNode):Hm(p,c,e.memoizedProps)):c===null&&e.stateNode!==null&&of(e,e.memoizedProps,o.memoizedProps)}break;case 27:Xn(a,e),Wn(e),c&512&&(Ge||o===null||Ni(o,o.return)),o!==null&&c&4&&of(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Xn(a,e),Wn(e),c&512&&(Ge||o===null||Ni(o,o.return)),e.flags&32){p=e.stateNode;try{qa(p,"")}catch(ct){Te(e,e.return,ct)}}c&4&&e.stateNode!=null&&(p=e.memoizedProps,of(e,p,o!==null?o.memoizedProps:p)),c&1024&&(uf=!0);break;case 6:if(Xn(a,e),Wn(e),c&4){if(e.stateNode===null)throw Error(s(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(ct){Te(e,e.return,ct)}}break;case 3:if(uu=null,p=vi,vi=lu(a.containerInfo),Xn(a,e),vi=p,Wn(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Rl(a.containerInfo)}catch(ct){Te(e,e.return,ct)}uf&&(uf=!1,Wg(e));break;case 4:c=vi,vi=lu(e.stateNode.containerInfo),Xn(a,e),Wn(e),vi=c;break;case 12:Xn(a,e),Wn(e);break;case 13:Xn(a,e),Wn(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(yf=Nn()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,df(e,c)));break;case 22:p=e.memoizedState!==null;var z=o!==null&&o.memoizedState!==null,nt=ga,gt=Ge;if(ga=nt||p,Ge=gt||z,Xn(a,e),Ge=gt,ga=nt,Wn(e),c&8192)t:for(a=e.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(o===null||z||ga||Ge||$s(e)),o=null,a=e;;){if(a.tag===5||a.tag===26){if(o===null){z=o=a;try{if(v=z.stateNode,p)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{j=z.stateNode;var bt=z.memoizedProps.style,lt=bt!=null&&bt.hasOwnProperty("display")?bt.display:null;j.style.display=lt==null||typeof lt=="boolean"?"":(""+lt).trim()}}catch(ct){Te(z,z.return,ct)}}}else if(a.tag===6){if(o===null){z=a;try{z.stateNode.nodeValue=p?"":z.memoizedProps}catch(ct){Te(z,z.return,ct)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break t;for(;a.sibling===null;){if(a.return===null||a.return===e)break t;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,df(e,o))));break;case 19:Xn(a,e),Wn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,df(e,c)));break;case 30:break;case 21:break;default:Xn(a,e),Wn(e)}}function Wn(e){var a=e.flags;if(a&2){try{for(var o,c=e.return;c!==null;){if(Hg(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,v=lf(e);Gc(e,v,p);break;case 5:var E=o.stateNode;o.flags&32&&(qa(E,""),o.flags&=-33);var j=lf(e);Gc(e,j,E);break;case 3:case 4:var z=o.stateNode.containerInfo,nt=lf(e);cf(e,nt,z);break;default:throw Error(s(161))}}catch(gt){Te(e,e.return,gt)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function Wg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;Wg(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function ss(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Kg(e,a.alternate,a),a=a.sibling}function $s(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:as(4,a,a.return),$s(a);break;case 1:Ni(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&Bg(a,a.return,o),$s(a);break;case 27:Al(a.stateNode);case 26:case 5:Ni(a,a.return),$s(a);break;case 22:a.memoizedState===null&&$s(a);break;case 30:$s(a);break;default:$s(a)}e=e.sibling}}function rs(e,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=e,v=a,E=v.flags;switch(v.tag){case 0:case 11:case 15:rs(p,v,o),gl(4,v);break;case 1:if(rs(p,v,o),c=v,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(nt){Te(c,c.return,nt)}if(c=v,p=c.updateQueue,p!==null){var j=c.stateNode;try{var z=p.shared.hiddenCallbacks;if(z!==null)for(p.shared.hiddenCallbacks=null,p=0;p<z.length;p++)Sp(z[p],j)}catch(nt){Te(c,c.return,nt)}}o&&E&64&&zg(v),ml(v,v.return);break;case 27:Ug(v);case 26:case 5:rs(p,v,o),o&&c===null&&E&4&&Pg(v),ml(v,v.return);break;case 12:rs(p,v,o);break;case 13:rs(p,v,o),o&&E&4&&Yg(p,v);break;case 22:v.memoizedState===null&&rs(p,v,o),ml(v,v.return);break;case 30:break;default:rs(p,v,o)}a=a.sibling}}function ff(e,a){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&el(o))}function hf(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&el(e))}function Li(e,a,o,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ig(e,a,o,c),a=a.sibling}function Ig(e,a,o,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Li(e,a,o,c),p&2048&&gl(9,a);break;case 1:Li(e,a,o,c);break;case 3:Li(e,a,o,c),p&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&el(e)));break;case 12:if(p&2048){Li(e,a,o,c),e=a.stateNode;try{var v=a.memoizedProps,E=v.id,j=v.onPostCommit;typeof j=="function"&&j(E,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(z){Te(a,a.return,z)}}else Li(e,a,o,c);break;case 13:Li(e,a,o,c);break;case 23:break;case 22:v=a.stateNode,E=a.alternate,a.memoizedState!==null?v._visibility&2?Li(e,a,o,c):yl(e,a):v._visibility&2?Li(e,a,o,c):(v._visibility|=2,Gr(e,a,o,c,(a.subtreeFlags&10256)!==0)),p&2048&&ff(E,a);break;case 24:Li(e,a,o,c),p&2048&&hf(a.alternate,a);break;default:Li(e,a,o,c)}}function Gr(e,a,o,c,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var v=e,E=a,j=o,z=c,nt=E.flags;switch(E.tag){case 0:case 11:case 15:Gr(v,E,j,z,p),gl(8,E);break;case 23:break;case 22:var gt=E.stateNode;E.memoizedState!==null?gt._visibility&2?Gr(v,E,j,z,p):yl(v,E):(gt._visibility|=2,Gr(v,E,j,z,p)),p&&nt&2048&&ff(E.alternate,E);break;case 24:Gr(v,E,j,z,p),p&&nt&2048&&hf(E.alternate,E);break;default:Gr(v,E,j,z,p)}a=a.sibling}}function yl(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=e,c=a,p=c.flags;switch(c.tag){case 22:yl(o,c),p&2048&&ff(c.alternate,c);break;case 24:yl(o,c),p&2048&&hf(c.alternate,c);break;default:yl(o,c)}a=a.sibling}}var vl=8192;function Qr(e){if(e.subtreeFlags&vl)for(e=e.child;e!==null;)Gg(e),e=e.sibling}function Gg(e){switch(e.tag){case 26:Qr(e),e.flags&vl&&e.memoizedState!==null&&k0(vi,e.memoizedState,e.memoizedProps);break;case 5:Qr(e);break;case 3:case 4:var a=vi;vi=lu(e.stateNode.containerInfo),Qr(e),vi=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=vl,vl=16777216,Qr(e),vl=a):Qr(e));break;default:Qr(e)}}function Qg(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function bl(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];cn=c,$g(c,e)}Qg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zg(e),e=e.sibling}function Zg(e){switch(e.tag){case 0:case 11:case 15:bl(e),e.flags&2048&&as(9,e,e.return);break;case 3:bl(e);break;case 12:bl(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,Qc(e)):bl(e);break;default:bl(e)}}function Qc(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];cn=c,$g(c,e)}Qg(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:as(8,a,a.return),Qc(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,Qc(a));break;default:Qc(a)}e=e.sibling}}function $g(e,a){for(;cn!==null;){var o=cn;switch(o.tag){case 0:case 11:case 15:as(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:el(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,cn=c;else t:for(o=e;cn!==null;){c=cn;var p=c.sibling,v=c.return;if(Vg(c),c===o){cn=null;break t}if(p!==null){p.return=v,cn=p;break t}cn=v}}}var Ix={getCacheForType:function(e){var a=Sn(en),o=a.data.get(e);return o===void 0&&(o=e(),a.data.set(e,o)),o}},Gx=typeof WeakMap=="function"?WeakMap:Map,ve=0,De=null,le=null,he=0,be=0,In=null,os=!1,Zr=!1,pf=!1,ya=0,Ke=0,ls=0,Js=0,gf=0,oi=0,$r=0,xl=null,Hn=null,mf=!1,yf=0,Zc=1/0,$c=null,cs=null,mn=0,us=null,Jr=null,to=0,vf=0,bf=null,Jg=null,_l=0,xf=null;function Gn(){if((ve&2)!==0&&he!==0)return he&-he;if(et.T!==null){var e=qr;return e!==0?e:Df()}return Wi()}function tm(){oi===0&&(oi=(he&536870912)===0||ye?Xi():536870912);var e=ri.current;return e!==null&&(e.flags|=32),oi}function Qn(e,a,o){(e===De&&(be===2||be===9)||e.cancelPendingCommit!==null)&&(eo(e,0),ds(e,he,oi,!1)),Ra(e,o),((ve&2)===0||e!==De)&&(e===De&&((ve&2)===0&&(Js|=o),Ke===4&&ds(e,he,oi,!1)),zi(e))}function em(e,a,o){if((ve&6)!==0)throw Error(s(327));var c=!o&&(a&124)===0&&(a&e.expiredLanes)===0||Ft(e,a),p=c?$x(e,a):wf(e,a,!0),v=c;do{if(p===0){Zr&&!c&&ds(e,a,0,!1);break}else{if(o=e.current.alternate,v&&!Qx(o)){p=wf(e,a,!1),v=!1;continue}if(p===2){if(v=a,e.errorRecoveryDisabledLanes&v)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;t:{var j=e;p=xl;var z=j.current.memoizedState.isDehydrated;if(z&&(eo(j,E).flags|=256),E=wf(j,E,!1),E!==2){if(pf&&!z){j.errorRecoveryDisabledLanes|=v,Js|=v,p=4;break t}v=Hn,Hn=p,v!==null&&(Hn===null?Hn=v:Hn.push.apply(Hn,v))}p=E}if(v=!1,p!==2)continue}}if(p===1){eo(e,0),ds(e,a,0,!0);break}t:{switch(c=e,v=p,v){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:ds(c,a,oi,!os);break t;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(p=yf+300-Nn(),10<p)){if(ds(c,a,oi,!os),vt(c,0,!0)!==0)break t;c.timeoutHandle=Mm(nm.bind(null,c,o,Hn,$c,mf,a,oi,Js,$r,os,v,2,-0,0),p);break t}nm(c,o,Hn,$c,mf,a,oi,Js,$r,os,v,0,-0,0)}}break}while(!0);zi(e)}function nm(e,a,o,c,p,v,E,j,z,nt,gt,bt,lt,ct){if(e.timeoutHandle=-1,bt=a.subtreeFlags,(bt&8192||(bt&16785408)===16785408)&&(Cl={stylesheets:null,count:0,unsuspend:O0},Gg(a),bt=R0(),bt!==null)){e.cancelPendingCommit=bt(cm.bind(null,e,a,v,o,c,p,E,j,z,gt,1,lt,ct)),ds(e,v,E,!nt);return}cm(e,a,v,o,c,p,E,j,z)}function Qx(e){for(var a=e;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],v=p.getSnapshot;p=p.value;try{if(!_n(v(),p))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ds(e,a,o,c){a&=~gf,a&=~Js,e.suspendedLanes|=a,e.pingedLanes&=~a,c&&(e.warmLanes|=a),c=e.expirationTimes;for(var p=a;0<p;){var v=31-Ye(p),E=1<<v;c[v]=-1,p&=~E}o!==0&&To(e,o,a)}function Jc(){return(ve&6)===0?(Sl(0),!1):!0}function _f(){if(le!==null){if(be===0)var e=le.return;else e=le,ca=Ws=null,Bd(e),Wr=null,fl=0,e=le;for(;e!==null;)Lg(e.alternate,e),e=e.return;le=null}}function eo(e,a){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,p0(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),_f(),De=e,le=o=ra(e.current,null),he=a,be=0,In=null,os=!1,Zr=Ft(e,a),pf=!1,$r=oi=gf=Js=ls=Ke=0,Hn=xl=null,mf=!1,(a&8)!==0&&(a|=a&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=a;0<c;){var p=31-Ye(c),v=1<<p;a|=e[p],c&=~v}return ya=a,Jt(),o}function im(e,a){se=null,et.H=Uc,a===il||a===Mc?(a=xp(),be=3):a===yp?(a=xp(),be=4):be=a===_g?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,In=a,le===null&&(Ke=1,Yc(e,Yt(a,e.current)))}function am(){var e=et.H;return et.H=Uc,e===null?Uc:e}function sm(){var e=et.A;return et.A=Ix,e}function Sf(){Ke=4,os||(he&4194048)!==he&&ri.current!==null||(Zr=!0),(ls&134217727)===0&&(Js&134217727)===0||De===null||ds(De,he,oi,!1)}function wf(e,a,o){var c=ve;ve|=2;var p=am(),v=sm();(De!==e||he!==a)&&($c=null,eo(e,a)),a=!1;var E=Ke;t:do try{if(be!==0&&le!==null){var j=le,z=In;switch(be){case 8:_f(),E=6;break t;case 3:case 2:case 9:case 6:ri.current===null&&(a=!0);var nt=be;if(be=0,In=null,no(e,j,z,nt),o&&Zr){E=0;break t}break;default:nt=be,be=0,In=null,no(e,j,z,nt)}}Zx(),E=Ke;break}catch(gt){im(e,gt)}while(!0);return a&&e.shellSuspendCounter++,ca=Ws=null,ve=c,et.H=p,et.A=v,le===null&&(De=null,he=0,Jt()),E}function Zx(){for(;le!==null;)rm(le)}function $x(e,a){var o=ve;ve|=2;var c=am(),p=sm();De!==e||he!==a?($c=null,Zc=Nn()+500,eo(e,a)):Zr=Ft(e,a);t:do try{if(be!==0&&le!==null){a=le;var v=In;e:switch(be){case 1:be=0,In=null,no(e,a,v,1);break;case 2:case 9:if(vp(v)){be=0,In=null,om(a);break}a=function(){be!==2&&be!==9||De!==e||(be=7),zi(e)},v.then(a,a);break t;case 3:be=7;break t;case 4:be=5;break t;case 7:vp(v)?(be=0,In=null,om(a)):(be=0,In=null,no(e,a,v,7));break;case 5:var E=null;switch(le.tag){case 26:E=le.memoizedState;case 5:case 27:var j=le;if(!E||Km(E)){be=0,In=null;var z=j.sibling;if(z!==null)le=z;else{var nt=j.return;nt!==null?(le=nt,tu(nt)):le=null}break e}}be=0,In=null,no(e,a,v,5);break;case 6:be=0,In=null,no(e,a,v,6);break;case 8:_f(),Ke=6;break t;default:throw Error(s(462))}}Jx();break}catch(gt){im(e,gt)}while(!0);return ca=Ws=null,et.H=c,et.A=p,ve=o,le!==null?0:(De=null,he=0,Jt(),Ke)}function Jx(){for(;le!==null&&!fn();)rm(le)}function rm(e){var a=Rg(e.alternate,e,ya);e.memoizedProps=e.pendingProps,a===null?tu(e):le=a}function om(e){var a=e,o=a.alternate;switch(a.tag){case 15:case 0:a=Dg(o,a,a.pendingProps,a.type,void 0,he);break;case 11:a=Dg(o,a,a.pendingProps,a.type.render,a.ref,he);break;case 5:Bd(a);default:Lg(o,a),a=le=lp(a,ya),a=Rg(o,a,ya)}e.memoizedProps=e.pendingProps,a===null?tu(e):le=a}function no(e,a,o,c){ca=Ws=null,Bd(a),Wr=null,fl=0;var p=a.return;try{if(Kx(e,p,a,o,he)){Ke=1,Yc(e,Yt(o,e.current)),le=null;return}}catch(v){if(p!==null)throw le=p,v;Ke=1,Yc(e,Yt(o,e.current)),le=null;return}a.flags&32768?(ye||c===1?e=!0:Zr||(he&536870912)!==0?e=!1:(os=e=!0,(c===2||c===9||c===3||c===6)&&(c=ri.current,c!==null&&c.tag===13&&(c.flags|=16384))),lm(a,e)):tu(a)}function tu(e){var a=e;do{if((a.flags&32768)!==0){lm(a,os);return}e=a.return;var o=Fx(a.alternate,a,ya);if(o!==null){le=o;return}if(a=a.sibling,a!==null){le=a;return}le=a=e}while(a!==null);Ke===0&&(Ke=5)}function lm(e,a){do{var o=Yx(e.alternate,e);if(o!==null){o.flags&=32767,le=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(e=e.sibling,e!==null)){le=e;return}le=e=o}while(e!==null);Ke=6,le=null}function cm(e,a,o,c,p,v,E,j,z){e.cancelPendingCommit=null;do eu();while(mn!==0);if((ve&6)!==0)throw Error(s(327));if(a!==null){if(a===e.current)throw Error(s(177));if(v=a.lanes|a.childLanes,v|=pn,Ao(e,o,v,E,j,z),e===De&&(le=De=null,he=0),Jr=a,us=e,to=o,vf=v,bf=p,Jg=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,i0(hn,function(){return pm(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=et.T,et.T=null,p=St.p,St.p=2,E=ve,ve|=4;try{Xx(e,a,o)}finally{ve=E,St.p=p,et.T=c}}mn=1,um(),dm(),fm()}}function um(){if(mn===1){mn=0;var e=us,a=Jr,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=et.T,et.T=null;var c=St.p;St.p=2;var p=ve;ve|=4;try{Xg(a,e);var v=Lf,E=A(e.containerInfo),j=v.focusedElem,z=v.selectionRange;if(E!==j&&j&&j.ownerDocument&&S(j.ownerDocument.documentElement,j)){if(z!==null&&D(j)){var nt=z.start,gt=z.end;if(gt===void 0&&(gt=nt),"selectionStart"in j)j.selectionStart=nt,j.selectionEnd=Math.min(gt,j.value.length);else{var bt=j.ownerDocument||document,lt=bt&&bt.defaultView||window;if(lt.getSelection){var ct=lt.getSelection(),te=j.textContent.length,Zt=Math.min(z.start,te),we=z.end===void 0?Zt:Math.min(z.end,te);!ct.extend&&Zt>we&&(E=we,we=Zt,Zt=E);var W=x(j,Zt),K=x(j,we);if(W&&K&&(ct.rangeCount!==1||ct.anchorNode!==W.node||ct.anchorOffset!==W.offset||ct.focusNode!==K.node||ct.focusOffset!==K.offset)){var tt=bt.createRange();tt.setStart(W.node,W.offset),ct.removeAllRanges(),Zt>we?(ct.addRange(tt),ct.extend(K.node,K.offset)):(tt.setEnd(K.node,K.offset),ct.addRange(tt))}}}}for(bt=[],ct=j;ct=ct.parentNode;)ct.nodeType===1&&bt.push({element:ct,left:ct.scrollLeft,top:ct.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<bt.length;j++){var yt=bt[j];yt.element.scrollLeft=yt.left,yt.element.scrollTop=yt.top}}hu=!!Nf,Lf=Nf=null}finally{ve=p,St.p=c,et.T=o}}e.current=a,mn=2}}function dm(){if(mn===2){mn=0;var e=us,a=Jr,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=et.T,et.T=null;var c=St.p;St.p=2;var p=ve;ve|=4;try{Kg(e,a.alternate,a)}finally{ve=p,St.p=c,et.T=o}}mn=3}}function fm(){if(mn===4||mn===3){mn=0,Cs();var e=us,a=Jr,o=to,c=Jg;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?mn=5:(mn=0,Jr=us=null,hm(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(cs=null),Co(o),a=a.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Cn,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=et.T,p=St.p,St.p=2,et.T=null;try{for(var v=e.onRecoverableError,E=0;E<c.length;E++){var j=c[E];v(j.value,{componentStack:j.stack})}}finally{et.T=a,St.p=p}}(to&3)!==0&&eu(),zi(e),p=e.pendingLanes,(o&4194090)!==0&&(p&42)!==0?e===xf?_l++:(_l=0,xf=e):_l=0,Sl(0)}}function hm(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,el(a)))}function eu(e){return um(),dm(),fm(),pm()}function pm(){if(mn!==5)return!1;var e=us,a=vf;vf=0;var o=Co(to),c=et.T,p=St.p;try{St.p=32>o?32:o,et.T=null,o=bf,bf=null;var v=us,E=to;if(mn=0,Jr=us=null,to=0,(ve&6)!==0)throw Error(s(331));var j=ve;if(ve|=4,Zg(v.current),Ig(v,v.current,E,o),ve=j,Sl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Cn,v)}catch{}return!0}finally{St.p=p,et.T=c,hm(e,a)}}function gm(e,a,o){a=Yt(o,a),a=Zd(e.stateNode,a,2),e=ts(e,a,2),e!==null&&(Ra(e,2),zi(e))}function Te(e,a,o){if(e.tag===3)gm(e,e,o);else for(;a!==null;){if(a.tag===3){gm(a,e,o);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(cs===null||!cs.has(c))){e=Yt(o,e),o=bg(2),c=ts(a,o,2),c!==null&&(xg(o,c,a,e),Ra(c,2),zi(c));break}}a=a.return}}function Ef(e,a,o){var c=e.pingCache;if(c===null){c=e.pingCache=new Gx;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(o)||(pf=!0,p.add(o),e=t0.bind(null,e,a,o),a.then(e,e))}function t0(e,a,o){var c=e.pingCache;c!==null&&c.delete(a),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,De===e&&(he&o)===o&&(Ke===4||Ke===3&&(he&62914560)===he&&300>Nn()-yf?(ve&2)===0&&eo(e,0):gf|=o,$r===he&&($r=0)),zi(e)}function mm(e,a){a===0&&(a=Nt()),e=yi(e,a),e!==null&&(Ra(e,a),zi(e))}function e0(e){var a=e.memoizedState,o=0;a!==null&&(o=a.retryLane),mm(e,o)}function n0(e,a){var o=0;switch(e.tag){case 13:var c=e.stateNode,p=e.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(a),mm(e,o)}function i0(e,a){return vn(e,a)}var nu=null,io=null,Af=!1,iu=!1,Tf=!1,tr=0;function zi(e){e!==io&&e.next===null&&(io===null?nu=io=e:io=io.next=e),iu=!0,Af||(Af=!0,s0())}function Sl(e,a){if(!Tf&&iu){Tf=!0;do for(var o=!1,c=nu;c!==null;){if(e!==0){var p=c.pendingLanes;if(p===0)var v=0;else{var E=c.suspendedLanes,j=c.pingedLanes;v=(1<<31-Ye(42|e)+1)-1,v&=p&~(E&~j),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,xm(c,v))}else v=he,v=vt(c,c===De?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||Ft(c,v)||(o=!0,xm(c,v));c=c.next}while(o);Tf=!1}}function a0(){ym()}function ym(){iu=Af=!1;var e=0;tr!==0&&(h0()&&(e=tr),tr=0);for(var a=Nn(),o=null,c=nu;c!==null;){var p=c.next,v=vm(c,a);v===0?(c.next=null,o===null?nu=p:o.next=p,p===null&&(io=o)):(o=c,(e!==0||(v&3)!==0)&&(iu=!0)),c=p}Sl(e)}function vm(e,a){for(var o=e.suspendedLanes,c=e.pingedLanes,p=e.expirationTimes,v=e.pendingLanes&-62914561;0<v;){var E=31-Ye(v),j=1<<E,z=p[E];z===-1?((j&o)===0||(j&c)!==0)&&(p[E]=zn(j,a)):z<=a&&(e.expiredLanes|=j),v&=~j}if(a=De,o=he,o=vt(e,e===a?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===a&&(be===2||be===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Ds(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Ft(e,o)){if(a=o&-o,a===e.callbackPriority)return a;switch(c!==null&&Ds(c),Co(o)){case 2:case 8:o=Oa;break;case 32:o=hn;break;case 268435456:o=fi;break;default:o=hn}return c=bm.bind(null,e),o=vn(o,c),e.callbackPriority=a,e.callbackNode=o,a}return c!==null&&c!==null&&Ds(c),e.callbackPriority=2,e.callbackNode=null,2}function bm(e,a){if(mn!==0&&mn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(eu()&&e.callbackNode!==o)return null;var c=he;return c=vt(e,e===De?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(em(e,c,a),vm(e,Nn()),e.callbackNode!=null&&e.callbackNode===o?bm.bind(null,e):null)}function xm(e,a){if(eu())return null;em(e,a,!0)}function s0(){g0(function(){(ve&6)!==0?vn(pr,a0):ym()})}function Df(){return tr===0&&(tr=Xi()),tr}function _m(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zi(""+e)}function Sm(e,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,e.id&&o.setAttribute("form",e.id),a.parentNode.insertBefore(o,a),e=new FormData(e),o.parentNode.removeChild(o),e}function r0(e,a,o,c,p){if(a==="submit"&&o&&o.stateNode===p){var v=_m((p[ae]||null).action),E=c.submitter;E&&(a=(a=E[ae]||null)?_m(a.formAction):E.getAttribute("formAction"),a!==null&&(v=a,E=null));var j=new wr("action","action",null,c,p);e.push({event:j,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(tr!==0){var z=E?Sm(p,E):new FormData(p);Xd(o,{pending:!0,data:z,method:p.method,action:v},null,z)}}else typeof v=="function"&&(j.preventDefault(),z=E?Sm(p,E):new FormData(p),Xd(o,{pending:!0,data:z,method:p.method,action:v},v,z))},currentTarget:p}]})}}for(var Cf=0;Cf<jt.length;Cf++){var jf=jt[Cf],o0=jf.toLowerCase(),l0=jf[0].toUpperCase()+jf.slice(1);Et(o0,"on"+l0)}Et(at,"onAnimationEnd"),Et(ut,"onAnimationIteration"),Et(dt,"onAnimationStart"),Et("dblclick","onDoubleClick"),Et("focusin","onFocus"),Et("focusout","onBlur"),Et(pt,"onTransitionRun"),Et(Tt,"onTransitionStart"),Et(Ct,"onTransitionCancel"),Et(wt,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function wm(e,a){a=(a&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],p=c.event;c=c.listeners;t:{var v=void 0;if(a)for(var E=c.length-1;0<=E;E--){var j=c[E],z=j.instance,nt=j.currentTarget;if(j=j.listener,z!==v&&p.isPropagationStopped())break t;v=j,p.currentTarget=nt;try{v(p)}catch(gt){Fc(gt)}p.currentTarget=null,v=z}else for(E=0;E<c.length;E++){if(j=c[E],z=j.instance,nt=j.currentTarget,j=j.listener,z!==v&&p.isPropagationStopped())break t;v=j,p.currentTarget=nt;try{v(p)}catch(gt){Fc(gt)}p.currentTarget=null,v=z}}}}function ce(e,a){var o=a[jo];o===void 0&&(o=a[jo]=new Set);var c=e+"__bubble";o.has(c)||(Em(a,e,2,!1),o.add(c))}function Mf(e,a,o){var c=0;a&&(c|=4),Em(o,e,c,a)}var au="_reactListening"+Math.random().toString(36).slice(2);function Of(e){if(!e[au]){e[au]=!0,Mo.forEach(function(o){o!=="selectionchange"&&(c0.has(o)||Mf(o,!1,e),Mf(o,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[au]||(a[au]=!0,Mf("selectionchange",!1,a))}}function Em(e,a,o,c){switch(Im(a)){case 2:var p=z0;break;case 8:p=B0;break;default:p=Yf}o=p.bind(null,a,o,e),p=void 0,!Bo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?e.addEventListener(a,o,{capture:!0,passive:p}):e.addEventListener(a,o,!0):p!==void 0?e.addEventListener(a,o,{passive:p}):e.addEventListener(a,o,!1)}function kf(e,a,o,c,p){var v=c;if((a&1)===0&&(a&2)===0&&c!==null)t:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var j=c.stateNode.containerInfo;if(j===p)break;if(E===4)for(E=c.return;E!==null;){var z=E.tag;if((z===3||z===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;j!==null;){if(E=Kn(j),E===null)return;if(z=E.tag,z===5||z===6||z===26||z===27){c=v=E;continue t}j=j.parentNode}}c=c.return}Va(function(){var nt=v,gt=_r(o),bt=[];t:{var lt=Dt.get(e);if(lt!==void 0){var ct=wr,te=e;switch(e){case"keypress":if(Xa(o)===0)break t;case"keydown":case"keyup":ct=Or;break;case"focusin":te="focus",ct=Wa;break;case"focusout":te="blur",ct=Wa;break;case"beforeblur":case"afterblur":ct=Wa;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=Tr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=Fo;break;case at:case ut:case dt:ct=pc;break;case wt:ct=Yo;break;case"scroll":case"scrollend":ct=Er;break;case"wheel":ct=Rr;break;case"copy":case"cut":case"paste":ct=jr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=Vo;break;case"toggle":case"beforetoggle":ct=yc}var Zt=(a&4)!==0,we=!Zt&&(e==="scroll"||e==="scrollend"),W=Zt?lt!==null?lt+"Capture":null:lt;Zt=[];for(var K=nt,tt;K!==null;){var yt=K;if(tt=yt.stateNode,yt=yt.tag,yt!==5&&yt!==26&&yt!==27||tt===null||W===null||(yt=ta(K,W),yt!=null&&Zt.push(El(K,yt,tt))),we)break;K=K.return}0<Zt.length&&(lt=new ct(lt,te,null,o,gt),bt.push({event:lt,listeners:Zt}))}}if((a&7)===0){t:{if(lt=e==="mouseover"||e==="pointerover",ct=e==="mouseout"||e==="pointerout",lt&&o!==ti&&(te=o.relatedTarget||o.fromElement)&&(Kn(te)||te[je]))break t;if((ct||lt)&&(lt=gt.window===gt?gt:(lt=gt.ownerDocument)?lt.defaultView||lt.parentWindow:window,ct?(te=o.relatedTarget||o.toElement,ct=nt,te=te?Kn(te):null,te!==null&&(we=l(te),Zt=te.tag,te!==we||Zt!==5&&Zt!==27&&Zt!==6)&&(te=null)):(ct=null,te=nt),ct!==te)){if(Zt=Tr,yt="onMouseLeave",W="onMouseEnter",K="mouse",(e==="pointerout"||e==="pointerover")&&(Zt=Vo,yt="onPointerLeave",W="onPointerEnter",K="pointer"),we=ct==null?lt:_i(ct),tt=te==null?lt:_i(te),lt=new Zt(yt,K+"leave",ct,o,gt),lt.target=we,lt.relatedTarget=tt,yt=null,Kn(gt)===nt&&(Zt=new Zt(W,K+"enter",te,o,gt),Zt.target=tt,Zt.relatedTarget=we,yt=Zt),we=yt,ct&&te)e:{for(Zt=ct,W=te,K=0,tt=Zt;tt;tt=ao(tt))K++;for(tt=0,yt=W;yt;yt=ao(yt))tt++;for(;0<K-tt;)Zt=ao(Zt),K--;for(;0<tt-K;)W=ao(W),tt--;for(;K--;){if(Zt===W||W!==null&&Zt===W.alternate)break e;Zt=ao(Zt),W=ao(W)}Zt=null}else Zt=null;ct!==null&&Am(bt,lt,ct,Zt,!1),te!==null&&we!==null&&Am(bt,we,te,Zt,!0)}}t:{if(lt=nt?_i(nt):window,ct=lt.nodeName&&lt.nodeName.toLowerCase(),ct==="select"||ct==="input"&&lt.type==="file")var Kt=qs;else if(zr(lt))if(ni)Kt=Qa;else{Kt=sa;var re=wc}else ct=lt.nodeName,!ct||ct.toLowerCase()!=="input"||lt.type!=="checkbox"&&lt.type!=="radio"?nt&&zo(nt.elementType)&&(Kt=qs):Kt=Qo;if(Kt&&(Kt=Kt(e,nt))){Go(bt,Kt,o,gt);break t}re&&re(e,lt,nt),e==="focusout"&&nt&&lt.type==="number"&&nt.memoizedProps.value!=null&&Ha(lt,"number",lt.value)}switch(re=nt?_i(nt):window,e){case"focusin":(zr(re)||re.contentEditable==="true")&&(L=re,q=nt,V=null);break;case"focusout":V=q=L=null;break;case"mousedown":X=!0;break;case"contextmenu":case"mouseup":case"dragend":X=!1,B(bt,o,gt);break;case"selectionchange":if(N)break;case"keydown":case"keyup":B(bt,o,gt)}var Vt;if(Hs)t:{switch(e){case"compositionstart":var $t="onCompositionStart";break t;case"compositionend":$t="onCompositionEnd";break t;case"compositionupdate":$t="onCompositionUpdate";break t}$t=void 0}else aa?Io(e,o)&&($t="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&($t="onCompositionStart");$t&&(Nr&&o.locale!=="ko"&&(aa||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&aa&&(Vt=Ya()):(ei=gt,Sr="value"in ei?ei.value:ei.textContent,aa=!0)),re=su(nt,$t),0<re.length&&($t=new Mr($t,e,null,o,gt),bt.push({event:$t,listeners:re}),Vt?$t.data=Vt:(Vt=bc(o),Vt!==null&&($t.data=Vt)))),(Vt=dd?xc(e,o):fd(e,o))&&($t=su(nt,"onBeforeInput"),0<$t.length&&(re=new Mr("onBeforeInput","beforeinput",null,o,gt),bt.push({event:re,listeners:$t}),re.data=Vt)),r0(bt,e,nt,o,gt)}wm(bt,a)})}function El(e,a,o){return{instance:e,listener:a,currentTarget:o}}function su(e,a){for(var o=a+"Capture",c=[];e!==null;){var p=e,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=ta(e,o),p!=null&&c.unshift(El(e,p,v)),p=ta(e,a),p!=null&&c.push(El(e,p,v))),e.tag===3)return c;e=e.return}return[]}function ao(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Am(e,a,o,c,p){for(var v=a._reactName,E=[];o!==null&&o!==c;){var j=o,z=j.alternate,nt=j.stateNode;if(j=j.tag,z!==null&&z===c)break;j!==5&&j!==26&&j!==27||nt===null||(z=nt,p?(nt=ta(o,v),nt!=null&&E.unshift(El(o,nt,z))):p||(nt=ta(o,v),nt!=null&&E.push(El(o,nt,z)))),o=o.return}E.length!==0&&e.push({event:a,listeners:E})}var u0=/\r\n?/g,d0=/\u0000|\uFFFD/g;function Tm(e){return(typeof e=="string"?e:""+e).replace(u0,`
`).replace(d0,"")}function Dm(e,a){return a=Tm(a),Tm(e)===a}function ru(){}function Se(e,a,o,c,p,v){switch(o){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||qa(e,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&qa(e,""+c);break;case"className":Ii(e,"class",c);break;case"tabIndex":Ii(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ii(e,o,c);break;case"style":dc(e,c,v);break;case"data":if(a!=="object"){Ii(e,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Zi(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(a!=="input"&&Se(e,a,"name",p.name,p,null),Se(e,a,"formEncType",p.formEncType,p,null),Se(e,a,"formMethod",p.formMethod,p,null),Se(e,a,"formTarget",p.formTarget,p,null)):(Se(e,a,"encType",p.encType,p,null),Se(e,a,"method",p.method,p,null),Se(e,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Zi(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=ru);break;case"onScroll":c!=null&&ce("scroll",e);break;case"onScrollEnd":c!=null&&ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=Zi(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":ce("beforetoggle",e),ce("toggle",e),gi(e,"popover",c);break;case"xlinkActuate":Vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Vn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Vn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Vn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Vn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":gi(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=On.get(o)||o,gi(e,o,c))}}function Rf(e,a,o,c,p,v){switch(o){case"style":dc(e,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"children":typeof c=="string"?qa(e,c):(typeof c=="number"||typeof c=="bigint")&&qa(e,""+c);break;case"onScroll":c!=null&&ce("scroll",e);break;case"onScrollEnd":c!=null&&ce("scrollend",e);break;case"onClick":c!=null&&(e.onclick=ru);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Si.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),a=o.slice(2,p?o.length-7:void 0),v=e[ae]||null,v=v!=null?v[o]:null,typeof v=="function"&&e.removeEventListener(a,v,p),typeof c=="function")){typeof v!="function"&&v!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(a,c,p);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):gi(e,o,c)}}}function yn(e,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ce("error",e),ce("load",e);var c=!1,p=!1,v;for(v in o)if(o.hasOwnProperty(v)){var E=o[v];if(E!=null)switch(v){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Se(e,a,v,E,o,null)}}p&&Se(e,a,"srcSet",o.srcSet,o,null),c&&Se(e,a,"src",o.src,o,null);return;case"input":ce("invalid",e);var j=v=E=p=null,z=null,nt=null;for(c in o)if(o.hasOwnProperty(c)){var gt=o[c];if(gt!=null)switch(c){case"name":p=gt;break;case"type":E=gt;break;case"checked":z=gt;break;case"defaultChecked":nt=gt;break;case"value":v=gt;break;case"defaultValue":j=gt;break;case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(s(137,a));break;default:Se(e,a,c,gt,o,null)}}No(e,v,j,z,nt,E,p,!1),Di(e);return;case"select":ce("invalid",e),c=E=v=null;for(p in o)if(o.hasOwnProperty(p)&&(j=o[p],j!=null))switch(p){case"value":v=j;break;case"defaultValue":E=j;break;case"multiple":c=j;default:Se(e,a,p,j,o,null)}a=v,o=E,e.multiple=!!c,a!=null?Qi(e,!!c,a,!1):o!=null&&Qi(e,!!c,o,!0);return;case"textarea":ce("invalid",e),v=p=c=null;for(E in o)if(o.hasOwnProperty(E)&&(j=o[E],j!=null))switch(E){case"value":c=j;break;case"defaultValue":p=j;break;case"children":v=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(91));break;default:Se(e,a,E,j,o,null)}Lo(e,c,p,v),Di(e);return;case"option":for(z in o)if(o.hasOwnProperty(z)&&(c=o[z],c!=null))switch(z){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Se(e,a,z,c,o,null)}return;case"dialog":ce("beforetoggle",e),ce("toggle",e),ce("cancel",e),ce("close",e);break;case"iframe":case"object":ce("load",e);break;case"video":case"audio":for(c=0;c<wl.length;c++)ce(wl[c],e);break;case"image":ce("error",e),ce("load",e);break;case"details":ce("toggle",e);break;case"embed":case"source":case"link":ce("error",e),ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(nt in o)if(o.hasOwnProperty(nt)&&(c=o[nt],c!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Se(e,a,nt,c,o,null)}return;default:if(zo(a)){for(gt in o)o.hasOwnProperty(gt)&&(c=o[gt],c!==void 0&&Rf(e,a,gt,c,o,void 0));return}}for(j in o)o.hasOwnProperty(j)&&(c=o[j],c!=null&&Se(e,a,j,c,o,null))}function f0(e,a,o,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,E=null,j=null,z=null,nt=null,gt=null;for(ct in o){var bt=o[ct];if(o.hasOwnProperty(ct)&&bt!=null)switch(ct){case"checked":break;case"value":break;case"defaultValue":z=bt;default:c.hasOwnProperty(ct)||Se(e,a,ct,null,c,bt)}}for(var lt in c){var ct=c[lt];if(bt=o[lt],c.hasOwnProperty(lt)&&(ct!=null||bt!=null))switch(lt){case"type":v=ct;break;case"name":p=ct;break;case"checked":nt=ct;break;case"defaultChecked":gt=ct;break;case"value":E=ct;break;case"defaultValue":j=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(s(137,a));break;default:ct!==bt&&Se(e,a,lt,ct,c,bt)}}Pa(e,E,j,z,nt,gt,v,p);return;case"select":ct=E=j=lt=null;for(v in o)if(z=o[v],o.hasOwnProperty(v)&&z!=null)switch(v){case"value":break;case"multiple":ct=z;default:c.hasOwnProperty(v)||Se(e,a,v,null,c,z)}for(p in c)if(v=c[p],z=o[p],c.hasOwnProperty(p)&&(v!=null||z!=null))switch(p){case"value":lt=v;break;case"defaultValue":j=v;break;case"multiple":E=v;default:v!==z&&Se(e,a,p,v,c,z)}a=j,o=E,c=ct,lt!=null?Qi(e,!!o,lt,!1):!!c!=!!o&&(a!=null?Qi(e,!!o,a,!0):Qi(e,!!o,o?[]:"",!1));return;case"textarea":ct=lt=null;for(j in o)if(p=o[j],o.hasOwnProperty(j)&&p!=null&&!c.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Se(e,a,j,null,c,p)}for(E in c)if(p=c[E],v=o[E],c.hasOwnProperty(E)&&(p!=null||v!=null))switch(E){case"value":lt=p;break;case"defaultValue":ct=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==v&&Se(e,a,E,p,c,v)}Ua(e,lt,ct);return;case"option":for(var te in o)if(lt=o[te],o.hasOwnProperty(te)&&lt!=null&&!c.hasOwnProperty(te))switch(te){case"selected":e.selected=!1;break;default:Se(e,a,te,null,c,lt)}for(z in c)if(lt=c[z],ct=o[z],c.hasOwnProperty(z)&&lt!==ct&&(lt!=null||ct!=null))switch(z){case"selected":e.selected=lt&&typeof lt!="function"&&typeof lt!="symbol";break;default:Se(e,a,z,lt,c,ct)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Zt in o)lt=o[Zt],o.hasOwnProperty(Zt)&&lt!=null&&!c.hasOwnProperty(Zt)&&Se(e,a,Zt,null,c,lt);for(nt in c)if(lt=c[nt],ct=o[nt],c.hasOwnProperty(nt)&&lt!==ct&&(lt!=null||ct!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(s(137,a));break;default:Se(e,a,nt,lt,c,ct)}return;default:if(zo(a)){for(var we in o)lt=o[we],o.hasOwnProperty(we)&&lt!==void 0&&!c.hasOwnProperty(we)&&Rf(e,a,we,void 0,c,lt);for(gt in c)lt=c[gt],ct=o[gt],!c.hasOwnProperty(gt)||lt===ct||lt===void 0&&ct===void 0||Rf(e,a,gt,lt,c,ct);return}}for(var W in o)lt=o[W],o.hasOwnProperty(W)&&lt!=null&&!c.hasOwnProperty(W)&&Se(e,a,W,null,c,lt);for(bt in c)lt=c[bt],ct=o[bt],!c.hasOwnProperty(bt)||lt===ct||lt==null&&ct==null||Se(e,a,bt,lt,c,ct)}var Nf=null,Lf=null;function ou(e){return e.nodeType===9?e:e.ownerDocument}function Cm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jm(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function zf(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Bf=null;function h0(){var e=window.event;return e&&e.type==="popstate"?e===Bf?!1:(Bf=e,!0):(Bf=null,!1)}var Mm=typeof setTimeout=="function"?setTimeout:void 0,p0=typeof clearTimeout=="function"?clearTimeout:void 0,Om=typeof Promise=="function"?Promise:void 0,g0=typeof queueMicrotask=="function"?queueMicrotask:typeof Om<"u"?function(e){return Om.resolve(null).then(e).catch(m0)}:Mm;function m0(e){setTimeout(function(){throw e})}function fs(e){return e==="head"}function km(e,a){var o=a,c=0,p=0;do{var v=o.nextSibling;if(e.removeChild(o),v&&v.nodeType===8)if(o=v.data,o==="/$"){if(0<c&&8>c){o=c;var E=e.ownerDocument;if(o&1&&Al(E.documentElement),o&2&&Al(E.body),o&4)for(o=E.head,Al(o),E=o.firstChild;E;){var j=E.nextSibling,z=E.nodeName;E[Rs]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=j}}if(p===0){e.removeChild(v),Rl(a);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:c=o.charCodeAt(0)-48;else c=0;o=v}while(o);Rl(a)}function Pf(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Pf(o),$n(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function y0(e,a,o,c){for(;e.nodeType===1;){var p=o;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Rs])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(v=e.getAttribute("rel"),v==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(v!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(v=e.getAttribute("src"),(v!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===v)return e}else return e;if(e=bi(e.nextSibling),e===null)break}return null}function v0(e,a,o){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=bi(e.nextSibling),e===null))return null;return e}function Hf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function b0(e,a){var o=e.ownerDocument;if(e.data!=="$?"||o.readyState==="complete")a();else{var c=function(){a(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function bi(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return e}var Uf=null;function Rm(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return e;a--}else o==="/$"&&a++}e=e.previousSibling}return null}function Nm(e,a,o){switch(a=ou(o),e){case"html":if(e=a.documentElement,!e)throw Error(s(452));return e;case"head":if(e=a.head,!e)throw Error(s(453));return e;case"body":if(e=a.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Al(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);$n(e)}var li=new Map,Lm=new Set;function lu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var va=St.d;St.d={f:x0,r:_0,D:S0,C:w0,L:E0,m:A0,X:D0,S:T0,M:C0};function x0(){var e=va.f(),a=Jc();return e||a}function _0(e){var a=jn(e);a!==null&&a.tag===5&&a.type==="form"?eg(a):va.r(e)}var so=typeof document>"u"?null:document;function zm(e,a,o){var c=so;if(c&&typeof a=="string"&&a){var p=bn(a);p='link[rel="'+e+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Lm.has(p)||(Lm.add(p),e={rel:e,crossOrigin:o,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),yn(a,"link",e),Ee(a),c.head.appendChild(a)))}}function S0(e){va.D(e),zm("dns-prefetch",e,null)}function w0(e,a){va.C(e,a),zm("preconnect",e,a)}function E0(e,a,o){va.L(e,a,o);var c=so;if(c&&e&&a){var p='link[rel="preload"][as="'+bn(a)+'"]';a==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+bn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+bn(o.imageSizes)+'"]')):p+='[href="'+bn(e)+'"]';var v=p;switch(a){case"style":v=ro(e);break;case"script":v=oo(e)}li.has(v)||(e=b({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:e,as:a},o),li.set(v,e),c.querySelector(p)!==null||a==="style"&&c.querySelector(Tl(v))||a==="script"&&c.querySelector(Dl(v))||(a=c.createElement("link"),yn(a,"link",e),Ee(a),c.head.appendChild(a)))}}function A0(e,a){va.m(e,a);var o=so;if(o&&e){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+bn(c)+'"][href="'+bn(e)+'"]',v=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=oo(e)}if(!li.has(v)&&(e=b({rel:"modulepreload",href:e},a),li.set(v,e),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Dl(v)))return}c=o.createElement("link"),yn(c,"link",e),Ee(c),o.head.appendChild(c)}}}function T0(e,a,o){va.S(e,a,o);var c=so;if(c&&e){var p=La(c).hoistableStyles,v=ro(e);a=a||"default";var E=p.get(v);if(!E){var j={loading:0,preload:null};if(E=c.querySelector(Tl(v)))j.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":a},o),(o=li.get(v))&&qf(e,o);var z=E=c.createElement("link");Ee(z),yn(z,"link",e),z._p=new Promise(function(nt,gt){z.onload=nt,z.onerror=gt}),z.addEventListener("load",function(){j.loading|=1}),z.addEventListener("error",function(){j.loading|=2}),j.loading|=4,cu(E,a,c)}E={type:"stylesheet",instance:E,count:1,state:j},p.set(v,E)}}}function D0(e,a){va.X(e,a);var o=so;if(o&&e){var c=La(o).hoistableScripts,p=oo(e),v=c.get(p);v||(v=o.querySelector(Dl(p)),v||(e=b({src:e,async:!0},a),(a=li.get(p))&&Kf(e,a),v=o.createElement("script"),Ee(v),yn(v,"link",e),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(p,v))}}function C0(e,a){va.M(e,a);var o=so;if(o&&e){var c=La(o).hoistableScripts,p=oo(e),v=c.get(p);v||(v=o.querySelector(Dl(p)),v||(e=b({src:e,async:!0,type:"module"},a),(a=li.get(p))&&Kf(e,a),v=o.createElement("script"),Ee(v),yn(v,"link",e),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(p,v))}}function Bm(e,a,o,c){var p=(p=Lt.current)?lu(p):null;if(!p)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=ro(o.href),o=La(p).hoistableStyles,c=o.get(a),c||(c={type:"style",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=ro(o.href);var v=La(p).hoistableStyles,E=v.get(e);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(e,E),(v=p.querySelector(Tl(e)))&&!v._p&&(E.instance=v,E.state.loading=5),li.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},li.set(e,o),v||j0(p,e,o,E.state))),a&&c===null)throw Error(s(528,""));return E}if(a&&c!==null)throw Error(s(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=oo(o),o=La(p).hoistableScripts,c=o.get(a),c||(c={type:"script",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ro(e){return'href="'+bn(e)+'"'}function Tl(e){return'link[rel="stylesheet"]['+e+"]"}function Pm(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function j0(e,a,o,c){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=e.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),yn(a,"link",o),Ee(a),e.head.appendChild(a))}function oo(e){return'[src="'+bn(e)+'"]'}function Dl(e){return"script[async]"+e}function Hm(e,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var c=e.querySelector('style[data-href~="'+bn(o.href)+'"]');if(c)return a.instance=c,Ee(c),c;var p=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Ee(c),yn(c,"style",p),cu(c,o.precedence,e),a.instance=c;case"stylesheet":p=ro(o.href);var v=e.querySelector(Tl(p));if(v)return a.state.loading|=4,a.instance=v,Ee(v),v;c=Pm(o),(p=li.get(p))&&qf(c,p),v=(e.ownerDocument||e).createElement("link"),Ee(v);var E=v;return E._p=new Promise(function(j,z){E.onload=j,E.onerror=z}),yn(v,"link",c),a.state.loading|=4,cu(v,o.precedence,e),a.instance=v;case"script":return v=oo(o.src),(p=e.querySelector(Dl(v)))?(a.instance=p,Ee(p),p):(c=o,(p=li.get(v))&&(c=b({},o),Kf(c,p)),e=e.ownerDocument||e,p=e.createElement("script"),Ee(p),yn(p,"link",c),e.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,cu(c,o.precedence,e));return a.instance}function cu(e,a,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,v=p,E=0;E<c.length;E++){var j=c[E];if(j.dataset.precedence===a)v=j;else if(v!==p)break}v?v.parentNode.insertBefore(e,v.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(e,a.firstChild))}function qf(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function Kf(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var uu=null;function Um(e,a,o){if(uu===null){var c=new Map,p=uu=new Map;p.set(o,c)}else p=uu,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),p=0;p<o.length;p++){var v=o[p];if(!(v[Rs]||v[Xe]||e==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(a)||"";E=e+E;var j=c.get(E);j?j.push(v):c.set(E,[v])}}return c}function qm(e,a,o){e=e.ownerDocument||e,e.head.insertBefore(o,a==="title"?e.querySelector("head > title"):null)}function M0(e,a,o){if(o===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Km(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Cl=null;function O0(){}function k0(e,a,o){if(Cl===null)throw Error(s(475));var c=Cl;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=ro(o.href),v=e.querySelector(Tl(p));if(v){e=v._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=du.bind(c),e.then(c,c)),a.state.loading|=4,a.instance=v,Ee(v);return}v=e.ownerDocument||e,o=Pm(o),(p=li.get(p))&&qf(o,p),v=v.createElement("link"),Ee(v);var E=v;E._p=new Promise(function(j,z){E.onload=j,E.onerror=z}),yn(v,"link",o),a.instance=v}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,e),(e=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=du.bind(c),e.addEventListener("load",a),e.addEventListener("error",a))}}function R0(){if(Cl===null)throw Error(s(475));var e=Cl;return e.stylesheets&&e.count===0&&Vf(e,e.stylesheets),0<e.count?function(a){var o=setTimeout(function(){if(e.stylesheets&&Vf(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o)}}:null}function du(){if(this.count--,this.count===0){if(this.stylesheets)Vf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fu=null;function Vf(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fu=new Map,a.forEach(N0,e),fu=null,du.call(e))}function N0(e,a){if(!(a.state.loading&4)){var o=fu.get(e);if(o)var c=o.get(null);else{o=new Map,fu.set(e,o);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var E=p[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),c=E)}c&&o.set(null,c)}p=a.instance,E=p.getAttribute("data-precedence"),v=o.get(E)||c,v===c&&o.set(null,p),o.set(E,p),this.count++,c=du.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),v?v.parentNode.insertBefore(p,v.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),a.state.loading|=4}}var jl={$$typeof:ot,Provider:null,Consumer:null,_currentValue:Rt,_currentValue2:Rt,_threadCount:0};function L0(e,a,o,c,p,v,E,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Os(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Os(0),this.hiddenUpdates=Os(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Vm(e,a,o,c,p,v,E,j,z,nt,gt,bt){return e=new L0(e,a,o,E,j,z,nt,bt),a=1,v===!0&&(a|=24),v=Yn(3,null,null,a),e.current=v,v.stateNode=e,a=wd(),a.refCount++,e.pooledCache=a,a.refCount++,v.memoizedState={element:c,isDehydrated:o,cache:a},Dd(v),e}function Fm(e){return e?(e=Oi,e):Oi}function Ym(e,a,o,c,p,v){p=Fm(p),c.context===null?c.context=p:c.pendingContext=p,c=Ja(a),c.payload={element:o},v=v===void 0?null:v,v!==null&&(c.callback=v),o=ts(e,c,a),o!==null&&(Qn(o,e,a),sl(o,e,a))}function Xm(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<a?o:a}}function Ff(e,a){Xm(e,a),(e=e.alternate)&&Xm(e,a)}function Wm(e){if(e.tag===13){var a=yi(e,67108864);a!==null&&Qn(a,e,67108864),Ff(e,67108864)}}var hu=!0;function z0(e,a,o,c){var p=et.T;et.T=null;var v=St.p;try{St.p=2,Yf(e,a,o,c)}finally{St.p=v,et.T=p}}function B0(e,a,o,c){var p=et.T;et.T=null;var v=St.p;try{St.p=8,Yf(e,a,o,c)}finally{St.p=v,et.T=p}}function Yf(e,a,o,c){if(hu){var p=Xf(c);if(p===null)kf(e,a,c,pu,o),Gm(e,c);else if(H0(p,e,a,o,c))c.stopPropagation();else if(Gm(e,c),a&4&&-1<P0.indexOf(e)){for(;p!==null;){var v=jn(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=At(v.pendingLanes);if(E!==0){var j=v;for(j.pendingLanes|=2,j.entangledLanes|=2;E;){var z=1<<31-Ye(E);j.entanglements[1]|=z,E&=~z}zi(v),(ve&6)===0&&(Zc=Nn()+500,Sl(0))}}break;case 13:j=yi(v,2),j!==null&&Qn(j,v,2),Jc(),Ff(v,2)}if(v=Xf(c),v===null&&kf(e,a,c,pu,o),v===p)break;p=v}p!==null&&c.stopPropagation()}else kf(e,a,c,null,o)}}function Xf(e){return e=_r(e),Wf(e)}var pu=null;function Wf(e){if(pu=null,e=Kn(e),e!==null){var a=l(e);if(a===null)e=null;else{var o=a.tag;if(o===13){if(e=u(a),e!==null)return e;e=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return pu=e,null}function Im(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Eo()){case pr:return 2;case Oa:return 8;case hn:case gr:return 32;case fi:return 268435456;default:return 32}default:return 32}}var If=!1,hs=null,ps=null,gs=null,Ml=new Map,Ol=new Map,ms=[],P0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gm(e,a){switch(e){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Ml.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(a.pointerId)}}function kl(e,a,o,c,p,v){return e===null||e.nativeEvent!==v?(e={blockedOn:a,domEventName:o,eventSystemFlags:c,nativeEvent:v,targetContainers:[p]},a!==null&&(a=jn(a),a!==null&&Wm(a)),e):(e.eventSystemFlags|=c,a=e.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),e)}function H0(e,a,o,c,p){switch(a){case"focusin":return hs=kl(hs,e,a,o,c,p),!0;case"dragenter":return ps=kl(ps,e,a,o,c,p),!0;case"mouseover":return gs=kl(gs,e,a,o,c,p),!0;case"pointerover":var v=p.pointerId;return Ml.set(v,kl(Ml.get(v)||null,e,a,o,c,p)),!0;case"gotpointercapture":return v=p.pointerId,Ol.set(v,kl(Ol.get(v)||null,e,a,o,c,p)),!0}return!1}function Qm(e){var a=Kn(e.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=u(o),a!==null){e.blockedOn=a,Na(e.priority,function(){if(o.tag===13){var c=Gn();c=Do(c);var p=yi(o,c);p!==null&&Qn(p,o,c),Ff(o,c)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gu(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var o=Xf(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);ti=c,o.target.dispatchEvent(c),ti=null}else return a=jn(o),a!==null&&Wm(a),e.blockedOn=o,!1;a.shift()}return!0}function Zm(e,a,o){gu(e)&&o.delete(a)}function U0(){If=!1,hs!==null&&gu(hs)&&(hs=null),ps!==null&&gu(ps)&&(ps=null),gs!==null&&gu(gs)&&(gs=null),Ml.forEach(Zm),Ol.forEach(Zm)}function mu(e,a){e.blockedOn===a&&(e.blockedOn=null,If||(If=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,U0)))}var yu=null;function $m(e){yu!==e&&(yu=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){yu===e&&(yu=null);for(var a=0;a<e.length;a+=3){var o=e[a],c=e[a+1],p=e[a+2];if(typeof c!="function"){if(Wf(c||o)===null)continue;break}var v=jn(o);v!==null&&(e.splice(a,3),a-=3,Xd(v,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function Rl(e){function a(z){return mu(z,e)}hs!==null&&mu(hs,e),ps!==null&&mu(ps,e),gs!==null&&mu(gs,e),Ml.forEach(a),Ol.forEach(a);for(var o=0;o<ms.length;o++){var c=ms[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<ms.length&&(o=ms[0],o.blockedOn===null);)Qm(o),o.blockedOn===null&&ms.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],v=o[c+1],E=p[ae]||null;if(typeof v=="function")E||$m(o);else if(E){var j=null;if(v&&v.hasAttribute("formAction")){if(p=v,E=v[ae]||null)j=E.formAction;else if(Wf(p)!==null)continue}else j=E.action;typeof j=="function"?o[c+1]=j:(o.splice(c,3),c-=3),$m(o)}}}function Gf(e){this._internalRoot=e}vu.prototype.render=Gf.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(s(409));var o=a.current,c=Gn();Ym(o,c,e,a,null,null)},vu.prototype.unmount=Gf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;Ym(e.current,2,null,e,null,null),Jc(),a[je]=null}};function vu(e){this._internalRoot=e}vu.prototype.unstable_scheduleHydration=function(e){if(e){var a=Wi();e={blockedOn:null,target:e,priority:a};for(var o=0;o<ms.length&&a!==0&&a<ms[o].priority;o++);ms.splice(o,0,e),o===0&&Qm(e)}};var Jm=t.version;if(Jm!=="19.1.1")throw Error(s(527,Jm,"19.1.1"));St.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=f(a),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var q0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:et,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{Cn=bu.inject(q0),Be=bu}catch{}}return Ll.createRoot=function(e,a){if(!r(e))throw Error(s(299));var o=!1,c="",p=gg,v=mg,E=yg,j=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(j=a.unstable_transitionCallbacks)),a=Vm(e,1,!1,null,null,o,c,p,v,E,j,null),e[je]=a.current,Of(e),new Gf(a)},Ll.hydrateRoot=function(e,a,o){if(!r(e))throw Error(s(299));var c=!1,p="",v=gg,E=mg,j=yg,z=null,nt=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(j=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(z=o.unstable_transitionCallbacks),o.formState!==void 0&&(nt=o.formState)),a=Vm(e,1,!0,a,o??null,c,p,v,E,j,z,nt),a.context=Fm(null),o=a.current,c=Gn(),c=Do(c),p=Ja(c),p.callback=null,ts(o,p,c),o=c,a.current.lanes=o,Ra(a,o),zi(a),e[je]=a.current,Of(e),new vu(a)},Ll.version="19.1.1",Ll}var cy;function $0(){if(cy)return $f.exports;cy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),$f.exports=Z0(),$f.exports}var J0=$0();/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uy="popstate";function t_(i={}){function t(s,r){let{pathname:l,search:u,hash:d}=s.location;return Sh("",{pathname:l,search:u,hash:d},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:Zl(r)}return n_(t,n,null,i)}function Ue(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Vi(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function e_(){return Math.random().toString(36).substring(2,10)}function dy(i,t){return{usr:i.state,key:i.key,idx:t}}function Sh(i,t,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?vo(t):t,state:n,key:t&&t.key||s||e_()}}function Zl({pathname:i="/",search:t="",hash:n=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function vo(i){let t={};if(i){let n=i.indexOf("#");n>=0&&(t.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(t.search=i.substring(s),i=i.substring(0,s)),i&&(t.pathname=i)}return t}function n_(i,t,n,s={}){let{window:r=document.defaultView,v5Compat:l=!1}=s,u=r.history,d="POP",f=null,g=b();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function b(){return(u.state||{idx:null}).idx}function _(){d="POP";let M=b(),k=M==null?null:M-g;g=M,f&&f({action:d,location:O.location,delta:k})}function w(M,k){d="PUSH";let G=Sh(O.location,M,k);g=b()+1;let ot=dy(G,g),H=O.createHref(G);try{u.pushState(ot,"",H)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;r.location.assign(H)}l&&f&&f({action:d,location:O.location,delta:1})}function T(M,k){d="REPLACE";let G=Sh(O.location,M,k);g=b();let ot=dy(G,g),H=O.createHref(G);u.replaceState(ot,"",H),l&&f&&f({action:d,location:O.location,delta:0})}function C(M){return i_(M)}let O={get action(){return d},get location(){return i(r,u)},listen(M){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(uy,_),f=M,()=>{r.removeEventListener(uy,_),f=null}},createHref(M){return t(r,M)},createURL:C,encodeLocation(M){let k=C(M);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:w,replace:T,go(M){return u.go(M)}};return O}function i_(i,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ue(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Zl(i);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Iv(i,t,n="/"){return a_(i,t,n,!1)}function a_(i,t,n,s){let r=typeof t=="string"?vo(t):t,l=Ca(r.pathname||"/",n);if(l==null)return null;let u=Gv(i);s_(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let g=m_(l);d=p_(u[f],g,s)}return d}function Gv(i,t=[],n=[],s=""){let r=(l,u,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};f.relativePath.startsWith("/")&&(Ue(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let g=Da([s,f.relativePath]),b=n.concat(f);l.children&&l.children.length>0&&(Ue(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Gv(l.children,t,b,g)),!(l.path==null&&!l.index)&&t.push({path:g,score:f_(g,l.index),routesMeta:b})};return i.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))r(l,u);else for(let d of Qv(l.path))r(l,u,d)}),t}function Qv(i){let t=i.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return r?[l,""]:[l];let u=Qv(s.join("/")),d=[];return d.push(...u.map(f=>f===""?l:[l,f].join("/"))),r&&d.push(...u),d.map(f=>i.startsWith("/")&&f===""?"/":f)}function s_(i){i.sort((t,n)=>t.score!==n.score?n.score-t.score:h_(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var r_=/^:[\w-]+$/,o_=3,l_=2,c_=1,u_=10,d_=-2,fy=i=>i==="*";function f_(i,t){let n=i.split("/"),s=n.length;return n.some(fy)&&(s+=d_),t&&(s+=l_),n.filter(r=>!fy(r)).reduce((r,l)=>r+(r_.test(l)?o_:l===""?c_:u_),s)}function h_(i,t){return i.length===t.length&&i.slice(0,-1).every((s,r)=>s===t[r])?i[i.length-1]-t[t.length-1]:0}function p_(i,t,n=!1){let{routesMeta:s}=i,r={},l="/",u=[];for(let d=0;d<s.length;++d){let f=s[d],g=d===s.length-1,b=l==="/"?t:t.slice(l.length)||"/",_=Vu({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},b),w=f.route;if(!_&&g&&n&&!s[s.length-1].route.index&&(_=Vu({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},b)),!_)return null;Object.assign(r,_.params),u.push({params:r,pathname:Da([l,_.pathname]),pathnameBase:x_(Da([l,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(l=Da([l,_.pathnameBase]))}return u}function Vu(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=g_(i.path,i.caseSensitive,i.end),r=t.match(n);if(!r)return null;let l=r[0],u=l.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:s.reduce((g,{paramName:b,isOptional:_},w)=>{if(b==="*"){let C=d[w]||"";u=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const T=d[w];return _&&!T?g[b]=void 0:g[b]=(T||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:i}}function g_(i,t=!1,n=!0){Vi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],r="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),r+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":i!==""&&i!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function m_(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function Ca(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function y_(i,t="/"){let{pathname:n,search:s="",hash:r=""}=typeof i=="string"?vo(i):i;return{pathname:n?n.startsWith("/")?n:v_(n,t):t,search:__(s),hash:S_(r)}}function v_(i,t){let n=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function nh(i,t,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function b_(i){return i.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Zv(i){let t=b_(i);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function $v(i,t,n,s=!1){let r;typeof i=="string"?r=vo(i):(r={...i},Ue(!r.pathname||!r.pathname.includes("?"),nh("?","pathname","search",r)),Ue(!r.pathname||!r.pathname.includes("#"),nh("#","pathname","hash",r)),Ue(!r.search||!r.search.includes("#"),nh("#","search","hash",r)));let l=i===""||r.pathname==="",u=l?"/":r.pathname,d;if(u==null)d=n;else{let _=t.length-1;if(!s&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),_-=1;r.pathname=w.join("/")}d=_>=0?t[_]:"/"}let f=y_(r,d),g=u&&u!=="/"&&u.endsWith("/"),b=(l||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(g||b)&&(f.pathname+="/"),f}var Da=i=>i.join("/").replace(/\/\/+/g,"/"),x_=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),__=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,S_=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function w_(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Jv=["POST","PUT","PATCH","DELETE"];new Set(Jv);var E_=["GET",...Jv];new Set(E_);var bo=P.createContext(null);bo.displayName="DataRouter";var $u=P.createContext(null);$u.displayName="DataRouterState";P.createContext(!1);var tb=P.createContext({isTransitioning:!1});tb.displayName="ViewTransition";var A_=P.createContext(new Map);A_.displayName="Fetchers";var T_=P.createContext(null);T_.displayName="Await";var Fi=P.createContext(null);Fi.displayName="Navigation";var rc=P.createContext(null);rc.displayName="Location";var ja=P.createContext({outlet:null,matches:[],isDataRoute:!1});ja.displayName="Route";var Ph=P.createContext(null);Ph.displayName="RouteError";function D_(i,{relative:t}={}){Ue(oc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(Fi),{hash:r,pathname:l,search:u}=lc(i,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:Da([n,l])),s.createHref({pathname:d,search:u,hash:r})}function oc(){return P.useContext(rc)!=null}function As(){return Ue(oc(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(rc).location}var eb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nb(i){P.useContext(Fi).static||P.useLayoutEffect(i)}function ib(){let{isDataRoute:i}=P.useContext(ja);return i?U_():C_()}function C_(){Ue(oc(),"useNavigate() may be used only in the context of a <Router> component.");let i=P.useContext(bo),{basename:t,navigator:n}=P.useContext(Fi),{matches:s}=P.useContext(ja),{pathname:r}=As(),l=JSON.stringify(Zv(s)),u=P.useRef(!1);return nb(()=>{u.current=!0}),P.useCallback((f,g={})=>{if(Vi(u.current,eb),!u.current)return;if(typeof f=="number"){n.go(f);return}let b=$v(f,JSON.parse(l),r,g.relative==="path");i==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:Da([t,b.pathname])),(g.replace?n.replace:n.push)(b,g.state,g)},[t,n,l,r,i])}P.createContext(null);function lc(i,{relative:t}={}){let{matches:n}=P.useContext(ja),{pathname:s}=As(),r=JSON.stringify(Zv(n));return P.useMemo(()=>$v(i,JSON.parse(r),s,t==="path"),[i,r,s,t])}function j_(i,t){return ab(i,t)}function ab(i,t,n,s){Ue(oc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=P.useContext(Fi),{matches:l}=P.useContext(ja),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",g=u?u.pathnameBase:"/",b=u&&u.route;{let k=b&&b.path||"";sb(f,!b||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let _=As(),w;if(t){let k=typeof t=="string"?vo(t):t;Ue(g==="/"||k.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${k.pathname}" was given in the \`location\` prop.`),w=k}else w=_;let T=w.pathname||"/",C=T;if(g!=="/"){let k=g.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(k.length).join("/")}let O=Iv(i,{pathname:C});Vi(b||O!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Vi(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=N_(O&&O.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:Da([g,r.encodeLocation?r.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?g:Da([g,r.encodeLocation?r.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,n,s);return t&&M?P.createElement(rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},M):M}function M_(){let i=H_(),t=w_(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",i),u=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:l},"ErrorBoundary")," or"," ",P.createElement("code",{style:l},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:r},n):null,u)}var O_=P.createElement(M_,null),k_=class extends P.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?P.createElement(ja.Provider,{value:this.props.routeContext},P.createElement(Ph.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function R_({routeContext:i,match:t,children:n}){let s=P.useContext(bo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(ja.Provider,{value:i},n)}function N_(i,t=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let r=i,l=n?.errors;if(l!=null){let f=r.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);Ue(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let u=!1,d=-1;if(n)for(let f=0;f<r.length;f++){let g=r[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=f),g.route.id){let{loaderData:b,errors:_}=n,w=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||w){u=!0,d>=0?r=r.slice(0,d+1):r=[r[0]];break}}}return r.reduceRight((f,g,b)=>{let _,w=!1,T=null,C=null;n&&(_=l&&g.route.id?l[g.route.id]:void 0,T=g.route.errorElement||O_,u&&(d<0&&b===0?(sb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):d===b&&(w=!0,C=g.route.hydrateFallbackElement||null)));let O=t.concat(r.slice(0,b+1)),M=()=>{let k;return _?k=T:w?k=C:g.route.Component?k=P.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=f,P.createElement(R_,{match:g,routeContext:{outlet:f,matches:O,isDataRoute:n!=null},children:k})};return n&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?P.createElement(k_,{location:n.location,revalidation:n.revalidation,component:T,error:_,children:M(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):M()},null)}function Hh(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L_(i){let t=P.useContext(bo);return Ue(t,Hh(i)),t}function z_(i){let t=P.useContext($u);return Ue(t,Hh(i)),t}function B_(i){let t=P.useContext(ja);return Ue(t,Hh(i)),t}function Uh(i){let t=B_(i),n=t.matches[t.matches.length-1];return Ue(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function P_(){return Uh("useRouteId")}function H_(){let i=P.useContext(Ph),t=z_("useRouteError"),n=Uh("useRouteError");return i!==void 0?i:t.errors?.[n]}function U_(){let{router:i}=L_("useNavigate"),t=Uh("useNavigate"),n=P.useRef(!1);return nb(()=>{n.current=!0}),P.useCallback(async(r,l={})=>{Vi(n.current,eb),n.current&&(typeof r=="number"?i.navigate(r):await i.navigate(r,{fromRouteId:t,...l}))},[i,t])}var hy={};function sb(i,t,n){!t&&!hy[i]&&(hy[i]=!0,Vi(!1,n))}P.memo(q_);function q_({routes:i,future:t,state:n}){return ab(i,void 0,n,t)}function sr(i){Ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K_({basename:i="/",children:t=null,location:n,navigationType:s="POP",navigator:r,static:l=!1}){Ue(!oc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=i.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:u,navigator:r,static:l,future:{}}),[u,r,l]);typeof n=="string"&&(n=vo(n));let{pathname:f="/",search:g="",hash:b="",state:_=null,key:w="default"}=n,T=P.useMemo(()=>{let C=Ca(f,u);return C==null?null:{location:{pathname:C,search:g,hash:b,state:_,key:w},navigationType:s}},[u,f,g,b,_,w,s]);return Vi(T!=null,`<Router basename="${u}"> is not able to match the URL "${f}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:P.createElement(Fi.Provider,{value:d},P.createElement(rc.Provider,{children:t,value:T}))}function V_({children:i,location:t}){return j_(wh(i),t)}function wh(i,t=[]){let n=[];return P.Children.forEach(i,(s,r)=>{if(!P.isValidElement(s))return;let l=[...t,r];if(s.type===P.Fragment){n.push.apply(n,wh(s.props.children,l));return}Ue(s.type===sr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ue(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=wh(s.props.children,l)),n.push(u)}),n}var Bu="get",Pu="application/x-www-form-urlencoded";function Ju(i){return i!=null&&typeof i.tagName=="string"}function F_(i){return Ju(i)&&i.tagName.toLowerCase()==="button"}function Y_(i){return Ju(i)&&i.tagName.toLowerCase()==="form"}function X_(i){return Ju(i)&&i.tagName.toLowerCase()==="input"}function W_(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function I_(i,t){return i.button===0&&(!t||t==="_self")&&!W_(i)}var xu=null;function G_(){if(xu===null)try{new FormData(document.createElement("form"),0),xu=!1}catch{xu=!0}return xu}var Q_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ih(i){return i!=null&&!Q_.has(i)?(Vi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pu}"`),null):i}function Z_(i,t){let n,s,r,l,u;if(Y_(i)){let d=i.getAttribute("action");s=d?Ca(d,t):null,n=i.getAttribute("method")||Bu,r=ih(i.getAttribute("enctype"))||Pu,l=new FormData(i)}else if(F_(i)||X_(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=i.getAttribute("formaction")||d.getAttribute("action");if(s=f?Ca(f,t):null,n=i.getAttribute("formmethod")||d.getAttribute("method")||Bu,r=ih(i.getAttribute("formenctype"))||ih(d.getAttribute("enctype"))||Pu,l=new FormData(d,i),!G_()){let{name:g,type:b,value:_}=i;if(b==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,_)}}else{if(Ju(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bu,s=null,r=Pu,u=i}return l&&r==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qh(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function $_(i,t,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Ca(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function J_(i,t){if(i.id in t)return t[i.id];try{let n=await import(i.module);return t[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function eS(i,t,n){let s=await Promise.all(i.map(async r=>{let l=t.routes[r.route.id];if(l){let u=await J_(l,n);return u.links?u.links():[]}return[]}));return sS(s.flat(1).filter(tS).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function py(i,t,n,s,r,l){let u=(f,g)=>n[g]?f.route.id!==n[g].route.id:!0,d=(f,g)=>n[g].pathname!==f.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==f.params["*"];return l==="assets"?t.filter((f,g)=>u(f,g)||d(f,g)):l==="data"?t.filter((f,g)=>{let b=s.routes[f.route.id];if(!b||!b.hasLoader)return!1;if(u(f,g)||d(f,g))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function nS(i,t,{includeHydrateFallback:n}={}){return iS(i.map(s=>{let r=t.routes[s.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function iS(i){return[...new Set(i)]}function aS(i){let t={},n=Object.keys(i).sort();for(let s of n)t[s]=i[s];return t}function sS(i,t){let n=new Set;return new Set(t),i.reduce((s,r)=>{let l=JSON.stringify(aS(r));return n.has(l)||(n.add(l),s.push({key:l,link:r})),s},[])}function rb(){let i=P.useContext(bo);return qh(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function rS(){let i=P.useContext($u);return qh(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Kh=P.createContext(void 0);Kh.displayName="FrameworkContext";function ob(){let i=P.useContext(Kh);return qh(i,"You must render this element inside a <HydratedRouter> element"),i}function oS(i,t){let n=P.useContext(Kh),[s,r]=P.useState(!1),[l,u]=P.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:g,onMouseLeave:b,onTouchStart:_}=t,w=P.useRef(null);P.useEffect(()=>{if(i==="render"&&u(!0),i==="viewport"){let O=k=>{k.forEach(G=>{u(G.isIntersecting)})},M=new IntersectionObserver(O,{threshold:.5});return w.current&&M.observe(w.current),()=>{M.disconnect()}}},[i]),P.useEffect(()=>{if(s){let O=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(O)}}},[s]);let T=()=>{r(!0)},C=()=>{r(!1),u(!1)};return n?i!=="intent"?[l,w,{}]:[l,w,{onFocus:zl(d,T),onBlur:zl(f,C),onMouseEnter:zl(g,T),onMouseLeave:zl(b,C),onTouchStart:zl(_,T)}]:[!1,w,{}]}function zl(i,t){return n=>{i&&i(n),n.defaultPrevented||t(n)}}function lS({page:i,...t}){let{router:n}=rb(),s=P.useMemo(()=>Iv(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?P.createElement(uS,{page:i,matches:s,...t}):null}function cS(i){let{manifest:t,routeModules:n}=ob(),[s,r]=P.useState([]);return P.useEffect(()=>{let l=!1;return eS(i,t,n).then(u=>{l||r(u)}),()=>{l=!0}},[i,t,n]),s}function uS({page:i,matches:t,...n}){let s=As(),{manifest:r,routeModules:l}=ob(),{basename:u}=rb(),{loaderData:d,matches:f}=rS(),g=P.useMemo(()=>py(i,t,f,r,s,"data"),[i,t,f,r,s]),b=P.useMemo(()=>py(i,t,f,r,s,"assets"),[i,t,f,r,s]),_=P.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let C=new Set,O=!1;if(t.forEach(k=>{let G=r.routes[k.route.id];!G||!G.hasLoader||(!g.some(ot=>ot.route.id===k.route.id)&&k.route.id in d&&l[k.route.id]?.shouldRevalidate||G.hasClientLoader?O=!0:C.add(k.route.id))}),C.size===0)return[];let M=$_(i,u,"data");return O&&C.size>0&&M.searchParams.set("_routes",t.filter(k=>C.has(k.route.id)).map(k=>k.route.id).join(",")),[M.pathname+M.search]},[u,d,s,r,g,t,i,l]),w=P.useMemo(()=>nS(b,r),[b,r]),T=cS(b);return P.createElement(P.Fragment,null,_.map(C=>P.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),w.map(C=>P.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),T.map(({key:C,link:O})=>P.createElement("link",{key:C,nonce:n.nonce,...O})))}function dS(...i){return t=>{i.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var lb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lb&&(window.__reactRouterVersion="7.8.0")}catch{}function fS({basename:i,children:t,window:n}){let s=P.useRef();s.current==null&&(s.current=t_({window:n,v5Compat:!0}));let r=s.current,[l,u]=P.useState({action:r.action,location:r.location}),d=P.useCallback(f=>{P.startTransition(()=>u(f))},[u]);return P.useLayoutEffect(()=>r.listen(d),[r,d]),P.createElement(K_,{basename:i,children:t,location:l.location,navigationType:l.action,navigator:r})}var cb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ub=P.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:r,reloadDocument:l,replace:u,state:d,target:f,to:g,preventScrollReset:b,viewTransition:_,...w},T){let{basename:C}=P.useContext(Fi),O=typeof g=="string"&&cb.test(g),M,k=!1;if(typeof g=="string"&&O&&(M=g,lb))try{let mt=new URL(window.location.href),Mt=g.startsWith("//")?new URL(mt.protocol+g):new URL(g),zt=Ca(Mt.pathname,C);Mt.origin===mt.origin&&zt!=null?g=zt+Mt.search+Mt.hash:k=!0}catch{Vi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=D_(g,{relative:r}),[ot,H,$]=oS(s,w),J=gS(g,{replace:u,state:d,target:f,preventScrollReset:b,relative:r,viewTransition:_});function ht(mt){t&&t(mt),mt.defaultPrevented||J(mt)}let ft=P.createElement("a",{...w,...$,href:M||G,onClick:k||l?t:ht,ref:dS(T,H),target:f,"data-discover":!O&&n==="render"?"true":void 0});return ot&&!O?P.createElement(P.Fragment,null,ft,P.createElement(lS,{page:G})):ft});ub.displayName="Link";var uo=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:r=!1,style:l,to:u,viewTransition:d,children:f,...g},b){let _=lc(u,{relative:g.relative}),w=As(),T=P.useContext($u),{navigator:C,basename:O}=P.useContext(Fi),M=T!=null&&xS(_)&&d===!0,k=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,G=w.pathname,ot=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(G=G.toLowerCase(),ot=ot?ot.toLowerCase():null,k=k.toLowerCase()),ot&&O&&(ot=Ca(ot,O)||ot);const H=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let $=G===k||!r&&G.startsWith(k)&&G.charAt(H)==="/",J=ot!=null&&(ot===k||!r&&ot.startsWith(k)&&ot.charAt(k.length)==="/"),ht={isActive:$,isPending:J,isTransitioning:M},ft=$?t:void 0,mt;typeof s=="function"?mt=s(ht):mt=[s,$?"active":null,J?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let Mt=typeof l=="function"?l(ht):l;return P.createElement(ub,{...g,"aria-current":ft,className:mt,ref:b,style:Mt,to:u,viewTransition:d},typeof f=="function"?f(ht):f)});uo.displayName="NavLink";var hS=P.forwardRef(({discover:i="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:r,state:l,method:u=Bu,action:d,onSubmit:f,relative:g,preventScrollReset:b,viewTransition:_,...w},T)=>{let C=vS(),O=bS(d,{relative:g}),M=u.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&cb.test(d),G=ot=>{if(f&&f(ot),ot.defaultPrevented)return;ot.preventDefault();let H=ot.nativeEvent.submitter,$=H?.getAttribute("formmethod")||u;C(H||ot.currentTarget,{fetcherKey:t,method:$,navigate:n,replace:r,state:l,relative:g,preventScrollReset:b,viewTransition:_})};return P.createElement("form",{ref:T,method:M,action:O,onSubmit:s?f:G,...w,"data-discover":!k&&i==="render"?"true":void 0})});hS.displayName="Form";function pS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function db(i){let t=P.useContext(bo);return Ue(t,pS(i)),t}function gS(i,{target:t,replace:n,state:s,preventScrollReset:r,relative:l,viewTransition:u}={}){let d=ib(),f=As(),g=lc(i,{relative:l});return P.useCallback(b=>{if(I_(b,t)){b.preventDefault();let _=n!==void 0?n:Zl(f)===Zl(g);d(i,{replace:_,state:s,preventScrollReset:r,relative:l,viewTransition:u})}},[f,d,g,n,s,t,i,r,l,u])}var mS=0,yS=()=>`__${String(++mS)}__`;function vS(){let{router:i}=db("useSubmit"),{basename:t}=P.useContext(Fi),n=P_();return P.useCallback(async(s,r={})=>{let{action:l,method:u,encType:d,formData:f,body:g}=Z_(s,t);if(r.navigate===!1){let b=r.fetcherKey||yS();await i.fetch(b,n,r.action||l,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||u,formEncType:r.encType||d,flushSync:r.flushSync})}else await i.navigate(r.action||l,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||u,formEncType:r.encType||d,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,t,n])}function bS(i,{relative:t}={}){let{basename:n}=P.useContext(Fi),s=P.useContext(ja);Ue(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),l={...lc(i||".",{relative:t})},u=As();if(i==null){l.search=u.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(b=>b==="")){d.delete("index"),f.filter(_=>_).forEach(_=>d.append("index",_));let b=d.toString();l.search=b?`?${b}`:""}}return(!i||i===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Da([n,l.pathname])),Zl(l)}function xS(i,{relative:t}={}){let n=P.useContext(tb);Ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=db("useViewTransitionState"),r=lc(i,{relative:t});if(!n.isTransitioning)return!1;let l=Ca(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Ca(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Vu(r.pathname,u)!=null||Vu(r.pathname,l)!=null}function _S(){return y.jsxs("nav",{className:"navigation",children:[y.jsxs(uo,{to:"/add-event",className:({isActive:i})=>i?"nav-item active":"nav-item",children:[y.jsx("span",{className:"nav-icon",children:""}),y.jsx("span",{className:"nav-label",children:"Add Event"})]}),y.jsxs(uo,{to:"/progress",className:({isActive:i})=>i?"nav-item active":"nav-item",children:[y.jsx("span",{className:"nav-icon",children:""}),y.jsx("span",{className:"nav-label",children:"Progress"})]}),y.jsxs(uo,{to:"/history",className:({isActive:i})=>i?"nav-item active":"nav-item",children:[y.jsx("span",{className:"nav-icon",children:""}),y.jsx("span",{className:"nav-label",children:"History"})]}),y.jsxs(uo,{to:"/analytics",className:({isActive:i})=>i?"nav-item active":"nav-item",children:[y.jsx("span",{className:"nav-icon",children:""}),y.jsx("span",{className:"nav-label",children:"Analytics"})]}),y.jsxs(uo,{to:"/customize",className:({isActive:i})=>i?"nav-item active":"nav-item",children:[y.jsx("span",{className:"nav-icon",children:""}),y.jsx("span",{className:"nav-label",children:"Customize"})]})]})}const fb=P.createContext(),hb=()=>{const i=P.useContext(fb);if(!i)throw new Error("useTheme must be used within a ThemeProvider");return i};function SS(){const{toggleTheme:i,isDark:t}=hb();return y.jsx("button",{onClick:i,className:"theme-toggle",title:`Switch to ${t?"light":"dark"} theme`,style:{position:"fixed",top:"20px",right:"20px",zIndex:1e3,background:"var(--bg-secondary)",border:"2px solid var(--border-color)",borderRadius:"50%",width:"50px",height:"50px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",boxShadow:"0 2px 8px var(--shadow)",transition:"all 0.2s ease",color:"var(--text-primary)"},onMouseEnter:n=>{n.target.style.transform="scale(1.05)",n.target.style.boxShadow="0 4px 12px var(--shadow-hover)"},onMouseLeave:n=>{n.target.style.transform="scale(1)",n.target.style.boxShadow="0 2px 8px var(--shadow)"},children:t?"":""})}function wS(){const[i,t]=P.useState(null),[n,s]=P.useState(!1),[r,l]=P.useState("manual");P.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0||document.referrer.includes("android-app://")||window.location.search.includes("standalone=true")){console.log("App is running in standalone mode - no install prompt needed"),s(!1);return}if(sessionStorage.getItem("installPromptDismissed")){s(!1);return}s(!0);const b=_=>{_.preventDefault(),t(_),l("auto")};return window.addEventListener("beforeinstallprompt",b),l("manual"),()=>{window.removeEventListener("beforeinstallprompt",b)}},[]);const u=async()=>{if(i&&r==="auto")i.prompt(),await i.userChoice,t(null),s(!1);else{const f=/Android/i.test(navigator.userAgent),g=/iPad|iPhone|iPod/.test(navigator.userAgent);let b=`To install this app:

`;f?b+=`1. Tap the menu () in Chrome
2. Select "Add to Home screen"
3. Tap "Add" to confirm`:g?b+=`1. Tap the Share button ()
2. Select "Add to Home Screen"
3. Tap "Add" to confirm`:b+=`1. Look for the install icon in your address bar
2. Click it to install
3. Or use browser menu  Install app`,alert(b),s(!1)}},d=()=>{s(!1),sessionStorage.setItem("installPromptDismissed","true")};return n?y.jsxs("div",{style:{position:"fixed",top:"0",left:"0",right:"0",backgroundColor:"white",color:"#333",padding:"20px",borderBottom:"1px solid #e0e0e0",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 2px 12px rgba(0,0,0,0.1)",zIndex:1e3,animation:"slideDown 0.3s ease-out"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[y.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#646cff",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:""}),y.jsxs("div",{children:[y.jsx("div",{style:{fontWeight:"bold",fontSize:"16px"},children:"Install Life Progress Tracker"}),y.jsx("div",{style:{fontSize:"14px",color:"#666"},children:"Get the full app experience"})]})]}),y.jsxs("div",{style:{display:"flex",gap:"8px"},children:[y.jsx("button",{onClick:u,style:{backgroundColor:"#646cff",color:"white",border:"none",padding:"10px 20px",borderRadius:"20px",cursor:"pointer",fontWeight:"bold",fontSize:"14px"},children:"Install"}),y.jsx("button",{onClick:d,style:{backgroundColor:"transparent",color:"#666",border:"none",padding:"10px",borderRadius:"20px",cursor:"pointer",fontSize:"18px"},children:""})]}),y.jsx("style",{jsx:!0,children:`
        @keyframes slideDown {
          from { transform: translateY(-100%); }
          to { transform: translateY(0); }
        }
      `})]}):null}function pb(){const[i,t]=P.useState(!1),[n,s]=P.useState("unknown");P.useEffect(()=>{const g=window.matchMedia("(display-mode: standalone)").matches,b=window.navigator.standalone===!0,_=window.matchMedia("(display-mode: minimal-ui)").matches,w=window.matchMedia("(display-mode: fullscreen)").matches;if(g||b||_||w)console.log("PWA detected as installed"),s("installed"),r();else{const O=window.outerHeight&&window.outerWidth,M=window.locationbar&&window.locationbar.visible;O&&M?(console.log("PWA detected as running in browser mode"),s("browser")):(console.log("PWA install status unknown"),s("unknown"))}const C=()=>{s("installed")};return window.addEventListener("appinstalled",C),()=>{window.removeEventListener("appinstalled",C)}},[]);const r=()=>{"getInstalledRelatedApps"in navigator&&navigator.getInstalledRelatedApps().then(()=>{}).catch(()=>{})},l=async()=>{try{if("serviceWorker"in navigator){const g=await navigator.serviceWorker.getRegistrations();for(let b of g)await b.unregister()}await f(!1),window.close&&window.close(),setTimeout(()=>{history&&history.replaceState&&history.replaceState(null,"","about:blank"),window.location.href="about:blank"},1e3),alert("PWA has been uninstalled! Service workers removed, data cleared, and app closed.")}catch(g){console.error("Error during uninstall:",g),alert("Partial uninstall completed. Data cleared and service workers removed. You may need to manually close the app window.")}t(!1)},u=()=>{const g=window.location.origin+window.location.pathname;window.open(g,"_blank","noopener,noreferrer"),t(!1)},d=()=>{const g=navigator.userAgent.toLowerCase();let b="";g.includes("chrome")||g.includes("chromium")?b=`CHROME UNINSTALL METHODS:

 IMPORTANT: Uninstall options only show if app was installed as PWA

METHOD 1 - From Installed App:
1. Look for three dots menu () in app window
2. Select "Uninstall Life Progress Tracker"
(Only works if you see browser-like controls)

METHOD 2 - Chrome Settings:
1. Open Chrome browser
2. Go to chrome://apps/
3. Right-click "Life Progress Tracker"
4. Select "Remove from Chrome"

METHOD 3 - Chrome Address Bar:
1. Open Chrome and visit this app's URL
2. Look for install icon () in address bar
3. If installed, click it and select "Uninstall"

METHOD 4 - Windows/Mac System:
 Windows: Settings > Apps > Find "Life Progress Tracker"
 Mac: Applications folder > Move to Trash

IF NO UNINSTALL OPTIONS APPEAR:
The app is running in browser mode, not installed as PWA.
Just close the browser tab - no uninstall needed!`:g.includes("firefox")?b=`FIREFOX UNINSTALL METHODS:

METHOD 1 - Firefox Add-ons:
1. Type "about:addons" in address bar
2. Click "Extensions" on left sidebar
3. Look for "Life Progress Tracker" 
4. Click "Remove" if found

METHOD 2 - Firefox Settings:
1. Menu () > Settings
2. Search for "web apps" or "installed apps"
3. Remove "Life Progress Tracker" if listed

IF NOT FOUND:
The app is running in browser mode, not installed.
Just close the browser tab!`:g.includes("safari")?b=`SAFARI UNINSTALL METHODS:

METHOD 1 - Applications Folder:
1. Open Finder > Applications
2. Look for "Life Progress Tracker"
3. Drag to Trash if found

METHOD 2 - Dock (if pinned):
1. Right-click app icon in Dock
2. Options > Remove from Dock

IF NOT FOUND:
The app is running in Safari browser mode.
Just close the browser tab!`:b=`BROWSER UNINSTALL GUIDE:

1. Check if app appears in:
    Browser settings > Installed apps
    System apps/programs list
    Desktop or taskbar icons

2. If found, uninstall through:
    Browser app management
    System uninstall programs
    Right-click app icon > Remove

3. If NOT found:
   You're using browser mode - just close the tab!

NO UNINSTALL NEEDED if running in regular browser tab.`,alert(b)},f=async(g=!0)=>{if(!g||confirm("This will clear all your data (situations, opportunities, events). This cannot be undone. Continue?"))try{if(localStorage.clear(),"indexedDB"in window){const _=await indexedDB.databases();await Promise.all(_.map(w=>new Promise((T,C)=>{const O=indexedDB.deleteDatabase(w.name);O.onsuccess=()=>T(),O.onerror=()=>C(O.error)})))}if("caches"in window){const _=await caches.keys();await Promise.all(_.map(w=>caches.delete(w)))}g&&(alert("All app data cleared successfully! Please refresh the page."),window.location.reload())}catch(_){console.error("Error clearing data:",_),g&&alert("Error clearing some data. Please check browser settings.")}};return y.jsx("div",{className:"pwa-uninstall-section",style:{marginTop:"20px"},children:y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:" App Management"}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[y.jsxs("div",{style:{padding:"15px",background:"var(--bg-tertiary)",borderRadius:"8px"},children:[y.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"1rem"},children:" Clear All Data"}),y.jsx("p",{style:{margin:"0 0 12px 0",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Remove all situations, opportunities, events, and settings"}),y.jsx("button",{onClick:()=>f(!0),className:"btn btn-danger",style:{width:"100%"},children:"Clear All App Data"})]}),y.jsxs("div",{style:{padding:"15px",background:"var(--bg-tertiary)",borderRadius:"8px"},children:[y.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"1rem"},children:n==="installed"?" Uninstall PWA":" App Removal"}),y.jsx("p",{style:{margin:"0 0 12px 0",fontSize:"0.9rem",color:"var(--text-secondary)"},children:n==="installed"?"Remove this installed PWA from your device":n==="browser"?"Running in browser mode - just close the tab to stop using":"Remove or stop using this application"}),i?y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[y.jsx("button",{onClick:l,className:"btn btn-danger",style:{width:"100%"},children:" Uninstall Now (Recommended)"}),y.jsx("button",{onClick:u,className:"btn btn-secondary",style:{width:"100%"},children:" Launch in Browser"}),y.jsxs("div",{style:{display:"flex",gap:"8px"},children:[y.jsx("button",{onClick:()=>t(!1),className:"btn btn-secondary",style:{flex:1},children:"Cancel"}),y.jsx("button",{onClick:d,className:"btn btn-secondary",style:{flex:1},children:"Manual Guide"})]})]}):y.jsx(y.Fragment,{children:n==="installed"?y.jsx("button",{onClick:()=>{console.log("Uninstall PWA button clicked"),t(!0)},className:"btn btn-danger",style:{width:"100%"},children:"Uninstall PWA"}):n==="browser"?y.jsxs("div",{style:{padding:"12px",background:"var(--choice-bg)",borderRadius:"8px",border:"1px solid var(--border-color)",textAlign:"center"},children:[y.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"0.9rem",fontWeight:"500"},children:" No uninstall needed!"}),y.jsx("p",{style:{margin:0,fontSize:"0.8rem",color:"var(--text-secondary)"},children:"You're using this app in browser mode. Just close the browser tab when done."})]}):y.jsx("button",{onClick:()=>{console.log("Uninstall button clicked, installStatus:",n),t(!0)},className:"btn btn-danger",style:{width:"100%"},children:"Uninstall App"})})]}),y.jsx("div",{style:{padding:"12px",background:"var(--choice-bg)",borderRadius:"8px",border:"1px solid var(--border-color)"},children:y.jsx("p",{style:{margin:0,fontSize:"0.8rem",color:"var(--text-muted)",textAlign:"center"},children:n==="installed"?' "Uninstall Now" removes service workers, clears data, and closes the app automatically':n==="browser"?" Browser mode detected - no installation to remove":" One-click uninstall available - no need to access browser settings"})})]})]})})}function ES({children:i}){const[t,n]=P.useState(()=>localStorage.getItem("theme")||"light"),s=()=>{n(l=>l==="light"?"dark":"light")};P.useEffect(()=>{localStorage.setItem("theme",t),document.documentElement.setAttribute("data-theme",t)},[t]),P.useEffect(()=>{document.documentElement.setAttribute("data-theme",t)},[t]);const r={theme:t,toggleTheme:s,isDark:t==="dark"};return y.jsx(fb.Provider,{value:r,children:i})}const qi=new TextEncoder,dr=new TextDecoder;function gb(...i){const t=i.reduce((r,{length:l})=>r+l,0),n=new Uint8Array(t);let s=0;for(const r of i)n.set(r,s),s+=r.length;return n}function AS(i){if(Uint8Array.prototype.toBase64)return i.toBase64();const t=32768,n=[];for(let s=0;s<i.length;s+=t)n.push(String.fromCharCode.apply(null,i.subarray(s,s+t)));return btoa(n.join(""))}function TS(i){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(i);const t=atob(i),n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n}function Hu(i){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof i=="string"?i:dr.decode(i),{alphabet:"base64url"});let t=i;t instanceof Uint8Array&&(t=dr.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return TS(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}function ah(i){let t=i;return typeof t=="string"&&(t=qi.encode(t)),Uint8Array.prototype.toBase64?t.toBase64({alphabet:"base64url",omitPadding:!0}):AS(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class xo extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(t,n){super(t,n),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class Bi extends xo{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(t,n,s="unspecified",r="unspecified"){super(t,{cause:{claim:s,reason:r,payload:n}}),this.claim=s,this.reason=r,this.payload=n}}class gy extends xo{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(t,n,s="unspecified",r="unspecified"){super(t,{cause:{claim:s,reason:r,payload:n}}),this.claim=s,this.reason=r,this.payload=n}}class ho extends xo{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class Ve extends xo{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class Vh extends xo{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class DS extends xo{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(t="signature verification failed",n){super(t,n)}}function ba(i,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${i}`)}function Bl(i,t){return i.name===t}function sh(i){return parseInt(i.name.slice(4),10)}function CS(i){switch(i){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function jS(i,t){if(t&&!i.usages.includes(t))throw new TypeError(`CryptoKey does not support this operation, its usages must include ${t}.`)}function MS(i,t,n){switch(t){case"HS256":case"HS384":case"HS512":{if(!Bl(i.algorithm,"HMAC"))throw ba("HMAC");const s=parseInt(t.slice(2),10);if(sh(i.algorithm.hash)!==s)throw ba(`SHA-${s}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!Bl(i.algorithm,"RSASSA-PKCS1-v1_5"))throw ba("RSASSA-PKCS1-v1_5");const s=parseInt(t.slice(2),10);if(sh(i.algorithm.hash)!==s)throw ba(`SHA-${s}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!Bl(i.algorithm,"RSA-PSS"))throw ba("RSA-PSS");const s=parseInt(t.slice(2),10);if(sh(i.algorithm.hash)!==s)throw ba(`SHA-${s}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":{if(!Bl(i.algorithm,"Ed25519"))throw ba("Ed25519");break}case"ES256":case"ES384":case"ES512":{if(!Bl(i.algorithm,"ECDSA"))throw ba("ECDSA");const s=CS(t);if(i.algorithm.namedCurve!==s)throw ba(s,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}jS(i,n)}function mb(i,t,...n){if(n=n.filter(Boolean),n.length>2){const s=n.pop();i+=`one of type ${n.join(", ")}, or ${s}.`}else n.length===2?i+=`one of type ${n[0]} or ${n[1]}.`:i+=`of type ${n[0]}.`;return t==null?i+=` Received ${t}`:typeof t=="function"&&t.name?i+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&t.constructor?.name&&(i+=` Received an instance of ${t.constructor.name}`),i}const OS=(i,...t)=>mb("Key must be ",i,...t);function yb(i,t,...n){return mb(`Key for the ${i} algorithm must be `,t,...n)}function vb(i){return i?.[Symbol.toStringTag]==="CryptoKey"}function bb(i){return i?.[Symbol.toStringTag]==="KeyObject"}const xb=i=>vb(i)||bb(i),_b=(...i)=>{const t=i.filter(Boolean);if(t.length===0||t.length===1)return!0;let n;for(const s of t){const r=Object.keys(s);if(!n||n.size===0){n=new Set(r);continue}for(const l of r){if(n.has(l))return!1;n.add(l)}}return!0};function kS(i){return typeof i=="object"&&i!==null}const $l=i=>{if(!kS(i)||Object.prototype.toString.call(i)!=="[object Object]")return!1;if(Object.getPrototypeOf(i)===null)return!0;let t=i;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(i)===t},Sb=(i,t)=>{if(i.startsWith("RS")||i.startsWith("PS")){const{modulusLength:n}=t.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${i} requires key modulusLength to be 2048 bits or larger`)}};function RS(i){let t,n;switch(i.kty){case"RSA":{switch(i.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${i.alg.slice(-3)}`},n=i.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${i.alg.slice(-3)}`},n=i.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(i.alg.slice(-3),10)||1}`},n=i.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new ho('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(i.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},n=i.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},n=i.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},n=i.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:i.crv},n=i.d?["deriveBits"]:[];break;default:throw new ho('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(i.alg){case"Ed25519":case"EdDSA":t={name:"Ed25519"},n=i.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:i.crv},n=i.d?["deriveBits"]:[];break;default:throw new ho('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new ho('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:n}}const NS=async i=>{if(!i.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:t,keyUsages:n}=RS(i),s={...i};return delete s.alg,delete s.use,crypto.subtle.importKey("jwk",s,t,i.ext??!i.d,i.key_ops??n)},wb=(i,t,n,s,r)=>{if(r.crit!==void 0&&s?.crit===void 0)throw new i('"crit" (Critical) Header Parameter MUST be integrity protected');if(!s||s.crit===void 0)return new Set;if(!Array.isArray(s.crit)||s.crit.length===0||s.crit.some(u=>typeof u!="string"||u.length===0))throw new i('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let l;n!==void 0?l=new Map([...Object.entries(n),...t.entries()]):l=t;for(const u of s.crit){if(!l.has(u))throw new ho(`Extension Header Parameter "${u}" is not recognized`);if(r[u]===void 0)throw new i(`Extension Header Parameter "${u}" is missing`);if(l.get(u)&&s[u]===void 0)throw new i(`Extension Header Parameter "${u}" MUST be integrity protected`)}return new Set(s.crit)};function Fh(i){return $l(i)&&typeof i.kty=="string"}function LS(i){return i.kty!=="oct"&&typeof i.d=="string"}function zS(i){return i.kty!=="oct"&&typeof i.d>"u"}function BS(i){return i.kty==="oct"&&typeof i.k=="string"}let po;const my=async(i,t,n,s=!1)=>{po||=new WeakMap;let r=po.get(i);if(r?.[n])return r[n];const l=await NS({...t,alg:n});return s&&Object.freeze(i),r?r[n]=l:po.set(i,{[n]:l}),l},PS=(i,t)=>{po||=new WeakMap;let n=po.get(i);if(n?.[t])return n[t];const s=i.type==="public",r=!!s;let l;if(i.asymmetricKeyType==="x25519"){switch(t){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}l=i.toCryptoKey(i.asymmetricKeyType,r,s?[]:["deriveBits"])}if(i.asymmetricKeyType==="ed25519"){if(t!=="EdDSA"&&t!=="Ed25519")throw new TypeError("given KeyObject instance cannot be used for this algorithm");l=i.toCryptoKey(i.asymmetricKeyType,r,[s?"verify":"sign"])}if(i.asymmetricKeyType==="rsa"){let u;switch(t){case"RSA-OAEP":u="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":u="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":u="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":u="SHA-512";break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}if(t.startsWith("RSA-OAEP"))return i.toCryptoKey({name:"RSA-OAEP",hash:u},r,s?["encrypt"]:["decrypt"]);l=i.toCryptoKey({name:t.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:u},r,[s?"verify":"sign"])}if(i.asymmetricKeyType==="ec"){const d=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(i.asymmetricKeyDetails?.namedCurve);if(!d)throw new TypeError("given KeyObject instance cannot be used for this algorithm");t==="ES256"&&d==="P-256"&&(l=i.toCryptoKey({name:"ECDSA",namedCurve:d},r,[s?"verify":"sign"])),t==="ES384"&&d==="P-384"&&(l=i.toCryptoKey({name:"ECDSA",namedCurve:d},r,[s?"verify":"sign"])),t==="ES512"&&d==="P-521"&&(l=i.toCryptoKey({name:"ECDSA",namedCurve:d},r,[s?"verify":"sign"])),t.startsWith("ECDH-ES")&&(l=i.toCryptoKey({name:"ECDH",namedCurve:d},r,s?[]:["deriveBits"]))}if(!l)throw new TypeError("given KeyObject instance cannot be used for this algorithm");return n?n[t]=l:po.set(i,{[t]:l}),l},Eb=async(i,t)=>{if(i instanceof Uint8Array||vb(i))return i;if(bb(i)){if(i.type==="secret")return i.export();if("toCryptoKey"in i&&typeof i.toCryptoKey=="function")try{return PS(i,t)}catch(s){if(s instanceof TypeError)throw s}let n=i.export({format:"jwk"});return my(i,n,t)}if(Fh(i))return i.k?Hu(i.k):my(i,i,t,!0);throw new Error("unreachable")},fo=i=>i?.[Symbol.toStringTag],Eh=(i,t,n)=>{if(t.use!==void 0){let s;switch(n){case"sign":case"verify":s="sig";break;case"encrypt":case"decrypt":s="enc";break}if(t.use!==s)throw new TypeError(`Invalid key for this operation, its "use" must be "${s}" when present`)}if(t.alg!==void 0&&t.alg!==i)throw new TypeError(`Invalid key for this operation, its "alg" must be "${i}" when present`);if(Array.isArray(t.key_ops)){let s;switch(!0){case(n==="sign"||n==="verify"):case i==="dir":case i.includes("CBC-HS"):s=n;break;case i.startsWith("PBES2"):s="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(i):!i.includes("GCM")&&i.endsWith("KW")?s=n==="encrypt"?"wrapKey":"unwrapKey":s=n;break;case(n==="encrypt"&&i.startsWith("RSA")):s="wrapKey";break;case n==="decrypt":s=i.startsWith("RSA")?"unwrapKey":"deriveBits";break}if(s&&t.key_ops?.includes?.(s)===!1)throw new TypeError(`Invalid key for this operation, its "key_ops" must include "${s}" when present`)}return!0},HS=(i,t,n)=>{if(!(t instanceof Uint8Array)){if(Fh(t)){if(BS(t)&&Eh(i,t,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!xb(t))throw new TypeError(yb(i,t,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if(t.type!=="secret")throw new TypeError(`${fo(t)} instances for symmetric algorithms must be of type "secret"`)}},US=(i,t,n)=>{if(Fh(t))switch(n){case"decrypt":case"sign":if(LS(t)&&Eh(i,t,n))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(zS(t)&&Eh(i,t,n))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!xb(t))throw new TypeError(yb(i,t,"CryptoKey","KeyObject","JSON Web Key"));if(t.type==="secret")throw new TypeError(`${fo(t)} instances for asymmetric algorithms must not be of type "secret"`);if(t.type==="public")switch(n){case"sign":throw new TypeError(`${fo(t)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw new TypeError(`${fo(t)} instances for asymmetric algorithm decryption must be of type "private"`)}if(t.type==="private")switch(n){case"verify":throw new TypeError(`${fo(t)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw new TypeError(`${fo(t)} instances for asymmetric algorithm encryption must be of type "public"`)}},Ab=(i,t,n)=>{i.startsWith("HS")||i==="dir"||i.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(i)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(i)?HS(i,t,n):US(i,t,n)},Tb=(i,t)=>{const n=`SHA-${i.slice(-3)}`;switch(i){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:parseInt(i.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:t.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};default:throw new ho(`alg ${i} is not supported either by JOSE or your javascript runtime`)}},Db=async(i,t,n)=>{if(t instanceof Uint8Array){if(!i.startsWith("HS"))throw new TypeError(OS(t,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",t,{hash:`SHA-${i.slice(-3)}`,name:"HMAC"},!1,[n])}return MS(t,i,n),t},qS=async(i,t,n,s)=>{const r=await Db(i,t,"verify");Sb(i,r);const l=Tb(i,r.algorithm);try{return await crypto.subtle.verify(l,r,n,s)}catch{return!1}};async function KS(i,t,n){if(!$l(i))throw new Ve("Flattened JWS must be an object");if(i.protected===void 0&&i.header===void 0)throw new Ve('Flattened JWS must have either of the "protected" or "header" members');if(i.protected!==void 0&&typeof i.protected!="string")throw new Ve("JWS Protected Header incorrect type");if(i.payload===void 0)throw new Ve("JWS Payload missing");if(typeof i.signature!="string")throw new Ve("JWS Signature missing or incorrect type");if(i.header!==void 0&&!$l(i.header))throw new Ve("JWS Unprotected Header incorrect type");let s={};if(i.protected)try{const O=Hu(i.protected);s=JSON.parse(dr.decode(O))}catch{throw new Ve("JWS Protected Header is invalid")}if(!_b(s,i.header))throw new Ve("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...s,...i.header},l=wb(Ve,new Map([["b64",!0]]),n?.crit,s,r);let u=!0;if(l.has("b64")&&(u=s.b64,typeof u!="boolean"))throw new Ve('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:d}=r;if(typeof d!="string"||!d)throw new Ve('JWS "alg" (Algorithm) Header Parameter missing or invalid');if(u){if(typeof i.payload!="string")throw new Ve("JWS Payload must be a string")}else if(typeof i.payload!="string"&&!(i.payload instanceof Uint8Array))throw new Ve("JWS Payload must be a string or an Uint8Array instance");let f=!1;typeof t=="function"&&(t=await t(s,i),f=!0),Ab(d,t,"verify");const g=gb(qi.encode(i.protected??""),qi.encode("."),typeof i.payload=="string"?qi.encode(i.payload):i.payload);let b;try{b=Hu(i.signature)}catch{throw new Ve("Failed to base64url decode the signature")}const _=await Eb(t,d);if(!await qS(d,_,b,g))throw new DS;let T;if(u)try{T=Hu(i.payload)}catch{throw new Ve("Failed to base64url decode the payload")}else typeof i.payload=="string"?T=qi.encode(i.payload):T=i.payload;const C={payload:T};return i.protected!==void 0&&(C.protectedHeader=s),i.header!==void 0&&(C.unprotectedHeader=i.header),f?{...C,key:_}:C}async function VS(i,t,n){if(i instanceof Uint8Array&&(i=dr.decode(i)),typeof i!="string")throw new Ve("Compact JWS must be a string or Uint8Array");const{0:s,1:r,2:l,length:u}=i.split(".");if(u!==3)throw new Ve("Invalid Compact JWS");const d=await KS({payload:r,protected:s,signature:l},t,n),f={payload:d.payload,protectedHeader:d.protectedHeader};return typeof t=="function"?{...f,key:d.key}:f}const vs=i=>Math.floor(i.getTime()/1e3),Cb=60,jb=Cb*60,Yh=jb*24,FS=Yh*7,YS=Yh*365.25,XS=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,Xl=i=>{const t=XS.exec(i);if(!t||t[4]&&t[1])throw new TypeError("Invalid time period format");const n=parseFloat(t[2]),s=t[3].toLowerCase();let r;switch(s){case"sec":case"secs":case"second":case"seconds":case"s":r=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":r=Math.round(n*Cb);break;case"hour":case"hours":case"hr":case"hrs":case"h":r=Math.round(n*jb);break;case"day":case"days":case"d":r=Math.round(n*Yh);break;case"week":case"weeks":case"w":r=Math.round(n*FS);break;default:r=Math.round(n*YS);break}return t[1]==="-"||t[4]==="ago"?-r:r};function er(i,t){if(!Number.isFinite(t))throw new TypeError(`Invalid ${i} input`);return t}const yy=i=>i.includes("/")?i.toLowerCase():`application/${i.toLowerCase()}`,WS=(i,t)=>typeof i=="string"?t.includes(i):Array.isArray(i)?t.some(Set.prototype.has.bind(new Set(i))):!1;function IS(i,t,n={}){let s;try{s=JSON.parse(dr.decode(t))}catch{}if(!$l(s))throw new Vh("JWT Claims Set must be a top-level JSON object");const{typ:r}=n;if(r&&(typeof i.typ!="string"||yy(i.typ)!==yy(r)))throw new Bi('unexpected "typ" JWT header value',s,"typ","check_failed");const{requiredClaims:l=[],issuer:u,subject:d,audience:f,maxTokenAge:g}=n,b=[...l];g!==void 0&&b.push("iat"),f!==void 0&&b.push("aud"),d!==void 0&&b.push("sub"),u!==void 0&&b.push("iss");for(const C of new Set(b.reverse()))if(!(C in s))throw new Bi(`missing required "${C}" claim`,s,C,"missing");if(u&&!(Array.isArray(u)?u:[u]).includes(s.iss))throw new Bi('unexpected "iss" claim value',s,"iss","check_failed");if(d&&s.sub!==d)throw new Bi('unexpected "sub" claim value',s,"sub","check_failed");if(f&&!WS(s.aud,typeof f=="string"?[f]:f))throw new Bi('unexpected "aud" claim value',s,"aud","check_failed");let _;switch(typeof n.clockTolerance){case"string":_=Xl(n.clockTolerance);break;case"number":_=n.clockTolerance;break;case"undefined":_=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:w}=n,T=vs(w||new Date);if((s.iat!==void 0||g)&&typeof s.iat!="number")throw new Bi('"iat" claim must be a number',s,"iat","invalid");if(s.nbf!==void 0){if(typeof s.nbf!="number")throw new Bi('"nbf" claim must be a number',s,"nbf","invalid");if(s.nbf>T+_)throw new Bi('"nbf" claim timestamp check failed',s,"nbf","check_failed")}if(s.exp!==void 0){if(typeof s.exp!="number")throw new Bi('"exp" claim must be a number',s,"exp","invalid");if(s.exp<=T-_)throw new gy('"exp" claim timestamp check failed',s,"exp","check_failed")}if(g){const C=T-s.iat,O=typeof g=="number"?g:Xl(g);if(C-_>O)throw new gy('"iat" claim timestamp check failed (too far in the past)',s,"iat","check_failed");if(C<0-_)throw new Bi('"iat" claim timestamp check failed (it should be in the past)',s,"iat","check_failed")}return s}class GS{#t;constructor(t){if(!$l(t))throw new TypeError("JWT Claims Set MUST be an object");this.#t=structuredClone(t)}data(){return qi.encode(JSON.stringify(this.#t))}get iss(){return this.#t.iss}set iss(t){this.#t.iss=t}get sub(){return this.#t.sub}set sub(t){this.#t.sub=t}get aud(){return this.#t.aud}set aud(t){this.#t.aud=t}set jti(t){this.#t.jti=t}set nbf(t){typeof t=="number"?this.#t.nbf=er("setNotBefore",t):t instanceof Date?this.#t.nbf=er("setNotBefore",vs(t)):this.#t.nbf=vs(new Date)+Xl(t)}set exp(t){typeof t=="number"?this.#t.exp=er("setExpirationTime",t):t instanceof Date?this.#t.exp=er("setExpirationTime",vs(t)):this.#t.exp=vs(new Date)+Xl(t)}set iat(t){typeof t>"u"?this.#t.iat=vs(new Date):t instanceof Date?this.#t.iat=er("setIssuedAt",vs(t)):typeof t=="string"?this.#t.iat=er("setIssuedAt",vs(new Date)+Xl(t)):this.#t.iat=er("setIssuedAt",t)}}async function QS(i,t,n){const s=await VS(i,t,n);if(s.protectedHeader.crit?.includes("b64")&&s.protectedHeader.b64===!1)throw new Vh("JWTs MUST NOT use unencoded payload");const l={payload:IS(s.protectedHeader,s.payload,n),protectedHeader:s.protectedHeader};return typeof t=="function"?{...l,key:s.key}:l}const ZS=async(i,t,n)=>{const s=await Db(i,t,"sign");Sb(i,s);const r=await crypto.subtle.sign(Tb(i,s.algorithm),s,n);return new Uint8Array(r)};class $S{#t;#e;#n;constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this.#t=t}setProtectedHeader(t){if(this.#e)throw new TypeError("setProtectedHeader can only be called once");return this.#e=t,this}setUnprotectedHeader(t){if(this.#n)throw new TypeError("setUnprotectedHeader can only be called once");return this.#n=t,this}async sign(t,n){if(!this.#e&&!this.#n)throw new Ve("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!_b(this.#e,this.#n))throw new Ve("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const s={...this.#e,...this.#n},r=wb(Ve,new Map([["b64",!0]]),n?.crit,this.#e,s);let l=!0;if(r.has("b64")&&(l=this.#e.b64,typeof l!="boolean"))throw new Ve('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:u}=s;if(typeof u!="string"||!u)throw new Ve('JWS "alg" (Algorithm) Header Parameter missing or invalid');Ab(u,t,"sign");let d=this.#t;l&&(d=qi.encode(ah(d)));let f;this.#e?f=qi.encode(ah(JSON.stringify(this.#e))):f=qi.encode("");const g=gb(f,qi.encode("."),d),b=await Eb(t,u),_=await ZS(u,b,g),w={signature:ah(_),payload:""};return l&&(w.payload=dr.decode(d)),this.#n&&(w.header=this.#n),this.#e&&(w.protected=dr.decode(f)),w}}class JS{#t;constructor(t){this.#t=new $S(t)}setProtectedHeader(t){return this.#t.setProtectedHeader(t),this}async sign(t,n){const s=await this.#t.sign(t,n);if(s.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${s.protected}.${s.payload}.${s.signature}`}}class tw{#t;#e;constructor(t={}){this.#e=new GS(t)}setIssuer(t){return this.#e.iss=t,this}setSubject(t){return this.#e.sub=t,this}setAudience(t){return this.#e.aud=t,this}setJti(t){return this.#e.jti=t,this}setNotBefore(t){return this.#e.nbf=t,this}setExpirationTime(t){return this.#e.exp=t,this}setIssuedAt(t){return this.#e.iat=t,this}setProtectedHeader(t){return this.#t=t,this}async sign(t,n){const s=new JS(this.#e.data());if(s.setProtectedHeader(this.#t),Array.isArray(this.#t?.crit)&&this.#t.crit.includes("b64")&&this.#t.b64===!1)throw new Vh("JWTs MUST NOT use unencoded payload");return s.sign(t,n)}}const vy=new TextEncoder().encode("life-progress-tracker-secret-key-2024"),ew="HS256";class nw{constructor(){this.currentUser=null,this.loadUserFromStorage()}async generateToken(t){try{return await new tw({userId:t.userId,email:t.email,pantryId:t.pantryId,exp:Math.floor(Date.now()/1e3)+86400}).setProtectedHeader({alg:ew}).setIssuedAt().setExpirationTime("24h").sign(vy)}catch(n){throw console.error("Error generating JWT token:",n),new Error("Failed to generate authentication token")}}async verifyToken(t){try{const{payload:n}=await QS(t,vy);return n}catch(n){throw console.error("Error verifying JWT token:",n),new Error("Invalid or expired token")}}async login(t,n){try{const r={userId:btoa(t).replace(/[^a-zA-Z0-9]/g,"").substring(0,16),email:t,pantryId:n,loginTime:Date.now()},l=await this.generateToken(r);return localStorage.setItem("lpt_auth_token",l),localStorage.setItem("lpt_user_data",JSON.stringify(r)),this.currentUser=r,{success:!0,user:r,token:l}}catch(s){return console.error("Login error:",s),{success:!1,error:s.message}}}logout(){localStorage.removeItem("lpt_auth_token"),localStorage.removeItem("lpt_user_data"),this.currentUser=null}async isAuthenticated(){const t=localStorage.getItem("lpt_auth_token");if(!t)return!1;try{const n=await this.verifyToken(t);return n&&n.exp>Math.floor(Date.now()/1e3)}catch{return this.logout(),!1}}getCurrentUser(){return this.currentUser}loadUserFromStorage(){const t=localStorage.getItem("lpt_user_data");if(t)try{this.currentUser=JSON.parse(t)}catch(n){console.error("Error parsing stored user data:",n),this.logout()}}getToken(){return localStorage.getItem("lpt_auth_token")}async refreshTokenIfNeeded(){const t=this.getToken();if(!t)return!1;try{if((await this.verifyToken(t)).exp-Math.floor(Date.now()/1e3)<3600){const r=await this.generateToken(this.currentUser);return localStorage.setItem("lpt_auth_token",r),r}return t}catch(n){return console.error("Error refreshing token:",n),this.logout(),!1}}}const bs=new nw,iw="https://getpantry.cloud/apiv1/pantry",_u=6e4;class aw{constructor(){this.lastRequestTime=0,this.requestQueue=[],this.isProcessingQueue=!1}canMakeRequest(){return Date.now()-this.lastRequestTime>=_u}async waitForRateLimit(){if(this.canMakeRequest())return Promise.resolve();const t=Date.now(),n=_u-(t-this.lastRequestTime);return console.log(`Rate limit: waiting ${Math.ceil(n/1e3)} seconds before next request`),new Promise(s=>{setTimeout(s,n)})}async makeRequest(t,n,s="GET",r=null){return new Promise((l,u)=>{this.requestQueue.push({pantryId:t,basketName:n,method:s,data:r,resolve:l,reject:u}),this.processQueue()})}async processQueue(){if(!(this.isProcessingQueue||this.requestQueue.length===0)){for(this.isProcessingQueue=!0;this.requestQueue.length>0;){const t=this.requestQueue.shift();try{await this.waitForRateLimit();const n=await this.executeRequest(t.pantryId,t.basketName,t.method,t.data);this.lastRequestTime=Date.now(),t.resolve(n)}catch(n){t.reject(n)}}this.isProcessingQueue=!1}}async executeRequest(t,n,s,r){const l=`${iw}/${t}/basket/${n}`,u={method:s,headers:{"Content-Type":"application/json"}};r&&(s==="POST"||s==="PUT")&&(u.body=JSON.stringify(r));const d=await fetch(l,u);if(!d.ok)throw new Error(`Pantry API error: ${d.status} ${d.statusText}`);if(s==="DELETE")return{success:!0};try{return await d.json()}catch{return await d.text()}}async saveUserData(t){const n=bs.getCurrentUser();if(!n||!n.pantryId)throw new Error("User not authenticated or pantry ID not found");const s={...t,lastUpdated:Date.now(),userId:n.userId,version:"1.0"};try{const r=await this.makeRequest(n.pantryId,"LCG","POST",s);return console.log("Data saved to Pantry successfully"),r}catch(r){throw console.error("Error saving data to Pantry:",r),new Error(`Failed to save data: ${r.message}`)}}async loadUserData(){const t=bs.getCurrentUser();if(!t||!t.pantryId)throw new Error("User not authenticated or pantry ID not found");try{const n=await this.makeRequest(t.pantryId,"LCG","GET");return console.log("Data loaded from Pantry successfully"),n}catch(n){if(console.error("Error loading data from Pantry:",n),n.message.includes("404"))return null;throw new Error(`Failed to load data: ${n.message}`)}}async updateUserData(t){const n=bs.getCurrentUser();if(!n||!n.pantryId)throw new Error("User not authenticated or pantry ID not found");try{const r={...await this.loadUserData()||{},...t,lastUpdated:Date.now(),userId:n.userId},l=await this.makeRequest(n.pantryId,"LCG","PUT",r);return console.log("Data updated in Pantry successfully"),l}catch(s){throw console.error("Error updating data in Pantry:",s),new Error(`Failed to update data: ${s.message}`)}}async deleteUserData(){const t=bs.getCurrentUser();if(!t||!t.pantryId)throw new Error("User not authenticated or pantry ID not found");try{const n=await this.makeRequest(t.pantryId,"LCG","DELETE");return console.log("Data deleted from Pantry successfully"),n}catch(n){throw console.error("Error deleting data from Pantry:",n),new Error(`Failed to delete data: ${n.message}`)}}async syncWithPantry(t){try{const n=await this.loadUserData();if(!n)return await this.saveUserData(t),{action:"uploaded",message:"Local data uploaded to cloud (first time)",changes:{situations:{added:t.situations?.length||0},opportunities:{added:t.opportunities?.length||0},events:{added:t.events?.length||0}}};const s=this.compareData(t,n);if(s.hasChanges){const r=this.mergeData(t,n,s);return await this.updateUserData(r),{action:"merged",message:"Data synchronized with intelligent merge",changes:s.changes,mergedData:r}}else return{action:"synced",message:"Data is already in sync",changes:{situations:{},opportunities:{},events:{}}}}catch(n){throw console.error("Error syncing with Pantry:",n),new Error(`Sync failed: ${n.message}`)}}compareData(t,n){console.log(" Starting fast data comparison...");const s={situations:{added:[],modified:[],deleted:[]},opportunities:{added:[],modified:[],deleted:[]},events:{added:[],modified:[],deleted:[]}},r=(u=[],d=[],f)=>{console.log(` Comparing ${u.length} local vs ${d.length} cloud ${f}`);const g=new Map,b=new Set;for(const _ of d)g.set(_.id,_);for(const _ of u){b.add(_.id);const w=g.get(_.id);w?this.isItemModified(_,w,f)&&s[f].modified.push(_):s[f].added.push(_)}for(const _ of d)b.has(_.id)||s[f].deleted.push(_.id)};r(t.situations||[],n.situations||[],"situations"),r(t.opportunities||[],n.opportunities||[],"opportunities"),r(t.events||[],n.events||[],"events");const l=Object.values(s).some(u=>u.added.length>0||u.modified.length>0||u.deleted.length>0);return console.log(" Comparison complete:",l?"Changes detected":"No changes"),{hasChanges:l,changes:s}}isItemModified(t,n,s){const r=t.updated_at||t.created_at,l=n.updated_at||n.created_at;if(r&&l){const u=new Date(r).getTime(),d=new Date(l).getTime();if(u>d)return!0;if(u<d)return!1}switch(s){case"situations":return t.title!==n.title||t.description!==n.description||this.arraysDifferent(t.tags,n.tags);case"opportunities":return t.title!==n.title||t.description!==n.description||t.current_level!==n.current_level||t.current_xp!==n.current_xp||this.arraysDifferent(t.tags,n.tags);case"events":return t.title!==n.title||t.event_description!==n.event_description||t.choice_value!==n.choice_value||t.xp_change!==n.xp_change||t.situation_id!==n.situation_id;default:return!1}}arraysDifferent(t=[],n=[]){if(t.length!==n.length)return!0;for(let s=0;s<t.length;s++)if(t[s]!==n[s])return!0;return!1}mergeData(t,n,s){const r={...n,lastUpdated:Date.now()};return r.situations=this.mergeArray(n.situations||[],t.situations||[],s.changes.situations),r.opportunities=this.mergeArray(n.opportunities||[],t.opportunities||[],s.changes.opportunities),r.events=this.mergeArray(n.events||[],t.events||[],s.changes.events),r}mergeArray(t,n,s){let r=[...t];return s.added.forEach(l=>{r.push(l)}),s.modified.forEach(l=>{const u=r.findIndex(d=>d.id===l.id);u!==-1?r[u]=l:r.push(l)}),s.deleted.forEach(l=>{r=r.filter(u=>u.id!==l)}),r}getRateLimitStatus(){const n=Date.now()-this.lastRequestTime,s=n>=_u;return{canMakeRequest:s,timeUntilNextRequest:s?0:_u-n,queueLength:this.requestQueue.length,lastRequestTime:this.lastRequestTime}}}const Su=new aw,Mb=P.createContext(),Ob=()=>{const i=P.useContext(Mb);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i},sw=({children:i})=>{const[t,n]=P.useState(null),[s,r]=P.useState(!0),[l,u]=P.useState(!1);P.useEffect(()=>{d()},[]);const d=async()=>{try{const O=await bs.isAuthenticated(),M=bs.getCurrentUser();u(O),n(M)}catch(O){console.error("Error checking auth status:",O),u(!1),n(null)}finally{r(!1)}},C={user:t,isAuthenticated:l,isLoading:s,login:async(O,M)=>{try{r(!0);const k=await bs.login(O,M);return k.success?(n(k.user),u(!0),{success:!0,user:k.user}):{success:!1,error:k.error}}catch(k){return console.error("Login error:",k),{success:!1,error:k.message}}finally{r(!1)}},logout:()=>{bs.logout(),n(null),u(!1)},syncData:async O=>{if(!l)throw new Error("Must be authenticated to sync data");try{return await Su.syncWithPantry(O)}catch(M){throw console.error("Data sync error:",M),M}},saveToCloud:async O=>{if(!l)throw new Error("Must be authenticated to save data");try{return await Su.saveUserData(O)}catch(M){throw console.error("Save to cloud error:",M),M}},loadFromCloud:async()=>{if(!l)throw new Error("Must be authenticated to load data");try{return await Su.loadUserData()}catch(O){throw console.error("Load from cloud error:",O),O}},getRateLimitStatus:()=>Su.getRateLimitStatus(),checkAuthStatus:d};return y.jsx(Mb.Provider,{value:C,children:i})};var Uu={exports:{}},rw=Uu.exports,by;function ow(){return by||(by=1,function(i,t){(function(n,s){i.exports=s()})(rw,function(){var n=function(h,m){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,S){x.__proto__=S}||function(x,S){for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(x[A]=S[A])})(h,m)},s=function(){return(s=Object.assign||function(h){for(var m,x=1,S=arguments.length;x<S;x++)for(var A in m=arguments[x])Object.prototype.hasOwnProperty.call(m,A)&&(h[A]=m[A]);return h}).apply(this,arguments)};function r(h,m,x){for(var S,A=0,D=m.length;A<D;A++)!S&&A in m||((S=S||Array.prototype.slice.call(m,0,A))[A]=m[A]);return h.concat(S||Array.prototype.slice.call(m))}var l=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:V0,u=Object.keys,d=Array.isArray;function f(h,m){return typeof m!="object"||u(m).forEach(function(x){h[x]=m[x]}),h}typeof Promise>"u"||l.Promise||(l.Promise=Promise);var g=Object.getPrototypeOf,b={}.hasOwnProperty;function _(h,m){return b.call(h,m)}function w(h,m){typeof m=="function"&&(m=m(g(h))),(typeof Reflect>"u"?u:Reflect.ownKeys)(m).forEach(function(x){C(h,x,m[x])})}var T=Object.defineProperty;function C(h,m,x,S){T(h,m,f(x&&_(x,"get")&&typeof x.get=="function"?{get:x.get,set:x.set,configurable:!0}:{value:x,configurable:!0,writable:!0},S))}function O(h){return{from:function(m){return h.prototype=Object.create(m.prototype),C(h.prototype,"constructor",h),{extend:w.bind(null,h.prototype)}}}}var M=Object.getOwnPropertyDescriptor,k=[].slice;function G(h,m,x){return k.call(h,m,x)}function ot(h,m){return m(h)}function H(h){if(!h)throw new Error("Assertion Failed")}function $(h){l.setImmediate?setImmediate(h):setTimeout(h,0)}function J(h,m){if(typeof m=="string"&&_(h,m))return h[m];if(!m)return h;if(typeof m!="string"){for(var x=[],S=0,A=m.length;S<A;++S){var D=J(h,m[S]);x.push(D)}return x}var N=m.indexOf(".");if(N!==-1){var L=h[m.substr(0,N)];return L==null?void 0:J(L,m.substr(N+1))}}function ht(h,m,x){if(h&&m!==void 0&&!("isFrozen"in Object&&Object.isFrozen(h)))if(typeof m!="string"&&"length"in m){H(typeof x!="string"&&"length"in x);for(var S=0,A=m.length;S<A;++S)ht(h,m[S],x[S])}else{var D,N,L=m.indexOf(".");L!==-1?(D=m.substr(0,L),(N=m.substr(L+1))===""?x===void 0?d(h)&&!isNaN(parseInt(D))?h.splice(D,1):delete h[D]:h[D]=x:ht(L=!(L=h[D])||!_(h,D)?h[D]={}:L,N,x)):x===void 0?d(h)&&!isNaN(parseInt(m))?h.splice(m,1):delete h[m]:h[m]=x}}function ft(h){var m,x={};for(m in h)_(h,m)&&(x[m]=h[m]);return x}var mt=[].concat;function Mt(h){return mt.apply([],h)}var Cn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Mt([8,16,32,64].map(function(h){return["Int","Uint","Float"].map(function(m){return m+h+"Array"})}))).filter(function(h){return l[h]}),zt=new Set(Cn.map(function(h){return l[h]})),kt=null;function Ot(h){return kt=new WeakMap,h=function m(x){if(!x||typeof x!="object")return x;var S=kt.get(x);if(S)return S;if(d(x)){S=[],kt.set(x,S);for(var A=0,D=x.length;A<D;++A)S.push(m(x[A]))}else if(zt.has(x.constructor))S=x;else{var N,L=g(x);for(N in S=L===Object.prototype?{}:Object.create(L),kt.set(x,S),x)_(x,N)&&(S[N]=m(x[N]))}return S}(h),kt=null,h}var Xt={}.toString;function Ht(h){return Xt.call(h).slice(8,-1)}var et=typeof Symbol<"u"?Symbol.iterator:"@@iterator",St=typeof et=="symbol"?function(h){var m;return h!=null&&(m=h[et])&&m.apply(h)}:function(){return null};function Rt(h,m){return m=h.indexOf(m),0<=m&&h.splice(m,1),0<=m}var rt={};function R(h){var m,x,S,A;if(arguments.length===1){if(d(h))return h.slice();if(this===rt&&typeof h=="string")return[h];if(A=St(h)){for(x=[];!(S=A.next()).done;)x.push(S.value);return x}if(h==null)return[h];if(typeof(m=h.length)!="number")return[h];for(x=new Array(m);m--;)x[m]=h[m];return x}for(m=arguments.length,x=new Array(m);m--;)x[m]=arguments[m];return x}var it=typeof Symbol<"u"?function(h){return h[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Yi=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],kn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Yi),xt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Q(h,m){this.name=h,this.message=m}function _t(h,m){return h+". Errors: "+Object.keys(m).map(function(x){return m[x].toString()}).filter(function(x,S,A){return A.indexOf(x)===S}).join(`
`)}function qt(h,m,x,S){this.failures=m,this.failedKeys=S,this.successCount=x,this.message=_t(h,m)}function Lt(h,m){this.name="BulkError",this.failures=Object.keys(m).map(function(x){return m[x]}),this.failuresByPos=m,this.message=_t(h,this.failures)}O(Q).from(Error).extend({toString:function(){return this.name+": "+this.message}}),O(qt).from(Q),O(Lt).from(Q);var Re=kn.reduce(function(h,m){return h[m]=m+"Error",h},{}),de=Q,Ut=kn.reduce(function(h,m){var x=m+"Error";function S(A,D){this.name=x,A?typeof A=="string"?(this.message="".concat(A).concat(D?`
 `+D:""),this.inner=D||null):typeof A=="object"&&(this.message="".concat(A.name," ").concat(A.message),this.inner=A):(this.message=xt[m]||x,this.inner=null)}return O(S).from(de),h[m]=S,h},{});Ut.Syntax=SyntaxError,Ut.Type=TypeError,Ut.Range=RangeError;var It=Yi.reduce(function(h,m){return h[m+"Error"]=Ut[m],h},{}),Ne=kn.reduce(function(h,m){return["Syntax","Type","Range"].indexOf(m)===-1&&(h[m+"Error"]=Ut[m]),h},{});function Gt(){}function vn(h){return h}function Ds(h,m){return h==null||h===vn?m:function(x){return m(h(x))}}function fn(h,m){return function(){h.apply(this,arguments),m.apply(this,arguments)}}function Cs(h,m){return h===Gt?m:function(){var x=h.apply(this,arguments);x!==void 0&&(arguments[0]=x);var S=this.onsuccess,A=this.onerror;this.onsuccess=null,this.onerror=null;var D=m.apply(this,arguments);return S&&(this.onsuccess=this.onsuccess?fn(S,this.onsuccess):S),A&&(this.onerror=this.onerror?fn(A,this.onerror):A),D!==void 0?D:x}}function Nn(h,m){return h===Gt?m:function(){h.apply(this,arguments);var x=this.onsuccess,S=this.onerror;this.onsuccess=this.onerror=null,m.apply(this,arguments),x&&(this.onsuccess=this.onsuccess?fn(x,this.onsuccess):x),S&&(this.onerror=this.onerror?fn(S,this.onerror):S)}}function Eo(h,m){return h===Gt?m:function(x){var S=h.apply(this,arguments);f(x,S);var A=this.onsuccess,D=this.onerror;return this.onsuccess=null,this.onerror=null,x=m.apply(this,arguments),A&&(this.onsuccess=this.onsuccess?fn(A,this.onsuccess):A),D&&(this.onerror=this.onerror?fn(D,this.onerror):D),S===void 0?x===void 0?void 0:x:f(S,x)}}function pr(h,m){return h===Gt?m:function(){return m.apply(this,arguments)!==!1&&h.apply(this,arguments)}}function Oa(h,m){return h===Gt?m:function(){var x=h.apply(this,arguments);if(x&&typeof x.then=="function"){for(var S=this,A=arguments.length,D=new Array(A);A--;)D[A]=arguments[A];return x.then(function(){return m.apply(S,D)})}return m.apply(this,arguments)}}Ne.ModifyError=qt,Ne.DexieError=Q,Ne.BulkError=Lt;var hn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function gr(h){hn=h}var fi={},js=100,Cn=typeof Promise>"u"?[]:function(){var h=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[h,g(h),h];var m=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[m,g(m),h]}(),Yi=Cn[0],kn=Cn[1],Cn=Cn[2],kn=kn&&kn.then,Be=Yi&&Yi.constructor,Ln=!!Cn,Ye=function(h,m){Ft.push([h,m]),ka&&(queueMicrotask(Co),ka=!1)},Ms=!0,ka=!0,hi=[],pi=[],st=vn,At={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Gt,pgp:!1,env:{},finalize:Gt},vt=At,Ft=[],zn=0,Xi=[];function Nt(h){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var m=this._PSD=vt;if(typeof h!="function"){if(h!==fi)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Ao(this,this._value))}this._state=null,this._value=null,++m.ref,function x(S,A){try{A(function(D){if(S._state===null){if(D===S)throw new TypeError("A promise cannot be resolved with itself.");var N=S._lib&&Wi();D&&typeof D.then=="function"?x(S,function(L,q){D instanceof Nt?D._then(L,q):D.then(L,q)}):(S._state=!0,S._value=D,To(S)),N&&Na()}},Ao.bind(null,S))}catch(D){Ao(S,D)}}(this,h)}var Os={get:function(){var h=vt,m=ks;function x(S,A){var D=this,N=!h.global&&(h!==vt||m!==ks),L=N&&!jn(),q=new Nt(function(V,X){mr(D,new Ra(wi(S,h,N,L),wi(A,h,N,L),V,X,h))});return this._consoleTask&&(q._consoleTask=this._consoleTask),q}return x.prototype=fi,x},set:function(h){C(this,"then",h&&h.prototype===fi?Os:{get:function(){return h},set:Os.set})}};function Ra(h,m,x,S,A){this.onFulfilled=typeof h=="function"?h:null,this.onRejected=typeof m=="function"?m:null,this.resolve=x,this.reject=S,this.psd=A}function Ao(h,m){var x,S;pi.push(m),h._state===null&&(x=h._lib&&Wi(),m=st(m),h._state=!1,h._value=m,S=h,hi.some(function(A){return A._value===S._value})||hi.push(S),To(h),x&&Na())}function To(h){var m=h._listeners;h._listeners=[];for(var x=0,S=m.length;x<S;++x)mr(h,m[x]);var A=h._PSD;--A.ref||A.finalize(),zn===0&&(++zn,Ye(function(){--zn==0&&Zn()},[]))}function mr(h,m){if(h._state!==null){var x=h._state?m.onFulfilled:m.onRejected;if(x===null)return(h._state?m.resolve:m.reject)(h._value);++m.psd.ref,++zn,Ye(Do,[x,h,m])}else h._listeners.push(m)}function Do(h,m,x){try{var S,A=m._value;!m._state&&pi.length&&(pi=[]),S=hn&&m._consoleTask?m._consoleTask.run(function(){return h(A)}):h(A),m._state||pi.indexOf(A)!==-1||function(D){for(var N=hi.length;N;)if(hi[--N]._value===D._value)return hi.splice(N,1)}(m),x.resolve(S)}catch(D){x.reject(D)}finally{--zn==0&&Zn(),--x.psd.ref||x.psd.finalize()}}function Co(){Si(At,function(){Wi()&&Na()})}function Wi(){var h=Ms;return ka=Ms=!1,h}function Na(){var h,m,x;do for(;0<Ft.length;)for(h=Ft,Ft=[],x=h.length,m=0;m<x;++m){var S=h[m];S[0].apply(null,S[1])}while(0<Ft.length);ka=Ms=!0}function Zn(){var h=hi;hi=[],h.forEach(function(S){S._PSD.onunhandled.call(null,S._value,S)});for(var m=Xi.slice(0),x=m.length;x;)m[--x]()}function Xe(h){return new Nt(fi,!1,h)}function ae(h,m){var x=vt;return function(){var S=Wi(),A=vt;try{return Ee(x,!0),h.apply(this,arguments)}catch(D){m&&m(D)}finally{Ee(A,!1),S&&Na()}}}w(Nt.prototype,{then:Os,_then:function(h,m){mr(this,new Ra(null,null,h,m,vt))},catch:function(h){if(arguments.length===1)return this.then(null,h);var m=h,x=arguments[1];return typeof m=="function"?this.then(null,function(S){return(S instanceof m?x:Xe)(S)}):this.then(null,function(S){return(S&&S.name===m?x:Xe)(S)})},finally:function(h){return this.then(function(m){return Nt.resolve(h()).then(function(){return m})},function(m){return Nt.resolve(h()).then(function(){return Xe(m)})})},timeout:function(h,m){var x=this;return h<1/0?new Nt(function(S,A){var D=setTimeout(function(){return A(new Ut.Timeout(m))},h);x.then(S,A).finally(clearTimeout.bind(null,D))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&C(Nt.prototype,Symbol.toStringTag,"Dexie.Promise"),At.env=Mo(),w(Nt,{all:function(){var h=R.apply(null,arguments).map(_i);return new Nt(function(m,x){h.length===0&&m([]);var S=h.length;h.forEach(function(A,D){return Nt.resolve(A).then(function(N){h[D]=N,--S||m(h)},x)})})},resolve:function(h){return h instanceof Nt?h:h&&typeof h.then=="function"?new Nt(function(m,x){h.then(m,x)}):new Nt(fi,!0,h)},reject:Xe,race:function(){var h=R.apply(null,arguments).map(_i);return new Nt(function(m,x){h.map(function(S){return Nt.resolve(S).then(m,x)})})},PSD:{get:function(){return vt},set:function(h){return vt=h}},totalEchoes:{get:function(){return ks}},newPSD:$n,usePSD:Si,scheduler:{get:function(){return Ye},set:function(h){Ye=h}},rejectionMapper:{get:function(){return st},set:function(h){st=h}},follow:function(h,m){return new Nt(function(x,S){return $n(function(A,D){var N=vt;N.unhandleds=[],N.onunhandled=D,N.finalize=fn(function(){var L,q=this;L=function(){q.unhandleds.length===0?A():D(q.unhandleds[0])},Xi.push(function V(){L(),Xi.splice(Xi.indexOf(V),1)}),++zn,Ye(function(){--zn==0&&Zn()},[])},N.finalize),h()},m,x,S)})}}),Be&&(Be.allSettled&&C(Nt,"allSettled",function(){var h=R.apply(null,arguments).map(_i);return new Nt(function(m){h.length===0&&m([]);var x=h.length,S=new Array(x);h.forEach(function(A,D){return Nt.resolve(A).then(function(N){return S[D]={status:"fulfilled",value:N}},function(N){return S[D]={status:"rejected",reason:N}}).then(function(){return--x||m(S)})})})}),Be.any&&typeof AggregateError<"u"&&C(Nt,"any",function(){var h=R.apply(null,arguments).map(_i);return new Nt(function(m,x){h.length===0&&x(new AggregateError([]));var S=h.length,A=new Array(S);h.forEach(function(D,N){return Nt.resolve(D).then(function(L){return m(L)},function(L){A[N]=L,--S||x(new AggregateError(A))})})})}),Be.withResolvers&&(Nt.withResolvers=Be.withResolvers));var je={awaits:0,echoes:0,id:0},jo=0,yr=[],vr=0,ks=0,Rs=0;function $n(h,m,x,S){var A=vt,D=Object.create(A);return D.parent=A,D.ref=0,D.global=!1,D.id=++Rs,At.env,D.env=Ln?{Promise:Nt,PromiseProp:{value:Nt,configurable:!0,writable:!0},all:Nt.all,race:Nt.race,allSettled:Nt.allSettled,any:Nt.any,resolve:Nt.resolve,reject:Nt.reject}:{},m&&f(D,m),++A.ref,D.finalize=function(){--this.parent.ref||this.parent.finalize()},S=Si(D,h,x,S),D.ref===0&&D.finalize(),S}function Kn(){return je.id||(je.id=++jo),++je.awaits,je.echoes+=js,je.id}function jn(){return!!je.awaits&&(--je.awaits==0&&(je.id=0),je.echoes=je.awaits*js,!0)}function _i(h){return je.echoes&&h&&h.constructor===Be?(Kn(),h.then(function(m){return jn(),m},function(m){return jn(),Pe(m)})):h}function La(){var h=yr[yr.length-1];yr.pop(),Ee(h,!1)}function Ee(h,m){var x,S=vt;(m?!je.echoes||vr++&&h===vt:!vr||--vr&&h===vt)||queueMicrotask(m?(function(A){++ks,je.echoes&&--je.echoes!=0||(je.echoes=je.awaits=je.id=0),yr.push(vt),Ee(A,!0)}).bind(null,h):La),h!==vt&&(vt=h,S===At&&(At.env=Mo()),Ln&&(x=At.env.Promise,m=h.env,(S.global||h.global)&&(Object.defineProperty(l,"Promise",m.PromiseProp),x.all=m.all,x.race=m.race,x.resolve=m.resolve,x.reject=m.reject,m.allSettled&&(x.allSettled=m.allSettled),m.any&&(x.any=m.any))))}function Mo(){var h=l.Promise;return Ln?{Promise:h,PromiseProp:Object.getOwnPropertyDescriptor(l,"Promise"),all:h.all,race:h.race,allSettled:h.allSettled,any:h.any,resolve:h.resolve,reject:h.reject}:{}}function Si(h,m,x,S,A){var D=vt;try{return Ee(h,!0),m(x,S,A)}finally{Ee(D,!1)}}function wi(h,m,x,S){return typeof h!="function"?h:function(){var A=vt;x&&Kn(),Ee(m,!0);try{return h.apply(this,arguments)}finally{Ee(A,!1),S&&queueMicrotask(jn)}}}function Ei(h){Promise===Be&&je.echoes===0?vr===0?h():enqueueNativeMicroTask(h):setTimeout(h,0)}(""+kn).indexOf("[native code]")===-1&&(Kn=jn=Gt);var Pe=Nt.reject,Ai="",Jn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",uc="String expected.",gi=[],Ii="__dbnames",Vn="readonly",Ns="readwrite";function Ti(h,m){return h?m?function(){return h.apply(this,arguments)&&m.apply(this,arguments)}:h:m}var Gi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function za(h){return typeof h!="string"||/\./.test(h)?function(m){return m}:function(m){return m[h]===void 0&&h in m&&delete(m=Ot(m))[h],m}}function br(){throw Ut.Type()}function oe(h,m){try{var x=Oo(h),S=Oo(m);if(x!==S)return x==="Array"?1:S==="Array"?-1:x==="binary"?1:S==="binary"?-1:x==="string"?1:S==="string"?-1:x==="Date"?1:S!=="Date"?NaN:-1;switch(x){case"number":case"Date":case"string":return m<h?1:h<m?-1:0;case"binary":return function(A,D){for(var N=A.length,L=D.length,q=N<L?N:L,V=0;V<q;++V)if(A[V]!==D[V])return A[V]<D[V]?-1:1;return N===L?0:N<L?-1:1}(Mn(h),Mn(m));case"Array":return function(A,D){for(var N=A.length,L=D.length,q=N<L?N:L,V=0;V<q;++V){var X=oe(A[V],D[V]);if(X!==0)return X}return N===L?0:N<L?-1:1}(h,m)}}catch{}return NaN}function Oo(h){var m=typeof h;return m!="object"?m:ArrayBuffer.isView(h)?"binary":(h=Ht(h),h==="ArrayBuffer"?"binary":h)}function Mn(h){return h instanceof Uint8Array?h:ArrayBuffer.isView(h)?new Uint8Array(h.buffer,h.byteOffset,h.byteLength):new Uint8Array(h)}var ko=(Ae.prototype._trans=function(h,m,x){var S=this._tx||vt.trans,A=this.name,D=hn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(h==="readonly"?"read":"write"," ").concat(this.name));function N(V,X,B){if(!B.schema[A])throw new Ut.NotFound("Table "+A+" not part of transaction");return m(B.idbtrans,B)}var L=Wi();try{var q=S&&S.db._novip===this.db._novip?S===vt.trans?S._promise(h,N,x):$n(function(){return S._promise(h,N,x)},{trans:S,transless:vt.transless||vt}):function V(X,B,I,U){if(X.idbdb&&(X._state.openComplete||vt.letThrough||X._vip)){var Y=X._createTransaction(B,I,X._dbSchema);try{Y.create(),X._state.PR1398_maxLoop=3}catch(Z){return Z.name===Re.InvalidState&&X.isOpen()&&0<--X._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),X.close({disableAutoOpen:!1}),X.open().then(function(){return V(X,B,I,U)})):Pe(Z)}return Y._promise(B,function(Z,F){return $n(function(){return vt.trans=Y,U(Z,F,Y)})}).then(function(Z){if(B==="readwrite")try{Y.idbtrans.commit()}catch{}return B==="readonly"?Z:Y._completion.then(function(){return Z})})}if(X._state.openComplete)return Pe(new Ut.DatabaseClosed(X._state.dbOpenError));if(!X._state.isBeingOpened){if(!X._state.autoOpen)return Pe(new Ut.DatabaseClosed);X.open().catch(Gt)}return X._state.dbReadyPromise.then(function(){return V(X,B,I,U)})}(this.db,h,[this.name],N);return D&&(q._consoleTask=D,q=q.catch(function(V){return console.trace(V),Pe(V)})),q}finally{L&&Na()}},Ae.prototype.get=function(h,m){var x=this;return h&&h.constructor===Object?this.where(h).first(m):h==null?Pe(new Ut.Type("Invalid argument to Table.get()")):this._trans("readonly",function(S){return x.core.get({trans:S,key:h}).then(function(A){return x.hook.reading.fire(A)})}).then(m)},Ae.prototype.where=function(h){if(typeof h=="string")return new this.db.WhereClause(this,h);if(d(h))return new this.db.WhereClause(this,"[".concat(h.join("+"),"]"));var m=u(h);if(m.length===1)return this.where(m[0]).equals(h[m[0]]);var x=this.schema.indexes.concat(this.schema.primKey).filter(function(L){if(L.compound&&m.every(function(V){return 0<=L.keyPath.indexOf(V)})){for(var q=0;q<m.length;++q)if(m.indexOf(L.keyPath[q])===-1)return!1;return!0}return!1}).sort(function(L,q){return L.keyPath.length-q.keyPath.length})[0];if(x&&this.db._maxKey!==Ai){var D=x.keyPath.slice(0,m.length);return this.where(D).equals(D.map(function(q){return h[q]}))}!x&&hn&&console.warn("The query ".concat(JSON.stringify(h)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(m.join("+"),"]"));var S=this.schema.idxByName;function A(L,q){return oe(L,q)===0}var N=m.reduce(function(B,q){var V=B[0],X=B[1],B=S[q],I=h[q];return[V||B,V||!B?Ti(X,B&&B.multi?function(U){return U=J(U,q),d(U)&&U.some(function(Y){return A(I,Y)})}:function(U){return A(I,J(U,q))}):X]},[null,null]),D=N[0],N=N[1];return D?this.where(D.name).equals(h[D.keyPath]).filter(N):x?this.filter(N):this.where(m).equals("")},Ae.prototype.filter=function(h){return this.toCollection().and(h)},Ae.prototype.count=function(h){return this.toCollection().count(h)},Ae.prototype.offset=function(h){return this.toCollection().offset(h)},Ae.prototype.limit=function(h){return this.toCollection().limit(h)},Ae.prototype.each=function(h){return this.toCollection().each(h)},Ae.prototype.toArray=function(h){return this.toCollection().toArray(h)},Ae.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ae.prototype.orderBy=function(h){return new this.db.Collection(new this.db.WhereClause(this,d(h)?"[".concat(h.join("+"),"]"):h))},Ae.prototype.reverse=function(){return this.toCollection().reverse()},Ae.prototype.mapToClass=function(h){var m,x=this.db,S=this.name;function A(){return m!==null&&m.apply(this,arguments)||this}(this.schema.mappedClass=h).prototype instanceof br&&(function(q,V){if(typeof V!="function"&&V!==null)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");function X(){this.constructor=q}n(q,V),q.prototype=V===null?Object.create(V):(X.prototype=V.prototype,new X)}(A,m=h),Object.defineProperty(A.prototype,"db",{get:function(){return x},enumerable:!1,configurable:!0}),A.prototype.table=function(){return S},h=A);for(var D=new Set,N=h.prototype;N;N=g(N))Object.getOwnPropertyNames(N).forEach(function(q){return D.add(q)});function L(q){if(!q)return q;var V,X=Object.create(h.prototype);for(V in q)if(!D.has(V))try{X[V]=q[V]}catch{}return X}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=L,this.hook("reading",L),h},Ae.prototype.defineClass=function(){return this.mapToClass(function(h){f(this,h)})},Ae.prototype.add=function(h,m){var x=this,S=this.schema.primKey,A=S.auto,D=S.keyPath,N=h;return D&&A&&(N=za(D)(h)),this._trans("readwrite",function(L){return x.core.mutate({trans:L,type:"add",keys:m!=null?[m]:null,values:[N]})}).then(function(L){return L.numFailures?Nt.reject(L.failures[0]):L.lastResult}).then(function(L){if(D)try{ht(h,D,L)}catch{}return L})},Ae.prototype.update=function(h,m){return typeof h!="object"||d(h)?this.where(":id").equals(h).modify(m):(h=J(h,this.schema.primKey.keyPath),h===void 0?Pe(new Ut.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(h).modify(m))},Ae.prototype.put=function(h,m){var x=this,S=this.schema.primKey,A=S.auto,D=S.keyPath,N=h;return D&&A&&(N=za(D)(h)),this._trans("readwrite",function(L){return x.core.mutate({trans:L,type:"put",values:[N],keys:m!=null?[m]:null})}).then(function(L){return L.numFailures?Nt.reject(L.failures[0]):L.lastResult}).then(function(L){if(D)try{ht(h,D,L)}catch{}return L})},Ae.prototype.delete=function(h){var m=this;return this._trans("readwrite",function(x){return m.core.mutate({trans:x,type:"delete",keys:[h]})}).then(function(x){return x.numFailures?Nt.reject(x.failures[0]):void 0})},Ae.prototype.clear=function(){var h=this;return this._trans("readwrite",function(m){return h.core.mutate({trans:m,type:"deleteRange",range:Gi})}).then(function(m){return m.numFailures?Nt.reject(m.failures[0]):void 0})},Ae.prototype.bulkGet=function(h){var m=this;return this._trans("readonly",function(x){return m.core.getMany({keys:h,trans:x}).then(function(S){return S.map(function(A){return m.hook.reading.fire(A)})})})},Ae.prototype.bulkAdd=function(h,m,x){var S=this,A=Array.isArray(m)?m:void 0,D=(x=x||(A?void 0:m))?x.allKeys:void 0;return this._trans("readwrite",function(N){var V=S.schema.primKey,L=V.auto,V=V.keyPath;if(V&&A)throw new Ut.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(A&&A.length!==h.length)throw new Ut.InvalidArgument("Arguments objects and keys must have the same length");var q=h.length,V=V&&L?h.map(za(V)):h;return S.core.mutate({trans:N,type:"add",keys:A,values:V,wantResults:D}).then(function(Y){var B=Y.numFailures,I=Y.results,U=Y.lastResult,Y=Y.failures;if(B===0)return D?I:U;throw new Lt("".concat(S.name,".bulkAdd(): ").concat(B," of ").concat(q," operations failed"),Y)})})},Ae.prototype.bulkPut=function(h,m,x){var S=this,A=Array.isArray(m)?m:void 0,D=(x=x||(A?void 0:m))?x.allKeys:void 0;return this._trans("readwrite",function(N){var V=S.schema.primKey,L=V.auto,V=V.keyPath;if(V&&A)throw new Ut.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(A&&A.length!==h.length)throw new Ut.InvalidArgument("Arguments objects and keys must have the same length");var q=h.length,V=V&&L?h.map(za(V)):h;return S.core.mutate({trans:N,type:"put",keys:A,values:V,wantResults:D}).then(function(Y){var B=Y.numFailures,I=Y.results,U=Y.lastResult,Y=Y.failures;if(B===0)return D?I:U;throw new Lt("".concat(S.name,".bulkPut(): ").concat(B," of ").concat(q," operations failed"),Y)})})},Ae.prototype.bulkUpdate=function(h){var m=this,x=this.core,S=h.map(function(N){return N.key}),A=h.map(function(N){return N.changes}),D=[];return this._trans("readwrite",function(N){return x.getMany({trans:N,keys:S,cache:"clone"}).then(function(L){var q=[],V=[];h.forEach(function(B,I){var U=B.key,Y=B.changes,Z=L[I];if(Z){for(var F=0,at=Object.keys(Y);F<at.length;F++){var ut=at[F],dt=Y[ut];if(ut===m.schema.primKey.keyPath){if(oe(dt,U)!==0)throw new Ut.Constraint("Cannot update primary key in bulkUpdate()")}else ht(Z,ut,dt)}D.push(I),q.push(U),V.push(Z)}});var X=q.length;return x.mutate({trans:N,type:"put",keys:q,values:V,updates:{keys:S,changeSpecs:A}}).then(function(B){var I=B.numFailures,U=B.failures;if(I===0)return X;for(var Y=0,Z=Object.keys(U);Y<Z.length;Y++){var F,at=Z[Y],ut=D[Number(at)];ut!=null&&(F=U[at],delete U[at],U[ut]=F)}throw new Lt("".concat(m.name,".bulkUpdate(): ").concat(I," of ").concat(X," operations failed"),U)})})})},Ae.prototype.bulkDelete=function(h){var m=this,x=h.length;return this._trans("readwrite",function(S){return m.core.mutate({trans:S,type:"delete",keys:h})}).then(function(N){var A=N.numFailures,D=N.lastResult,N=N.failures;if(A===0)return D;throw new Lt("".concat(m.name,".bulkDelete(): ").concat(A," of ").concat(x," operations failed"),N)})},Ae);function Ae(){}function Di(h){function m(N,L){if(L){for(var q=arguments.length,V=new Array(q-1);--q;)V[q-1]=arguments[q];return x[N].subscribe.apply(null,V),h}if(typeof N=="string")return x[N]}var x={};m.addEventType=D;for(var S=1,A=arguments.length;S<A;++S)D(arguments[S]);return m;function D(N,L,q){if(typeof N!="object"){var V;L=L||pr;var X={subscribers:[],fire:q=q||Gt,subscribe:function(B){X.subscribers.indexOf(B)===-1&&(X.subscribers.push(B),X.fire=L(X.fire,B))},unsubscribe:function(B){X.subscribers=X.subscribers.filter(function(I){return I!==B}),X.fire=X.subscribers.reduce(L,q)}};return x[N]=m[N]=X}u(V=N).forEach(function(B){var I=V[B];if(d(I))D(B,V[B][0],V[B][1]);else{if(I!=="asap")throw new Ut.InvalidArgument("Invalid event config");var U=D(B,vn,function(){for(var Y=arguments.length,Z=new Array(Y);Y--;)Z[Y]=arguments[Y];U.subscribers.forEach(function(F){$(function(){F.apply(null,Z)})})})}})}}function Ba(h,m){return O(m).from({prototype:h}),m}function mi(h,m){return!(h.filter||h.algorithm||h.or)&&(m?h.justLimit:!h.replayFilter)}function Ro(h,m){h.filter=Ti(h.filter,m)}function bn(h,m,x){var S=h.replayFilter;h.replayFilter=S?function(){return Ti(S(),m())}:m,h.justLimit=x&&!S}function Pa(h,m){if(h.isPrimKey)return m.primaryKey;var x=m.getIndexByKeyPath(h.index);if(!x)throw new Ut.Schema("KeyPath "+h.index+" on object store "+m.name+" is not indexed");return x}function No(h,m,x){var S=Pa(h,m.schema);return m.openCursor({trans:x,values:!h.keysOnly,reverse:h.dir==="prev",unique:!!h.unique,query:{index:S,range:h.range}})}function Ha(h,m,x,S){var A=h.replayFilter?Ti(h.filter,h.replayFilter()):h.filter;if(h.or){var D={},N=function(L,q,V){var X,B;A&&!A(q,V,function(I){return q.stop(I)},function(I){return q.fail(I)})||((B=""+(X=q.primaryKey))=="[object ArrayBuffer]"&&(B=""+new Uint8Array(X)),_(D,B)||(D[B]=!0,m(L,q,V)))};return Promise.all([h.or._iterate(N,x),Qi(No(h,S,x),h.algorithm,N,!h.keysOnly&&h.valueMapper)])}return Qi(No(h,S,x),Ti(h.algorithm,A),m,!h.keysOnly&&h.valueMapper)}function Qi(h,m,x,S){var A=ae(S?function(D,N,L){return x(S(D),N,L)}:x);return h.then(function(D){if(D)return D.start(function(){var N=function(){return D.continue()};m&&!m(D,function(L){return N=L},function(L){D.stop(L),N=Gt},function(L){D.fail(L),N=Gt})||A(D.value,D,function(L){return N=L}),N()})})}var Ua=(Lo.prototype.execute=function(h){var m=this["@@propmod"];if(m.add!==void 0){var x=m.add;if(d(x))return r(r([],d(h)?h:[],!0),x).sort();if(typeof x=="number")return(Number(h)||0)+x;if(typeof x=="bigint")try{return BigInt(h)+x}catch{return BigInt(0)+x}throw new TypeError("Invalid term ".concat(x))}if(m.remove!==void 0){var S=m.remove;if(d(S))return d(h)?h.filter(function(A){return!S.includes(A)}).sort():[];if(typeof S=="number")return Number(h)-S;if(typeof S=="bigint")try{return BigInt(h)-S}catch{return BigInt(0)-S}throw new TypeError("Invalid subtrahend ".concat(S))}return x=(x=m.replacePrefix)===null||x===void 0?void 0:x[0],x&&typeof h=="string"&&h.startsWith(x)?m.replacePrefix[1]+h.substring(x.length):h},Lo);function Lo(h){this["@@propmod"]=h}var qa=(fe.prototype._read=function(h,m){var x=this._ctx;return x.error?x.table._trans(null,Pe.bind(null,x.error)):x.table._trans("readonly",h).then(m)},fe.prototype._write=function(h){var m=this._ctx;return m.error?m.table._trans(null,Pe.bind(null,m.error)):m.table._trans("readwrite",h,"locked")},fe.prototype._addAlgorithm=function(h){var m=this._ctx;m.algorithm=Ti(m.algorithm,h)},fe.prototype._iterate=function(h,m){return Ha(this._ctx,h,m,this._ctx.table.core)},fe.prototype.clone=function(h){var m=Object.create(this.constructor.prototype),x=Object.create(this._ctx);return h&&f(x,h),m._ctx=x,m},fe.prototype.raw=function(){return this._ctx.valueMapper=null,this},fe.prototype.each=function(h){var m=this._ctx;return this._read(function(x){return Ha(m,h,x,m.table.core)})},fe.prototype.count=function(h){var m=this;return this._read(function(x){var S=m._ctx,A=S.table.core;if(mi(S,!0))return A.count({trans:x,query:{index:Pa(S,A.schema),range:S.range}}).then(function(N){return Math.min(N,S.limit)});var D=0;return Ha(S,function(){return++D,!1},x,A).then(function(){return D})}).then(h)},fe.prototype.sortBy=function(h,m){var x=h.split(".").reverse(),S=x[0],A=x.length-1;function D(q,V){return V?D(q[x[V]],V-1):q[S]}var N=this._ctx.dir==="next"?1:-1;function L(q,V){return oe(D(q,A),D(V,A))*N}return this.toArray(function(q){return q.sort(L)}).then(m)},fe.prototype.toArray=function(h){var m=this;return this._read(function(x){var S=m._ctx;if(S.dir==="next"&&mi(S,!0)&&0<S.limit){var A=S.valueMapper,D=Pa(S,S.table.core.schema);return S.table.core.query({trans:x,limit:S.limit,values:!0,query:{index:D,range:S.range}}).then(function(L){return L=L.result,A?L.map(A):L})}var N=[];return Ha(S,function(L){return N.push(L)},x,S.table.core).then(function(){return N})},h)},fe.prototype.offset=function(h){var m=this._ctx;return h<=0||(m.offset+=h,mi(m)?bn(m,function(){var x=h;return function(S,A){return x===0||(x===1?--x:A(function(){S.advance(x),x=0}),!1)}}):bn(m,function(){var x=h;return function(){return--x<0}})),this},fe.prototype.limit=function(h){return this._ctx.limit=Math.min(this._ctx.limit,h),bn(this._ctx,function(){var m=h;return function(x,S,A){return--m<=0&&S(A),0<=m}},!0),this},fe.prototype.until=function(h,m){return Ro(this._ctx,function(x,S,A){return!h(x.value)||(S(A),m)}),this},fe.prototype.first=function(h){return this.limit(1).toArray(function(m){return m[0]}).then(h)},fe.prototype.last=function(h){return this.reverse().first(h)},fe.prototype.filter=function(h){var m;return Ro(this._ctx,function(x){return h(x.value)}),(m=this._ctx).isMatch=Ti(m.isMatch,h),this},fe.prototype.and=function(h){return this.filter(h)},fe.prototype.or=function(h){return new this.db.WhereClause(this._ctx.table,h,this)},fe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},fe.prototype.desc=function(){return this.reverse()},fe.prototype.eachKey=function(h){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(x,S){h(S.key,S)})},fe.prototype.eachUniqueKey=function(h){return this._ctx.unique="unique",this.eachKey(h)},fe.prototype.eachPrimaryKey=function(h){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(x,S){h(S.primaryKey,S)})},fe.prototype.keys=function(h){var m=this._ctx;m.keysOnly=!m.isMatch;var x=[];return this.each(function(S,A){x.push(A.key)}).then(function(){return x}).then(h)},fe.prototype.primaryKeys=function(h){var m=this._ctx;if(m.dir==="next"&&mi(m,!0)&&0<m.limit)return this._read(function(S){var A=Pa(m,m.table.core.schema);return m.table.core.query({trans:S,values:!1,limit:m.limit,query:{index:A,range:m.range}})}).then(function(S){return S.result}).then(h);m.keysOnly=!m.isMatch;var x=[];return this.each(function(S,A){x.push(A.primaryKey)}).then(function(){return x}).then(h)},fe.prototype.uniqueKeys=function(h){return this._ctx.unique="unique",this.keys(h)},fe.prototype.firstKey=function(h){return this.limit(1).keys(function(m){return m[0]}).then(h)},fe.prototype.lastKey=function(h){return this.reverse().firstKey(h)},fe.prototype.distinct=function(){var h=this._ctx,h=h.index&&h.table.schema.idxByName[h.index];if(!h||!h.multi)return this;var m={};return Ro(this._ctx,function(A){var S=A.primaryKey.toString(),A=_(m,S);return m[S]=!0,!A}),this},fe.prototype.modify=function(h){var m=this,x=this._ctx;return this._write(function(S){var A,D,N;N=typeof h=="function"?h:(A=u(h),D=A.length,function(F){for(var at=!1,ut=0;ut<D;++ut){var dt=A[ut],pt=h[dt],Tt=J(F,dt);pt instanceof Ua?(ht(F,dt,pt.execute(Tt)),at=!0):Tt!==pt&&(ht(F,dt,pt),at=!0)}return at});var L=x.table.core,B=L.schema.primaryKey,q=B.outbound,V=B.extractKey,X=200,B=m.db._options.modifyChunkSize;B&&(X=typeof B=="object"?B[L.name]||B["*"]||200:B);function I(F,dt){var ut=dt.failures,dt=dt.numFailures;Y+=F-dt;for(var pt=0,Tt=u(ut);pt<Tt.length;pt++){var Ct=Tt[pt];U.push(ut[Ct])}}var U=[],Y=0,Z=[];return m.clone().primaryKeys().then(function(F){function at(dt){var pt=Math.min(X,F.length-dt);return L.getMany({trans:S,keys:F.slice(dt,dt+pt),cache:"immutable"}).then(function(Tt){for(var Ct=[],wt=[],Dt=q?[]:null,jt=[],Et=0;Et<pt;++Et){var Bt=Tt[Et],Yt={value:Ot(Bt),primKey:F[dt+Et]};N.call(Yt,Yt.value,Yt)!==!1&&(Yt.value==null?jt.push(F[dt+Et]):q||oe(V(Bt),V(Yt.value))===0?(wt.push(Yt.value),q&&Dt.push(F[dt+Et])):(jt.push(F[dt+Et]),Ct.push(Yt.value)))}return Promise.resolve(0<Ct.length&&L.mutate({trans:S,type:"add",values:Ct}).then(function(Qt){for(var ee in Qt.failures)jt.splice(parseInt(ee),1);I(Ct.length,Qt)})).then(function(){return(0<wt.length||ut&&typeof h=="object")&&L.mutate({trans:S,type:"put",keys:Dt,values:wt,criteria:ut,changeSpec:typeof h!="function"&&h,isAdditionalChunk:0<dt}).then(function(Qt){return I(wt.length,Qt)})}).then(function(){return(0<jt.length||ut&&h===xr)&&L.mutate({trans:S,type:"delete",keys:jt,criteria:ut,isAdditionalChunk:0<dt}).then(function(Qt){return I(jt.length,Qt)})}).then(function(){return F.length>dt+pt&&at(dt+X)})})}var ut=mi(x)&&x.limit===1/0&&(typeof h!="function"||h===xr)&&{index:x.index,range:x.range};return at(0).then(function(){if(0<U.length)throw new qt("Error modifying one or more objects",U,Y,Z);return F.length})})})},fe.prototype.delete=function(){var h=this._ctx,m=h.range;return mi(h)&&(h.isPrimKey||m.type===3)?this._write(function(x){var S=h.table.core.schema.primaryKey,A=m;return h.table.core.count({trans:x,query:{index:S,range:A}}).then(function(D){return h.table.core.mutate({trans:x,type:"deleteRange",range:A}).then(function(N){var L=N.failures;if(N.lastResult,N.results,N=N.numFailures,N)throw new qt("Could not delete some values",Object.keys(L).map(function(q){return L[q]}),D-N);return D-N})})}):this.modify(xr)},fe);function fe(){}var xr=function(h,m){return m.value=null};function dc(h,m){return h<m?-1:h===m?0:1}function zo(h,m){return m<h?-1:h===m?0:1}function On(h,m,x){return h=h instanceof $i?new h.Collection(h):h,h._ctx.error=new(x||TypeError)(m),h}function Ka(h){return new h.Collection(h,function(){return _r("")}).limit(0)}function Zi(h,m,x,S){var A,D,N,L,q,V,X,B=x.length;if(!x.every(function(Y){return typeof Y=="string"}))return On(h,uc);function I(Y){A=Y==="next"?function(F){return F.toUpperCase()}:function(F){return F.toLowerCase()},D=Y==="next"?function(F){return F.toLowerCase()}:function(F){return F.toUpperCase()},N=Y==="next"?dc:zo;var Z=x.map(function(F){return{lower:D(F),upper:A(F)}}).sort(function(F,at){return N(F.lower,at.lower)});L=Z.map(function(F){return F.upper}),q=Z.map(function(F){return F.lower}),X=(V=Y)==="next"?"":S}I("next"),h=new h.Collection(h,function(){return ti(L[0],q[B-1]+S)}),h._ondirectionchange=function(Y){I(Y)};var U=0;return h._addAlgorithm(function(Y,Z,F){var at=Y.key;if(typeof at!="string")return!1;var ut=D(at);if(m(ut,q,U))return!0;for(var dt=null,pt=U;pt<B;++pt){var Tt=function(Ct,wt,Dt,jt,Et,Bt){for(var Yt=Math.min(Ct.length,jt.length),Qt=-1,ee=0;ee<Yt;++ee){var pn=wt[ee];if(pn!==jt[ee])return Et(Ct[ee],Dt[ee])<0?Ct.substr(0,ee)+Dt[ee]+Dt.substr(ee+1):Et(Ct[ee],jt[ee])<0?Ct.substr(0,ee)+jt[ee]+Dt.substr(ee+1):0<=Qt?Ct.substr(0,Qt)+wt[Qt]+Dt.substr(Qt+1):null;Et(Ct[ee],pn)<0&&(Qt=ee)}return Yt<jt.length&&Bt==="next"?Ct+Dt.substr(Ct.length):Yt<Ct.length&&Bt==="prev"?Ct.substr(0,Dt.length):Qt<0?null:Ct.substr(0,Qt)+jt[Qt]+Dt.substr(Qt+1)}(at,ut,L[pt],q[pt],N,V);Tt===null&&dt===null?U=pt+1:(dt===null||0<N(dt,Tt))&&(dt=Tt)}return Z(dt!==null?function(){Y.continue(dt+X)}:F),!1}),h}function ti(h,m,x,S){return{type:2,lower:h,upper:m,lowerOpen:x,upperOpen:S}}function _r(h){return{type:1,lower:h,upper:h}}var $i=(Object.defineProperty(Me.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Me.prototype.between=function(h,m,x,S){x=x!==!1,S=S===!0;try{return 0<this._cmp(h,m)||this._cmp(h,m)===0&&(x||S)&&(!x||!S)?Ka(this):new this.Collection(this,function(){return ti(h,m,!x,!S)})}catch{return On(this,Jn)}},Me.prototype.equals=function(h){return h==null?On(this,Jn):new this.Collection(this,function(){return _r(h)})},Me.prototype.above=function(h){return h==null?On(this,Jn):new this.Collection(this,function(){return ti(h,void 0,!0)})},Me.prototype.aboveOrEqual=function(h){return h==null?On(this,Jn):new this.Collection(this,function(){return ti(h,void 0,!1)})},Me.prototype.below=function(h){return h==null?On(this,Jn):new this.Collection(this,function(){return ti(void 0,h,!1,!0)})},Me.prototype.belowOrEqual=function(h){return h==null?On(this,Jn):new this.Collection(this,function(){return ti(void 0,h)})},Me.prototype.startsWith=function(h){return typeof h!="string"?On(this,uc):this.between(h,h+Ai,!0,!0)},Me.prototype.startsWithIgnoreCase=function(h){return h===""?this.startsWith(h):Zi(this,function(m,x){return m.indexOf(x[0])===0},[h],Ai)},Me.prototype.equalsIgnoreCase=function(h){return Zi(this,function(m,x){return m===x[0]},[h],"")},Me.prototype.anyOfIgnoreCase=function(){var h=R.apply(rt,arguments);return h.length===0?Ka(this):Zi(this,function(m,x){return x.indexOf(m)!==-1},h,"")},Me.prototype.startsWithAnyOfIgnoreCase=function(){var h=R.apply(rt,arguments);return h.length===0?Ka(this):Zi(this,function(m,x){return x.some(function(S){return m.indexOf(S)===0})},h,Ai)},Me.prototype.anyOf=function(){var h=this,m=R.apply(rt,arguments),x=this._cmp;try{m.sort(x)}catch{return On(this,Jn)}if(m.length===0)return Ka(this);var S=new this.Collection(this,function(){return ti(m[0],m[m.length-1])});S._ondirectionchange=function(D){x=D==="next"?h._ascending:h._descending,m.sort(x)};var A=0;return S._addAlgorithm(function(D,N,L){for(var q=D.key;0<x(q,m[A]);)if(++A===m.length)return N(L),!1;return x(q,m[A])===0||(N(function(){D.continue(m[A])}),!1)}),S},Me.prototype.notEqual=function(h){return this.inAnyRange([[-1/0,h],[h,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Me.prototype.noneOf=function(){var h=R.apply(rt,arguments);if(h.length===0)return new this.Collection(this);try{h.sort(this._ascending)}catch{return On(this,Jn)}var m=h.reduce(function(x,S){return x?x.concat([[x[x.length-1][1],S]]):[[-1/0,S]]},null);return m.push([h[h.length-1],this.db._maxKey]),this.inAnyRange(m,{includeLowers:!1,includeUppers:!1})},Me.prototype.inAnyRange=function(at,m){var x=this,S=this._cmp,A=this._ascending,D=this._descending,N=this._min,L=this._max;if(at.length===0)return Ka(this);if(!at.every(function(ut){return ut[0]!==void 0&&ut[1]!==void 0&&A(ut[0],ut[1])<=0}))return On(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ut.InvalidArgument);var q=!m||m.includeLowers!==!1,V=m&&m.includeUppers===!0,X,B=A;function I(ut,dt){return B(ut[0],dt[0])}try{(X=at.reduce(function(ut,dt){for(var pt=0,Tt=ut.length;pt<Tt;++pt){var Ct=ut[pt];if(S(dt[0],Ct[1])<0&&0<S(dt[1],Ct[0])){Ct[0]=N(Ct[0],dt[0]),Ct[1]=L(Ct[1],dt[1]);break}}return pt===Tt&&ut.push(dt),ut},[])).sort(I)}catch{return On(this,Jn)}var U=0,Y=V?function(ut){return 0<A(ut,X[U][1])}:function(ut){return 0<=A(ut,X[U][1])},Z=q?function(ut){return 0<D(ut,X[U][0])}:function(ut){return 0<=D(ut,X[U][0])},F=Y,at=new this.Collection(this,function(){return ti(X[0][0],X[X.length-1][1],!q,!V)});return at._ondirectionchange=function(ut){B=ut==="next"?(F=Y,A):(F=Z,D),X.sort(I)},at._addAlgorithm(function(ut,dt,pt){for(var Tt,Ct=ut.key;F(Ct);)if(++U===X.length)return dt(pt),!1;return!Y(Tt=Ct)&&!Z(Tt)||(x._cmp(Ct,X[U][1])===0||x._cmp(Ct,X[U][0])===0||dt(function(){B===A?ut.continue(X[U][0]):ut.continue(X[U][1])}),!1)}),at},Me.prototype.startsWithAnyOf=function(){var h=R.apply(rt,arguments);return h.every(function(m){return typeof m=="string"})?h.length===0?Ka(this):this.inAnyRange(h.map(function(m){return[m,m+Ai]})):On(this,"startsWithAnyOf() only works with strings")},Me);function Me(){}function Fn(h){return ae(function(m){return Ji(m),h(m.target.error),!1})}function Ji(h){h.stopPropagation&&h.stopPropagation(),h.preventDefault&&h.preventDefault()}var Va="storagemutated",ta="x-storagemutated-1",sn=Di(null,Va),Bo=(xn.prototype._lock=function(){return H(!vt.global),++this._reculock,this._reculock!==1||vt.global||(vt.lockOwnerFor=this),this},xn.prototype._unlock=function(){if(H(!vt.global),--this._reculock==0)for(vt.global||(vt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var h=this._blockedFuncs.shift();try{Si(h[1],h[0])}catch{}}return this},xn.prototype._locked=function(){return this._reculock&&vt.lockOwnerFor!==this},xn.prototype.create=function(h){var m=this;if(!this.mode)return this;var x=this.db.idbdb,S=this.db._state.dbOpenError;if(H(!this.idbtrans),!h&&!x)switch(S&&S.name){case"DatabaseClosedError":throw new Ut.DatabaseClosed(S);case"MissingAPIError":throw new Ut.MissingAPI(S.message,S);default:throw new Ut.OpenFailed(S)}if(!this.active)throw new Ut.TransactionInactive;return H(this._completion._state===null),(h=this.idbtrans=h||(this.db.core||x).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ae(function(A){Ji(A),m._reject(h.error)}),h.onabort=ae(function(A){Ji(A),m.active&&m._reject(new Ut.Abort(h.error)),m.active=!1,m.on("abort").fire(A)}),h.oncomplete=ae(function(){m.active=!1,m._resolve(),"mutatedParts"in h&&sn.storagemutated.fire(h.mutatedParts)}),this},xn.prototype._promise=function(h,m,x){var S=this;if(h==="readwrite"&&this.mode!=="readwrite")return Pe(new Ut.ReadOnly("Transaction is readonly"));if(!this.active)return Pe(new Ut.TransactionInactive);if(this._locked())return new Nt(function(D,N){S._blockedFuncs.push([function(){S._promise(h,m,x).then(D,N)},vt])});if(x)return $n(function(){var D=new Nt(function(N,L){S._lock();var q=m(N,L,S);q&&q.then&&q.then(N,L)});return D.finally(function(){return S._unlock()}),D._lib=!0,D});var A=new Nt(function(D,N){var L=m(D,N,S);L&&L.then&&L.then(D,N)});return A._lib=!0,A},xn.prototype._root=function(){return this.parent?this.parent._root():this},xn.prototype.waitFor=function(h){var m,x=this._root(),S=Nt.resolve(h);x._waitingFor?x._waitingFor=x._waitingFor.then(function(){return S}):(x._waitingFor=S,x._waitingQueue=[],m=x.idbtrans.objectStore(x.storeNames[0]),function D(){for(++x._spinCount;x._waitingQueue.length;)x._waitingQueue.shift()();x._waitingFor&&(m.get(-1/0).onsuccess=D)}());var A=x._waitingFor;return new Nt(function(D,N){S.then(function(L){return x._waitingQueue.push(ae(D.bind(null,L)))},function(L){return x._waitingQueue.push(ae(N.bind(null,L)))}).finally(function(){x._waitingFor===A&&(x._waitingFor=null)})})},xn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ut.Abort))},xn.prototype.table=function(h){var m=this._memoizedTables||(this._memoizedTables={});if(_(m,h))return m[h];var x=this.schema[h];if(!x)throw new Ut.NotFound("Table "+h+" not part of transaction");return x=new this.db.Table(h,x,this),x.core=this.db.core.table(h),m[h]=x},xn);function xn(){}function ei(h,m,x,S,A,D,N){return{name:h,keyPath:m,unique:x,multi:S,auto:A,compound:D,src:(x&&!N?"&":"")+(S?"*":"")+(A?"++":"")+Sr(m)}}function Sr(h){return typeof h=="string"?h:h?"["+[].join.call(h,"+")+"]":""}function Fa(h,m,x){return{name:h,primKey:m,indexes:x,mappedClass:null,idxByName:(S=function(A){return[A.name,A]},x.reduce(function(A,D,N){return N=S(D,N),N&&(A[N[0]]=N[1]),A},{}))};var S}var Ya=function(h){try{return h.only([[]]),Ya=function(){return[[]]},[[]]}catch{return Ya=function(){return Ai},Ai}};function Xa(h){return h==null?function(){}:typeof h=="string"?(m=h).split(".").length===1?function(x){return x[m]}:function(x){return J(x,m)}:function(x){return J(x,h)};var m}function Ls(h){return[].slice.call(h)}var fc=0;function Ze(h){return h==null?":id":typeof h=="string"?h:"[".concat(h.join("+"),"]")}function ea(h,m,q){function S(F){if(F.type===3)return null;if(F.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var U=F.lower,Y=F.upper,Z=F.lowerOpen,F=F.upperOpen;return U===void 0?Y===void 0?null:m.upperBound(Y,!!F):Y===void 0?m.lowerBound(U,!!Z):m.bound(U,Y,!!Z,!!F)}function A(I){var U,Y=I.name;return{name:Y,schema:I,mutate:function(Z){var F=Z.trans,at=Z.type,ut=Z.keys,dt=Z.values,pt=Z.range;return new Promise(function(Tt,Ct){Tt=ae(Tt);var wt=F.objectStore(Y),Dt=wt.keyPath==null,jt=at==="put"||at==="add";if(!jt&&at!=="delete"&&at!=="deleteRange")throw new Error("Invalid operation type: "+at);var Et,Bt=(ut||dt||{length:1}).length;if(ut&&dt&&ut.length!==dt.length)throw new Error("Given keys array must have same length as given values array.");if(Bt===0)return Tt({numFailures:0,failures:{},results:[],lastResult:void 0});function Yt(on){++pn,Ji(on)}var Qt=[],ee=[],pn=0;if(at==="deleteRange"){if(pt.type===4)return Tt({numFailures:pn,failures:ee,results:[],lastResult:void 0});pt.type===3?Qt.push(Et=wt.clear()):Qt.push(Et=wt.delete(S(pt)))}else{var Dt=jt?Dt?[dt,ut]:[dt,null]:[ut,null],Jt=Dt[0],We=Dt[1];if(jt)for(var $e=0;$e<Bt;++$e)Qt.push(Et=We&&We[$e]!==void 0?wt[at](Jt[$e],We[$e]):wt[at](Jt[$e])),Et.onerror=Yt;else for($e=0;$e<Bt;++$e)Qt.push(Et=wt[at](Jt[$e])),Et.onerror=Yt}function yi(on){on=on.target.result,Qt.forEach(function(ii,Oi){return ii.error!=null&&(ee[Oi]=ii.error)}),Tt({numFailures:pn,failures:ee,results:at==="delete"?ut:Qt.map(function(ii){return ii.result}),lastResult:on})}Et.onerror=function(on){Yt(on),yi(on)},Et.onsuccess=yi})},getMany:function(Z){var F=Z.trans,at=Z.keys;return new Promise(function(ut,dt){ut=ae(ut);for(var pt,Tt=F.objectStore(Y),Ct=at.length,wt=new Array(Ct),Dt=0,jt=0,Et=function(Qt){Qt=Qt.target,wt[Qt._pos]=Qt.result,++jt===Dt&&ut(wt)},Bt=Fn(dt),Yt=0;Yt<Ct;++Yt)at[Yt]!=null&&((pt=Tt.get(at[Yt]))._pos=Yt,pt.onsuccess=Et,pt.onerror=Bt,++Dt);Dt===0&&ut(wt)})},get:function(Z){var F=Z.trans,at=Z.key;return new Promise(function(ut,dt){ut=ae(ut);var pt=F.objectStore(Y).get(at);pt.onsuccess=function(Tt){return ut(Tt.target.result)},pt.onerror=Fn(dt)})},query:(U=V,function(Z){return new Promise(function(F,at){F=ae(F);var ut,dt,pt,Dt=Z.trans,Tt=Z.values,Ct=Z.limit,Et=Z.query,wt=Ct===1/0?void 0:Ct,jt=Et.index,Et=Et.range,Dt=Dt.objectStore(Y),jt=jt.isPrimaryKey?Dt:Dt.index(jt.name),Et=S(Et);if(Ct===0)return F({result:[]});U?((wt=Tt?jt.getAll(Et,wt):jt.getAllKeys(Et,wt)).onsuccess=function(Bt){return F({result:Bt.target.result})},wt.onerror=Fn(at)):(ut=0,dt=!Tt&&"openKeyCursor"in jt?jt.openKeyCursor(Et):jt.openCursor(Et),pt=[],dt.onsuccess=function(Bt){var Yt=dt.result;return Yt?(pt.push(Tt?Yt.value:Yt.primaryKey),++ut===Ct?F({result:pt}):void Yt.continue()):F({result:pt})},dt.onerror=Fn(at))})}),openCursor:function(Z){var F=Z.trans,at=Z.values,ut=Z.query,dt=Z.reverse,pt=Z.unique;return new Promise(function(Tt,Ct){Tt=ae(Tt);var jt=ut.index,wt=ut.range,Dt=F.objectStore(Y),Dt=jt.isPrimaryKey?Dt:Dt.index(jt.name),jt=dt?pt?"prevunique":"prev":pt?"nextunique":"next",Et=!at&&"openKeyCursor"in Dt?Dt.openKeyCursor(S(wt),jt):Dt.openCursor(S(wt),jt);Et.onerror=Fn(Ct),Et.onsuccess=ae(function(Bt){var Yt,Qt,ee,pn,Jt=Et.result;Jt?(Jt.___id=++fc,Jt.done=!1,Yt=Jt.continue.bind(Jt),Qt=(Qt=Jt.continuePrimaryKey)&&Qt.bind(Jt),ee=Jt.advance.bind(Jt),pn=function(){throw new Error("Cursor not stopped")},Jt.trans=F,Jt.stop=Jt.continue=Jt.continuePrimaryKey=Jt.advance=function(){throw new Error("Cursor not started")},Jt.fail=ae(Ct),Jt.next=function(){var We=this,$e=1;return this.start(function(){return $e--?We.continue():We.stop()}).then(function(){return We})},Jt.start=function(We){function $e(){if(Et.result)try{We()}catch(on){Jt.fail(on)}else Jt.done=!0,Jt.start=function(){throw new Error("Cursor behind last entry")},Jt.stop()}var yi=new Promise(function(on,ii){on=ae(on),Et.onerror=Fn(ii),Jt.fail=ii,Jt.stop=function(Oi){Jt.stop=Jt.continue=Jt.continuePrimaryKey=Jt.advance=pn,on(Oi)}});return Et.onsuccess=ae(function(on){Et.onsuccess=$e,$e()}),Jt.continue=Yt,Jt.continuePrimaryKey=Qt,Jt.advance=ee,$e(),yi},Tt(Jt)):Tt(null)},Ct)})},count:function(Z){var F=Z.query,at=Z.trans,ut=F.index,dt=F.range;return new Promise(function(pt,Tt){var Ct=at.objectStore(Y),wt=ut.isPrimaryKey?Ct:Ct.index(ut.name),Ct=S(dt),wt=Ct?wt.count(Ct):wt.count();wt.onsuccess=ae(function(Dt){return pt(Dt.target.result)}),wt.onerror=Fn(Tt)})}}}var D,N,L,X=(N=q,L=Ls((D=h).objectStoreNames),{schema:{name:D.name,tables:L.map(function(I){return N.objectStore(I)}).map(function(I){var U=I.keyPath,F=I.autoIncrement,Y=d(U),Z={},F={name:I.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:U==null,compound:Y,keyPath:U,autoIncrement:F,unique:!0,extractKey:Xa(U)},indexes:Ls(I.indexNames).map(function(at){return I.index(at)}).map(function(pt){var ut=pt.name,dt=pt.unique,Tt=pt.multiEntry,pt=pt.keyPath,Tt={name:ut,compound:d(pt),keyPath:pt,unique:dt,multiEntry:Tt,extractKey:Xa(pt)};return Z[Ze(pt)]=Tt}),getIndexByKeyPath:function(at){return Z[Ze(at)]}};return Z[":id"]=F.primaryKey,U!=null&&(Z[Ze(U)]=F.primaryKey),F})},hasGetAll:0<L.length&&"getAll"in N.objectStore(L[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),q=X.schema,V=X.hasGetAll,X=q.tables.map(A),B={};return X.forEach(function(I){return B[I.name]=I}),{stack:"dbcore",transaction:h.transaction.bind(h),table:function(I){if(!B[I])throw new Error("Table '".concat(I,"' not found"));return B[I]},MIN_KEY:-1/0,MAX_KEY:Ya(m),schema:q}}function wr(h,m,x,S){var A=x.IDBKeyRange;return x.indexedDB,{dbcore:(S=ea(m,A,S),h.dbcore.reduce(function(D,N){return N=N.create,s(s({},D),N(D))},S))}}function Ci(h,S){var x=S.db,S=wr(h._middlewares,x,h._deps,S);h.core=S.dbcore,h.tables.forEach(function(A){var D=A.name;h.core.schema.tables.some(function(N){return N.name===D})&&(A.core=h.core.table(D),h[D]instanceof h.Table&&(h[D].core=A.core))})}function Er(h,m,x,S){x.forEach(function(A){var D=S[A];m.forEach(function(N){var L=function q(V,X){return M(V,X)||(V=g(V))&&q(V,X)}(N,A);(!L||"value"in L&&L.value===void 0)&&(N===h.Transaction.prototype||N instanceof h.Transaction?C(N,A,{get:function(){return this.table(A)},set:function(q){T(this,A,{value:q,writable:!0,configurable:!0,enumerable:!0})}}):N[A]=new h.Table(A,D))})})}function zs(h,m){m.forEach(function(x){for(var S in x)x[S]instanceof h.Table&&delete x[S]})}function Po(h,m){return h._cfg.version-m._cfg.version}function Bs(h,m,x,S){var A=h._dbSchema;x.objectStoreNames.contains("$meta")&&!A.$meta&&(A.$meta=Fa("$meta",pc("")[0],[]),h._storeNames.push("$meta"));var D=h._createTransaction("readwrite",h._storeNames,A);D.create(x),D._completion.catch(S);var N=D._reject.bind(D),L=vt.transless||vt;$n(function(){return vt.trans=D,vt.transless=L,m!==0?(Ci(h,x),V=m,((q=D).storeNames.includes("$meta")?q.table("$meta").get("version").then(function(X){return X??V}):Nt.resolve(V)).then(function(X){return I=X,U=D,Y=x,Z=[],X=(B=h)._versions,F=B._dbSchema=Wa(0,B.idbdb,Y),(X=X.filter(function(at){return at._cfg.version>=I})).length!==0?(X.forEach(function(at){Z.push(function(){var ut=F,dt=at._cfg.dbschema;Cr(B,ut,Y),Cr(B,dt,Y),F=B._dbSchema=dt;var pt=Tr(ut,dt);pt.add.forEach(function(jt){Ho(Y,jt[0],jt[1].primKey,jt[1].indexes)}),pt.change.forEach(function(jt){if(jt.recreate)throw new Ut.Upgrade("Not yet support for changing primary key");var Et=Y.objectStore(jt.name);jt.add.forEach(function(Bt){return Dr(Et,Bt)}),jt.change.forEach(function(Bt){Et.deleteIndex(Bt.name),Dr(Et,Bt)}),jt.del.forEach(function(Bt){return Et.deleteIndex(Bt)})});var Tt=at._cfg.contentUpgrade;if(Tt&&at._cfg.version>I){Ci(B,Y),U._memoizedTables={};var Ct=ft(dt);pt.del.forEach(function(jt){Ct[jt]=ut[jt]}),zs(B,[B.Transaction.prototype]),Er(B,[B.Transaction.prototype],u(Ct),Ct),U.schema=Ct;var wt,Dt=it(Tt);return Dt&&Kn(),pt=Nt.follow(function(){var jt;(wt=Tt(U))&&Dt&&(jt=jn.bind(null,null),wt.then(jt,jt))}),wt&&typeof wt.then=="function"?Nt.resolve(wt):pt.then(function(){return wt})}}),Z.push(function(ut){var dt,pt,Tt=at._cfg.dbschema;dt=Tt,pt=ut,[].slice.call(pt.db.objectStoreNames).forEach(function(Ct){return dt[Ct]==null&&pt.db.deleteObjectStore(Ct)}),zs(B,[B.Transaction.prototype]),Er(B,[B.Transaction.prototype],B._storeNames,B._dbSchema),U.schema=B._dbSchema}),Z.push(function(ut){B.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(B.idbdb.version/10)===at._cfg.version?(B.idbdb.deleteObjectStore("$meta"),delete B._dbSchema.$meta,B._storeNames=B._storeNames.filter(function(dt){return dt!=="$meta"})):ut.objectStore("$meta").put(at._cfg.version,"version"))})}),function at(){return Z.length?Nt.resolve(Z.shift()(U.idbtrans)).then(at):Nt.resolve()}().then(function(){hc(F,Y)})):Nt.resolve();var B,I,U,Y,Z,F}).catch(N)):(u(A).forEach(function(X){Ho(x,X,A[X].primKey,A[X].indexes)}),Ci(h,x),void Nt.follow(function(){return h.on.populate.fire(D)}).catch(N));var q,V})}function Ar(h,m){hc(h._dbSchema,m),m.db.version%10!=0||m.objectStoreNames.contains("$meta")||m.db.createObjectStore("$meta").add(Math.ceil(m.db.version/10-1),"version");var x=Wa(0,h.idbdb,m);Cr(h,h._dbSchema,m);for(var S=0,A=Tr(x,h._dbSchema).change;S<A.length;S++){var D=function(N){if(N.change.length||N.recreate)return console.warn("Unable to patch indexes of table ".concat(N.name," because it has changes on the type of index or primary key.")),{value:void 0};var L=m.objectStore(N.name);N.add.forEach(function(q){hn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(N.name,".").concat(q.src)),Dr(L,q)})}(A[S]);if(typeof D=="object")return D.value}}function Tr(h,m){var x,S={del:[],add:[],change:[]};for(x in h)m[x]||S.del.push(x);for(x in m){var A=h[x],D=m[x];if(A){var N={name:x,def:D,recreate:!1,del:[],add:[],change:[]};if(""+(A.primKey.keyPath||"")!=""+(D.primKey.keyPath||"")||A.primKey.auto!==D.primKey.auto)N.recreate=!0,S.change.push(N);else{var L=A.idxByName,q=D.idxByName,V=void 0;for(V in L)q[V]||N.del.push(V);for(V in q){var X=L[V],B=q[V];X?X.src!==B.src&&N.change.push(B):N.add.push(B)}(0<N.del.length||0<N.add.length||0<N.change.length)&&S.change.push(N)}}else S.add.push([x,D])}return S}function Ho(h,m,x,S){var A=h.db.createObjectStore(m,x.keyPath?{keyPath:x.keyPath,autoIncrement:x.auto}:{autoIncrement:x.auto});return S.forEach(function(D){return Dr(A,D)}),A}function hc(h,m){u(h).forEach(function(x){m.db.objectStoreNames.contains(x)||(hn&&console.debug("Dexie: Creating missing table",x),Ho(m,x,h[x].primKey,h[x].indexes))})}function Dr(h,m){h.createIndex(m.name,m.keyPath,{unique:m.unique,multiEntry:m.multi})}function Wa(h,m,x){var S={};return G(m.objectStoreNames,0).forEach(function(A){for(var D=x.objectStore(A),N=ei(Sr(V=D.keyPath),V||"",!0,!1,!!D.autoIncrement,V&&typeof V!="string",!0),L=[],q=0;q<D.indexNames.length;++q){var X=D.index(D.indexNames[q]),V=X.keyPath,X=ei(X.name,V,!!X.unique,!!X.multiEntry,!1,V&&typeof V!="string",!1);L.push(X)}S[A]=Fa(A,N,L)}),S}function Cr(h,m,x){for(var S=x.db.objectStoreNames,A=0;A<S.length;++A){var D=S[A],N=x.objectStore(D);h._hasGetAll="getAll"in N;for(var L=0;L<N.indexNames.length;++L){var q=N.indexNames[L],V=N.index(q).keyPath,X=typeof V=="string"?V:"["+G(V).join("+")+"]";!m[D]||(V=m[D].idxByName[X])&&(V.name=q,delete m[D].idxByName[X],m[D].idxByName[q]=V)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&l.WorkerGlobalScope&&l instanceof l.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(h._hasGetAll=!1)}function pc(h){return h.split(",").map(function(m,x){var S=(m=m.trim()).replace(/([&*]|\+\+)/g,""),A=/^\[/.test(S)?S.match(/^\[(.*)\]$/)[1].split("+"):S;return ei(S,A||null,/\&/.test(m),/\*/.test(m),/\+\+/.test(m),d(A),x===0)})}var cd=(jr.prototype._parseStoresSpec=function(h,m){u(h).forEach(function(x){if(h[x]!==null){var S=pc(h[x]),A=S.shift();if(A.unique=!0,A.multi)throw new Ut.Schema("Primary key cannot be multi-valued");S.forEach(function(D){if(D.auto)throw new Ut.Schema("Only primary key can be marked as autoIncrement (++)");if(!D.keyPath)throw new Ut.Schema("Index must have a name and cannot be an empty string")}),m[x]=Fa(x,A,S)}})},jr.prototype.stores=function(x){var m=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,x):x;var x=m._versions,S={},A={};return x.forEach(function(D){f(S,D._cfg.storesSource),A=D._cfg.dbschema={},D._parseStoresSpec(S,A)}),m._dbSchema=A,zs(m,[m._allTables,m,m.Transaction.prototype]),Er(m,[m._allTables,m,m.Transaction.prototype,this._cfg.tables],u(A),A),m._storeNames=u(A),this},jr.prototype.upgrade=function(h){return this._cfg.contentUpgrade=Oa(this._cfg.contentUpgrade||Gt,h),this},jr);function jr(){}function Uo(h,m){var x=h._dbNamesDB;return x||(x=h._dbNamesDB=new ni(Ii,{addons:[],indexedDB:h,IDBKeyRange:m})).version(1).stores({dbnames:"name"}),x.table("dbnames")}function Mr(h){return h&&typeof h.databases=="function"}function qo(h){return $n(function(){return vt.letThrough=!0,h()})}function Ko(h){return!("from"in h)}var rn=function(h,m){if(!this){var x=new rn;return h&&"d"in h&&f(x,h),x}f(this,arguments.length?{d:1,from:h,to:1<arguments.length?m:h}:{d:0})};function Ps(h,m,x){var S=oe(m,x);if(!isNaN(S)){if(0<S)throw RangeError();if(Ko(h))return f(h,{from:m,to:x,d:1});var A=h.l,S=h.r;if(oe(x,h.from)<0)return A?Ps(A,m,x):h.l={from:m,to:x,d:1,l:null,r:null},mc(h);if(0<oe(m,h.to))return S?Ps(S,m,x):h.r={from:m,to:x,d:1,l:null,r:null},mc(h);oe(m,h.from)<0&&(h.from=m,h.l=null,h.d=S?S.d+1:1),0<oe(x,h.to)&&(h.to=x,h.r=null,h.d=h.l?h.l.d+1:1),x=!h.r,A&&!h.l&&na(h,A),S&&x&&na(h,S)}}function na(h,m){Ko(m)||function x(S,q){var D=q.from,N=q.to,L=q.l,q=q.r;Ps(S,D,N),L&&x(S,L),q&&x(S,q)}(h,m)}function gc(h,m){var x=Or(m),S=x.next();if(S.done)return!1;for(var A=S.value,D=Or(h),N=D.next(A.from),L=N.value;!S.done&&!N.done;){if(oe(L.from,A.to)<=0&&0<=oe(L.to,A.from))return!0;oe(A.from,L.from)<0?A=(S=x.next(L.from)).value:L=(N=D.next(A.from)).value}return!1}function Or(h){var m=Ko(h)?null:{s:0,n:h};return{next:function(x){for(var S=0<arguments.length;m;)switch(m.s){case 0:if(m.s=1,S)for(;m.n.l&&oe(x,m.n.from)<0;)m={up:m,n:m.n.l,s:1};else for(;m.n.l;)m={up:m,n:m.n.l,s:1};case 1:if(m.s=2,!S||oe(x,m.n.to)<=0)return{value:m.n,done:!1};case 2:if(m.n.r){m.s=3,m={up:m,n:m.n.r,s:0};continue}case 3:m=m.up}return{done:!0}}}}function mc(h){var m,x,S=(((m=h.r)===null||m===void 0?void 0:m.d)||0)-(((x=h.l)===null||x===void 0?void 0:x.d)||0),A=1<S?"r":S<-1?"l":"";A&&(m=A=="r"?"l":"r",x=s({},h),S=h[A],h.from=S.from,h.to=S.to,h[A]=S[A],x[A]=S[m],(h[m]=x).d=Vo(x)),h.d=Vo(h)}function Vo(x){var m=x.r,x=x.l;return(m?x?Math.max(m.d,x.d):m.d:x?x.d:0)+1}function kr(h,m){return u(m).forEach(function(x){h[x]?na(h[x],m[x]):h[x]=function S(A){var D,N,L={};for(D in A)_(A,D)&&(N=A[D],L[D]=!N||typeof N!="object"||zt.has(N.constructor)?N:S(N));return L}(m[x])}),h}function Fo(h,m){return h.all||m.all||Object.keys(h).some(function(x){return m[x]&&gc(m[x],h[x])})}w(rn.prototype,((kn={add:function(h){return na(this,h),this},addKey:function(h){return Ps(this,h,h),this},addKeys:function(h){var m=this;return h.forEach(function(x){return Ps(m,x,x)}),this},hasKey:function(h){var m=Or(this).next(h).value;return m&&oe(m.from,h)<=0&&0<=oe(m.to,h)}})[et]=function(){return Or(this)},kn));var ia={},Yo={},Xo=!1;function Rr(h){kr(Yo,h),Xo||(Xo=!0,setTimeout(function(){Xo=!1,Wo(Yo,!(Yo={}))},0))}function Wo(h,m){m===void 0&&(m=!1);var x=new Set;if(h.all)for(var S=0,A=Object.values(ia);S<A.length;S++)yc(N=A[S],h,x,m);else for(var D in h){var N,L=/^idb\:\/\/(.*)\/(.*)\//.exec(D);L&&(D=L[1],L=L[2],(N=ia["idb://".concat(D,"/").concat(L)])&&yc(N,h,x,m))}x.forEach(function(q){return q()})}function yc(h,m,x,S){for(var A=[],D=0,N=Object.entries(h.queries.query);D<N.length;D++){for(var L=N[D],q=L[0],V=[],X=0,B=L[1];X<B.length;X++){var I=B[X];Fo(m,I.obsSet)?I.subscribers.forEach(function(F){return x.add(F)}):S&&V.push(I)}S&&A.push([q,V])}if(S)for(var U=0,Y=A;U<Y.length;U++){var Z=Y[U],q=Z[0],V=Z[1];h.queries.query[q]=V}}function ud(h){var m=h._state,x=h._deps.indexedDB;if(m.isBeingOpened||h.idbdb)return m.dbReadyPromise.then(function(){return m.dbOpenError?Pe(m.dbOpenError):h});m.isBeingOpened=!0,m.dbOpenError=null,m.openComplete=!1;var S=m.openCanceller,A=Math.round(10*h.verno),D=!1;function N(){if(m.openCanceller!==S)throw new Ut.DatabaseClosed("db.open() was cancelled")}function L(){return new Nt(function(I,U){if(N(),!x)throw new Ut.MissingAPI;var Y=h.name,Z=m.autoSchema||!A?x.open(Y):x.open(Y,A);if(!Z)throw new Ut.MissingAPI;Z.onerror=Fn(U),Z.onblocked=ae(h._fireOnBlocked),Z.onupgradeneeded=ae(function(F){var at;X=Z.transaction,m.autoSchema&&!h._options.allowEmptyDB?(Z.onerror=Ji,X.abort(),Z.result.close(),(at=x.deleteDatabase(Y)).onsuccess=at.onerror=ae(function(){U(new Ut.NoSuchDatabase("Database ".concat(Y," doesnt exist")))})):(X.onerror=Fn(U),F=F.oldVersion>Math.pow(2,62)?0:F.oldVersion,B=F<1,h.idbdb=Z.result,D&&Ar(h,X),Bs(h,F/10,X,U))},U),Z.onsuccess=ae(function(){X=null;var F,at,ut,dt,pt,Tt=h.idbdb=Z.result,Ct=G(Tt.objectStoreNames);if(0<Ct.length)try{var wt=Tt.transaction((dt=Ct).length===1?dt[0]:dt,"readonly");if(m.autoSchema)at=Tt,ut=wt,(F=h).verno=at.version/10,ut=F._dbSchema=Wa(0,at,ut),F._storeNames=G(at.objectStoreNames,0),Er(F,[F._allTables],u(ut),ut);else if(Cr(h,h._dbSchema,wt),((pt=Tr(Wa(0,(pt=h).idbdb,wt),pt._dbSchema)).add.length||pt.change.some(function(Dt){return Dt.add.length||Dt.change.length}))&&!D)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Tt.close(),A=Tt.version+1,D=!0,I(L());Ci(h,wt)}catch{}gi.push(h),Tt.onversionchange=ae(function(Dt){m.vcFired=!0,h.on("versionchange").fire(Dt)}),Tt.onclose=ae(function(Dt){h.on("close").fire(Dt)}),B&&(pt=h._deps,wt=Y,Tt=pt.indexedDB,pt=pt.IDBKeyRange,Mr(Tt)||wt===Ii||Uo(Tt,pt).put({name:wt}).catch(Gt)),I()},U)}).catch(function(I){switch(I?.name){case"UnknownError":if(0<m.PR1398_maxLoop)return m.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),L();break;case"VersionError":if(0<A)return A=0,L()}return Nt.reject(I)})}var q,V=m.dbReadyResolve,X=null,B=!1;return Nt.race([S,(typeof navigator>"u"?Nt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(I){function U(){return indexedDB.databases().finally(I)}q=setInterval(U,100),U()}).finally(function(){return clearInterval(q)}):Promise.resolve()).then(L)]).then(function(){return N(),m.onReadyBeingFired=[],Nt.resolve(qo(function(){return h.on.ready.fire(h.vip)})).then(function I(){if(0<m.onReadyBeingFired.length){var U=m.onReadyBeingFired.reduce(Oa,Gt);return m.onReadyBeingFired=[],Nt.resolve(qo(function(){return U(h.vip)})).then(I)}})}).finally(function(){m.openCanceller===S&&(m.onReadyBeingFired=null,m.isBeingOpened=!1)}).catch(function(I){m.dbOpenError=I;try{X&&X.abort()}catch{}return S===m.openCanceller&&h._close(),Pe(I)}).finally(function(){m.openComplete=!0,V()}).then(function(){var I;return B&&(I={},h.tables.forEach(function(U){U.schema.indexes.forEach(function(Y){Y.name&&(I["idb://".concat(h.name,"/").concat(U.name,"/").concat(Y.name)]=new rn(-1/0,[[[]]]))}),I["idb://".concat(h.name,"/").concat(U.name,"/")]=I["idb://".concat(h.name,"/").concat(U.name,"/:dels")]=new rn(-1/0,[[[]]])}),sn(Va).fire(I),Wo(I,!0)),h})}function Hs(h){function m(D){return h.next(D)}var x=A(m),S=A(function(D){return h.throw(D)});function A(D){return function(q){var L=D(q),q=L.value;return L.done?q:q&&typeof q.then=="function"?q.then(x,S):d(q)?Promise.all(q).then(x,S):x(q)}}return A(m)()}function ji(h,m,x){for(var S=d(h)?h.slice():[h],A=0;A<x;++A)S.push(m);return S}var dd={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(h){return s(s({},h),{table:function(m){var x=h.table(m),S=x.schema,A={},D=[];function N(B,I,U){var Y=Ze(B),Z=A[Y]=A[Y]||[],F=B==null?0:typeof B=="string"?1:B.length,at=0<I,at=s(s({},U),{name:at?"".concat(Y,"(virtual-from:").concat(U.name,")"):U.name,lowLevelIndex:U,isVirtual:at,keyTail:I,keyLength:F,extractKey:Xa(B),unique:!at&&U.unique});return Z.push(at),at.isPrimaryKey||D.push(at),1<F&&N(F===2?B[0]:B.slice(0,F-1),I+1,U),Z.sort(function(ut,dt){return ut.keyTail-dt.keyTail}),at}m=N(S.primaryKey.keyPath,0,S.primaryKey),A[":id"]=[m];for(var L=0,q=S.indexes;L<q.length;L++){var V=q[L];N(V.keyPath,0,V)}function X(B){var I,U=B.query.index;return U.isVirtual?s(s({},B),{query:{index:U.lowLevelIndex,range:(I=B.query.range,U=U.keyTail,{type:I.type===1?2:I.type,lower:ji(I.lower,I.lowerOpen?h.MAX_KEY:h.MIN_KEY,U),lowerOpen:!0,upper:ji(I.upper,I.upperOpen?h.MIN_KEY:h.MAX_KEY,U),upperOpen:!0})}}):B}return s(s({},x),{schema:s(s({},S),{primaryKey:m,indexes:D,getIndexByKeyPath:function(B){return(B=A[Ze(B)])&&B[0]}}),count:function(B){return x.count(X(B))},query:function(B){return x.query(X(B))},openCursor:function(B){var I=B.query.index,U=I.keyTail,Y=I.isVirtual,Z=I.keyLength;return Y?x.openCursor(X(B)).then(function(at){return at&&F(at)}):x.openCursor(B);function F(at){return Object.create(at,{continue:{value:function(ut){ut!=null?at.continue(ji(ut,B.reverse?h.MAX_KEY:h.MIN_KEY,U)):B.unique?at.continue(at.key.slice(0,Z).concat(B.reverse?h.MIN_KEY:h.MAX_KEY,U)):at.continue()}},continuePrimaryKey:{value:function(ut,dt){at.continuePrimaryKey(ji(ut,h.MAX_KEY,U),dt)}},primaryKey:{get:function(){return at.primaryKey}},key:{get:function(){var ut=at.key;return Z===1?ut[0]:ut.slice(0,Z)}},value:{get:function(){return at.value}}})}}})}})}};function Nr(h,m,x,S){return x=x||{},S=S||"",u(h).forEach(function(A){var D,N,L;_(m,A)?(D=h[A],N=m[A],typeof D=="object"&&typeof N=="object"&&D&&N?(L=Ht(D))!==Ht(N)?x[S+A]=m[A]:L==="Object"?Nr(D,N,x,S+A+"."):D!==N&&(x[S+A]=m[A]):D!==N&&(x[S+A]=m[A])):x[S+A]=void 0}),u(m).forEach(function(A){_(h,A)||(x[S+A]=m[A])}),x}function Lr(h,m){return m.type==="delete"?m.keys:m.keys||m.values.map(h.extractKey)}var vc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(h){return s(s({},h),{table:function(m){var x=h.table(m),S=x.schema.primaryKey;return s(s({},x),{mutate:function(A){var D=vt.trans,N=D.table(m).hook,L=N.deleting,q=N.creating,V=N.updating;switch(A.type){case"add":if(q.fire===Gt)break;return D._promise("readwrite",function(){return X(A)},!0);case"put":if(q.fire===Gt&&V.fire===Gt)break;return D._promise("readwrite",function(){return X(A)},!0);case"delete":if(L.fire===Gt)break;return D._promise("readwrite",function(){return X(A)},!0);case"deleteRange":if(L.fire===Gt)break;return D._promise("readwrite",function(){return function B(I,U,Y){return x.query({trans:I,values:!1,query:{index:S,range:U},limit:Y}).then(function(Z){var F=Z.result;return X({type:"delete",keys:F,trans:I}).then(function(at){return 0<at.numFailures?Promise.reject(at.failures[0]):F.length<Y?{failures:[],numFailures:0,lastResult:void 0}:B(I,s(s({},U),{lower:F[F.length-1],lowerOpen:!0}),Y)})})}(A.trans,A.range,1e4)},!0)}return x.mutate(A);function X(B){var I,U,Y,Z=vt.trans,F=B.keys||Lr(S,B);if(!F)throw new Error("Keys missing");return(B=B.type==="add"||B.type==="put"?s(s({},B),{keys:F}):s({},B)).type!=="delete"&&(B.values=r([],B.values)),B.keys&&(B.keys=r([],B.keys)),I=x,Y=F,((U=B).type==="add"?Promise.resolve([]):I.getMany({trans:U.trans,keys:Y,cache:"immutable"})).then(function(at){var ut=F.map(function(dt,pt){var Tt,Ct,wt,Dt=at[pt],jt={onerror:null,onsuccess:null};return B.type==="delete"?L.fire.call(jt,dt,Dt,Z):B.type==="add"||Dt===void 0?(Tt=q.fire.call(jt,dt,B.values[pt],Z),dt==null&&Tt!=null&&(B.keys[pt]=dt=Tt,S.outbound||ht(B.values[pt],S.keyPath,dt))):(Tt=Nr(Dt,B.values[pt]),(Ct=V.fire.call(jt,Tt,dt,Dt,Z))&&(wt=B.values[pt],Object.keys(Ct).forEach(function(Et){_(wt,Et)?wt[Et]=Ct[Et]:ht(wt,Et,Ct[Et])}))),jt});return x.mutate(B).then(function(dt){for(var pt=dt.failures,Tt=dt.results,Ct=dt.numFailures,dt=dt.lastResult,wt=0;wt<F.length;++wt){var Dt=(Tt||F)[wt],jt=ut[wt];Dt==null?jt.onerror&&jt.onerror(pt[wt]):jt.onsuccess&&jt.onsuccess(B.type==="put"&&at[wt]?B.values[wt]:Dt)}return{failures:pt,results:Tt,numFailures:Ct,lastResult:dt}}).catch(function(dt){return ut.forEach(function(pt){return pt.onerror&&pt.onerror(dt)}),Promise.reject(dt)})})}}})}})}};function Io(h,m,x){try{if(!m||m.keys.length<h.length)return null;for(var S=[],A=0,D=0;A<m.keys.length&&D<h.length;++A)oe(m.keys[A],h[D])===0&&(S.push(x?Ot(m.values[A]):m.values[A]),++D);return S.length===h.length?S:null}catch{return null}}var bc={stack:"dbcore",level:-1,create:function(h){return{table:function(m){var x=h.table(m);return s(s({},x),{getMany:function(S){if(!S.cache)return x.getMany(S);var A=Io(S.keys,S.trans._cache,S.cache==="clone");return A?Nt.resolve(A):x.getMany(S).then(function(D){return S.trans._cache={keys:S.keys,values:S.cache==="clone"?Ot(D):D},D})},mutate:function(S){return S.type!=="add"&&(S.trans._cache=null),x.mutate(S)}})}}}};function aa(h,m){return h.trans.mode==="readonly"&&!!h.subscr&&!h.trans.explicit&&h.trans.db._options.cache!=="disabled"&&!m.schema.primaryKey.outbound}function xc(h,m){switch(h){case"query":return m.values&&!m.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var fd={stack:"dbcore",level:0,name:"Observability",create:function(h){var m=h.schema.name,x=new rn(h.MIN_KEY,h.MAX_KEY);return s(s({},h),{transaction:function(S,A,D){if(vt.subscr&&A!=="readonly")throw new Ut.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(vt.querier));return h.transaction(S,A,D)},table:function(S){var A=h.table(S),D=A.schema,N=D.primaryKey,B=D.indexes,L=N.extractKey,q=N.outbound,V=N.autoIncrement&&B.filter(function(U){return U.compound&&U.keyPath.includes(N.keyPath)}),X=s(s({},A),{mutate:function(U){function Y(Et){return Et="idb://".concat(m,"/").concat(S,"/").concat(Et),dt[Et]||(dt[Et]=new rn)}var Z,F,at,ut=U.trans,dt=U.mutatedParts||(U.mutatedParts={}),pt=Y(""),Tt=Y(":dels"),Ct=U.type,jt=U.type==="deleteRange"?[U.range]:U.type==="delete"?[U.keys]:U.values.length<50?[Lr(N,U).filter(function(Et){return Et}),U.values]:[],wt=jt[0],Dt=jt[1],jt=U.trans._cache;return d(wt)?(pt.addKeys(wt),(jt=Ct==="delete"||wt.length===Dt.length?Io(wt,jt):null)||Tt.addKeys(wt),(jt||Dt)&&(Z=Y,F=jt,at=Dt,D.indexes.forEach(function(Et){var Bt=Z(Et.name||"");function Yt(ee){return ee!=null?Et.extractKey(ee):null}function Qt(ee){return Et.multiEntry&&d(ee)?ee.forEach(function(pn){return Bt.addKey(pn)}):Bt.addKey(ee)}(F||at).forEach(function(ee,We){var Jt=F&&Yt(F[We]),We=at&&Yt(at[We]);oe(Jt,We)!==0&&(Jt!=null&&Qt(Jt),We!=null&&Qt(We))})}))):wt?(Dt={from:(Dt=wt.lower)!==null&&Dt!==void 0?Dt:h.MIN_KEY,to:(Dt=wt.upper)!==null&&Dt!==void 0?Dt:h.MAX_KEY},Tt.add(Dt),pt.add(Dt)):(pt.add(x),Tt.add(x),D.indexes.forEach(function(Et){return Y(Et.name).add(x)})),A.mutate(U).then(function(Et){return!wt||U.type!=="add"&&U.type!=="put"||(pt.addKeys(Et.results),V&&V.forEach(function(Bt){for(var Yt=U.values.map(function(Jt){return Bt.extractKey(Jt)}),Qt=Bt.keyPath.findIndex(function(Jt){return Jt===N.keyPath}),ee=0,pn=Et.results.length;ee<pn;++ee)Yt[ee][Qt]=Et.results[ee];Y(Bt.name).addKeys(Yt)})),ut.mutatedParts=kr(ut.mutatedParts||{},dt),Et})}}),B=function(Y){var Z=Y.query,Y=Z.index,Z=Z.range;return[Y,new rn((Y=Z.lower)!==null&&Y!==void 0?Y:h.MIN_KEY,(Z=Z.upper)!==null&&Z!==void 0?Z:h.MAX_KEY)]},I={get:function(U){return[N,new rn(U.key)]},getMany:function(U){return[N,new rn().addKeys(U.keys)]},count:B,query:B,openCursor:B};return u(I).forEach(function(U){X[U]=function(Y){var Z=vt.subscr,F=!!Z,at=aa(vt,A)&&xc(U,Y)?Y.obsSet={}:Z;if(F){var ut=function(Dt){return Dt="idb://".concat(m,"/").concat(S,"/").concat(Dt),at[Dt]||(at[Dt]=new rn)},dt=ut(""),pt=ut(":dels"),Z=I[U](Y),F=Z[0],Z=Z[1];if((U==="query"&&F.isPrimaryKey&&!Y.values?pt:ut(F.name||"")).add(Z),!F.isPrimaryKey){if(U!=="count"){var Tt=U==="query"&&q&&Y.values&&A.query(s(s({},Y),{values:!1}));return A[U].apply(this,arguments).then(function(Dt){if(U==="query"){if(q&&Y.values)return Tt.then(function(Yt){return Yt=Yt.result,dt.addKeys(Yt),Dt});var jt=Y.values?Dt.result.map(L):Dt.result;(Y.values?dt:pt).addKeys(jt)}else if(U==="openCursor"){var Et=Dt,Bt=Y.values;return Et&&Object.create(Et,{key:{get:function(){return pt.addKey(Et.primaryKey),Et.key}},primaryKey:{get:function(){var Yt=Et.primaryKey;return pt.addKey(Yt),Yt}},value:{get:function(){return Bt&&dt.addKey(Et.primaryKey),Et.value}}})}return Dt})}pt.add(x)}}return A[U].apply(this,arguments)}}),X}})}};function _c(h,m,x){if(x.numFailures===0)return m;if(m.type==="deleteRange")return null;var S=m.keys?m.keys.length:"values"in m&&m.values?m.values.length:1;return x.numFailures===S?null:(m=s({},m),d(m.keys)&&(m.keys=m.keys.filter(function(A,D){return!(D in x.failures)})),"values"in m&&d(m.values)&&(m.values=m.values.filter(function(A,D){return!(D in x.failures)})),m)}function zr(h,m){return x=h,((S=m).lower===void 0||(S.lowerOpen?0<oe(x,S.lower):0<=oe(x,S.lower)))&&(h=h,(m=m).upper===void 0||(m.upperOpen?oe(h,m.upper)<0:oe(h,m.upper)<=0));var x,S}function Go(h,m,I,S,A,D){if(!I||I.length===0)return h;var N=m.query.index,L=N.multiEntry,q=m.query.range,V=S.schema.primaryKey.extractKey,X=N.extractKey,B=(N.lowLevelIndex||N).extractKey,I=I.reduce(function(U,Y){var Z=U,F=[];if(Y.type==="add"||Y.type==="put")for(var at=new rn,ut=Y.values.length-1;0<=ut;--ut){var dt,pt=Y.values[ut],Tt=V(pt);at.hasKey(Tt)||(dt=X(pt),(L&&d(dt)?dt.some(function(Et){return zr(Et,q)}):zr(dt,q))&&(at.addKey(Tt),F.push(pt)))}switch(Y.type){case"add":var Ct=new rn().addKeys(m.values?U.map(function(Bt){return V(Bt)}):U),Z=U.concat(m.values?F.filter(function(Bt){return Bt=V(Bt),!Ct.hasKey(Bt)&&(Ct.addKey(Bt),!0)}):F.map(function(Bt){return V(Bt)}).filter(function(Bt){return!Ct.hasKey(Bt)&&(Ct.addKey(Bt),!0)}));break;case"put":var wt=new rn().addKeys(Y.values.map(function(Bt){return V(Bt)}));Z=U.filter(function(Bt){return!wt.hasKey(m.values?V(Bt):Bt)}).concat(m.values?F:F.map(function(Bt){return V(Bt)}));break;case"delete":var Dt=new rn().addKeys(Y.keys);Z=U.filter(function(Bt){return!Dt.hasKey(m.values?V(Bt):Bt)});break;case"deleteRange":var jt=Y.range;Z=U.filter(function(Bt){return!zr(V(Bt),jt)})}return Z},h);return I===h?h:(I.sort(function(U,Y){return oe(B(U),B(Y))||oe(V(U),V(Y))}),m.limit&&m.limit<1/0&&(I.length>m.limit?I.length=m.limit:h.length===m.limit&&I.length<m.limit&&(A.dirty=!0)),D?Object.freeze(I):I)}function Ia(h,m){return oe(h.lower,m.lower)===0&&oe(h.upper,m.upper)===0&&!!h.lowerOpen==!!m.lowerOpen&&!!h.upperOpen==!!m.upperOpen}function Us(h,m){return function(x,S,A,D){if(x===void 0)return S!==void 0?-1:0;if(S===void 0)return 1;if((S=oe(x,S))===0){if(A&&D)return 0;if(A)return 1;if(D)return-1}return S}(h.lower,m.lower,h.lowerOpen,m.lowerOpen)<=0&&0<=function(x,S,A,D){if(x===void 0)return S!==void 0?1:0;if(S===void 0)return-1;if((S=oe(x,S))===0){if(A&&D)return 0;if(A)return-1;if(D)return 1}return S}(h.upper,m.upper,h.upperOpen,m.upperOpen)}function hd(h,m,x,S){h.subscribers.add(x),S.addEventListener("abort",function(){var A,D;h.subscribers.delete(x),h.subscribers.size===0&&(A=h,D=m,setTimeout(function(){A.subscribers.size===0&&Rt(D,A)},3e3))})}var Br={stack:"dbcore",level:0,name:"Cache",create:function(h){var m=h.schema.name;return s(s({},h),{transaction:function(x,S,A){var D,N,L=h.transaction(x,S,A);return S==="readwrite"&&(N=(D=new AbortController).signal,A=function(q){return function(){if(D.abort(),S==="readwrite"){for(var V=new Set,X=0,B=x;X<B.length;X++){var I=B[X],U=ia["idb://".concat(m,"/").concat(I)];if(U){var Y=h.table(I),Z=U.optimisticOps.filter(function(Bt){return Bt.trans===L});if(L._explicit&&q&&L.mutatedParts)for(var F=0,at=Object.values(U.queries.query);F<at.length;F++)for(var ut=0,dt=(Ct=at[F]).slice();ut<dt.length;ut++)Fo((wt=dt[ut]).obsSet,L.mutatedParts)&&(Rt(Ct,wt),wt.subscribers.forEach(function(Bt){return V.add(Bt)}));else if(0<Z.length){U.optimisticOps=U.optimisticOps.filter(function(Bt){return Bt.trans!==L});for(var pt=0,Tt=Object.values(U.queries.query);pt<Tt.length;pt++)for(var Ct,wt,Dt,jt=0,Et=(Ct=Tt[pt]).slice();jt<Et.length;jt++)(wt=Et[jt]).res!=null&&L.mutatedParts&&(q&&!wt.dirty?(Dt=Object.isFrozen(wt.res),Dt=Go(wt.res,wt.req,Z,Y,wt,Dt),wt.dirty?(Rt(Ct,wt),wt.subscribers.forEach(function(Bt){return V.add(Bt)})):Dt!==wt.res&&(wt.res=Dt,wt.promise=Nt.resolve({result:Dt}))):(wt.dirty&&Rt(Ct,wt),wt.subscribers.forEach(function(Bt){return V.add(Bt)})))}}}V.forEach(function(Bt){return Bt()})}}},L.addEventListener("abort",A(!1),{signal:N}),L.addEventListener("error",A(!1),{signal:N}),L.addEventListener("complete",A(!0),{signal:N})),L},table:function(x){var S=h.table(x),A=S.schema.primaryKey;return s(s({},S),{mutate:function(D){var N=vt.trans;if(A.outbound||N.db._options.cache==="disabled"||N.explicit||N.idbtrans.mode!=="readwrite")return S.mutate(D);var L=ia["idb://".concat(m,"/").concat(x)];return L?(N=S.mutate(D),D.type!=="add"&&D.type!=="put"||!(50<=D.values.length||Lr(A,D).some(function(q){return q==null}))?(L.optimisticOps.push(D),D.mutatedParts&&Rr(D.mutatedParts),N.then(function(q){0<q.numFailures&&(Rt(L.optimisticOps,D),(q=_c(0,D,q))&&L.optimisticOps.push(q),D.mutatedParts&&Rr(D.mutatedParts))}),N.catch(function(){Rt(L.optimisticOps,D),D.mutatedParts&&Rr(D.mutatedParts)})):N.then(function(q){var V=_c(0,s(s({},D),{values:D.values.map(function(X,B){var I;return q.failures[B]?X:(X=(I=A.keyPath)!==null&&I!==void 0&&I.includes(".")?Ot(X):s({},X),ht(X,A.keyPath,q.results[B]),X)})}),q);L.optimisticOps.push(V),queueMicrotask(function(){return D.mutatedParts&&Rr(D.mutatedParts)})}),N):S.mutate(D)},query:function(D){if(!aa(vt,S)||!xc("query",D))return S.query(D);var N=((V=vt.trans)===null||V===void 0?void 0:V.db._options.cache)==="immutable",B=vt,L=B.requery,q=B.signal,V=function(Y,Z,F,at){var ut=ia["idb://".concat(Y,"/").concat(Z)];if(!ut)return[];if(!(Z=ut.queries[F]))return[null,!1,ut,null];var dt=Z[(at.query?at.query.index.name:null)||""];if(!dt)return[null,!1,ut,null];switch(F){case"query":var pt=dt.find(function(Tt){return Tt.req.limit===at.limit&&Tt.req.values===at.values&&Ia(Tt.req.query.range,at.query.range)});return pt?[pt,!0,ut,dt]:[dt.find(function(Tt){return("limit"in Tt.req?Tt.req.limit:1/0)>=at.limit&&(!at.values||Tt.req.values)&&Us(Tt.req.query.range,at.query.range)}),!1,ut,dt];case"count":return pt=dt.find(function(Tt){return Ia(Tt.req.query.range,at.query.range)}),[pt,!!pt,ut,dt]}}(m,x,"query",D),X=V[0],B=V[1],I=V[2],U=V[3];return X&&B?X.obsSet=D.obsSet:(B=S.query(D).then(function(Y){var Z=Y.result;if(X&&(X.res=Z),N){for(var F=0,at=Z.length;F<at;++F)Object.freeze(Z[F]);Object.freeze(Z)}else Y.result=Ot(Z);return Y}).catch(function(Y){return U&&X&&Rt(U,X),Promise.reject(Y)}),X={obsSet:D.obsSet,promise:B,subscribers:new Set,type:"query",req:D,dirty:!1},U?U.push(X):(U=[X],(I=I||(ia["idb://".concat(m,"/").concat(x)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[D.query.index.name||""]=U)),hd(X,U,L,q),X.promise.then(function(Y){return{result:Go(Y.result,D,I?.optimisticOps,S,X,N)}})}})}})}};function qs(h,m){return new Proxy(h,{get:function(x,S,A){return S==="db"?m:Reflect.get(x,S,A)}})}var ni=(Oe.prototype.version=function(h){if(isNaN(h)||h<.1)throw new Ut.Type("Given version is not a positive number");if(h=Math.round(10*h)/10,this.idbdb||this._state.isBeingOpened)throw new Ut.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,h);var m=this._versions,x=m.filter(function(S){return S._cfg.version===h})[0];return x||(x=new this.Version(h),m.push(x),m.sort(Po),x.stores({}),this._state.autoSchema=!1,x)},Oe.prototype._whenReady=function(h){var m=this;return this.idbdb&&(this._state.openComplete||vt.letThrough||this._vip)?h():new Nt(function(x,S){if(m._state.openComplete)return S(new Ut.DatabaseClosed(m._state.dbOpenError));if(!m._state.isBeingOpened){if(!m._state.autoOpen)return void S(new Ut.DatabaseClosed);m.open().catch(Gt)}m._state.dbReadyPromise.then(x,S)}).then(h)},Oe.prototype.use=function(h){var m=h.stack,x=h.create,S=h.level,A=h.name;return A&&this.unuse({stack:m,name:A}),h=this._middlewares[m]||(this._middlewares[m]=[]),h.push({stack:m,create:x,level:S??10,name:A}),h.sort(function(D,N){return D.level-N.level}),this},Oe.prototype.unuse=function(h){var m=h.stack,x=h.name,S=h.create;return m&&this._middlewares[m]&&(this._middlewares[m]=this._middlewares[m].filter(function(A){return S?A.create!==S:!!x&&A.name!==x})),this},Oe.prototype.open=function(){var h=this;return Si(At,function(){return ud(h)})},Oe.prototype._close=function(){var h=this._state,m=gi.indexOf(this);if(0<=m&&gi.splice(m,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}h.isBeingOpened||(h.dbReadyPromise=new Nt(function(x){h.dbReadyResolve=x}),h.openCanceller=new Nt(function(x,S){h.cancelOpen=S}))},Oe.prototype.close=function(x){var m=(x===void 0?{disableAutoOpen:!0}:x).disableAutoOpen,x=this._state;m?(x.isBeingOpened&&x.cancelOpen(new Ut.DatabaseClosed),this._close(),x.autoOpen=!1,x.dbOpenError=new Ut.DatabaseClosed):(this._close(),x.autoOpen=this._options.autoOpen||x.isBeingOpened,x.openComplete=!1,x.dbOpenError=null)},Oe.prototype.delete=function(h){var m=this;h===void 0&&(h={disableAutoOpen:!0});var x=0<arguments.length&&typeof arguments[0]!="object",S=this._state;return new Nt(function(A,D){function N(){m.close(h);var L=m._deps.indexedDB.deleteDatabase(m.name);L.onsuccess=ae(function(){var q,V,X;q=m._deps,V=m.name,X=q.indexedDB,q=q.IDBKeyRange,Mr(X)||V===Ii||Uo(X,q).delete(V).catch(Gt),A()}),L.onerror=Fn(D),L.onblocked=m._fireOnBlocked}if(x)throw new Ut.InvalidArgument("Invalid closeOptions argument to db.delete()");S.isBeingOpened?S.dbReadyPromise.then(N):N()})},Oe.prototype.backendDB=function(){return this.idbdb},Oe.prototype.isOpen=function(){return this.idbdb!==null},Oe.prototype.hasBeenClosed=function(){var h=this._state.dbOpenError;return h&&h.name==="DatabaseClosed"},Oe.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Oe.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Oe.prototype,"tables",{get:function(){var h=this;return u(this._allTables).map(function(m){return h._allTables[m]})},enumerable:!1,configurable:!0}),Oe.prototype.transaction=function(){var h=(function(m,x,S){var A=arguments.length;if(A<2)throw new Ut.InvalidArgument("Too few arguments");for(var D=new Array(A-1);--A;)D[A-1]=arguments[A];return S=D.pop(),[m,Mt(D),S]}).apply(this,arguments);return this._transaction.apply(this,h)},Oe.prototype._transaction=function(h,m,x){var S=this,A=vt.trans;A&&A.db===this&&h.indexOf("!")===-1||(A=null);var D,N,L=h.indexOf("?")!==-1;h=h.replace("!","").replace("?","");try{if(N=m.map(function(V){if(V=V instanceof S.Table?V.name:V,typeof V!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return V}),h=="r"||h===Vn)D=Vn;else{if(h!="rw"&&h!=Ns)throw new Ut.InvalidArgument("Invalid transaction mode: "+h);D=Ns}if(A){if(A.mode===Vn&&D===Ns){if(!L)throw new Ut.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");A=null}A&&N.forEach(function(V){if(A&&A.storeNames.indexOf(V)===-1){if(!L)throw new Ut.SubTransaction("Table "+V+" not included in parent transaction.");A=null}}),L&&A&&!A.active&&(A=null)}}catch(V){return A?A._promise(null,function(X,B){B(V)}):Pe(V)}var q=(function V(X,B,I,U,Y){return Nt.resolve().then(function(){var Z=vt.transless||vt,F=X._createTransaction(B,I,X._dbSchema,U);if(F.explicit=!0,Z={trans:F,transless:Z},U)F.idbtrans=U.idbtrans;else try{F.create(),F.idbtrans._explicit=!0,X._state.PR1398_maxLoop=3}catch(dt){return dt.name===Re.InvalidState&&X.isOpen()&&0<--X._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),X.close({disableAutoOpen:!1}),X.open().then(function(){return V(X,B,I,null,Y)})):Pe(dt)}var at,ut=it(Y);return ut&&Kn(),Z=Nt.follow(function(){var dt;(at=Y.call(F,F))&&(ut?(dt=jn.bind(null,null),at.then(dt,dt)):typeof at.next=="function"&&typeof at.throw=="function"&&(at=Hs(at)))},Z),(at&&typeof at.then=="function"?Nt.resolve(at).then(function(dt){return F.active?dt:Pe(new Ut.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Z.then(function(){return at})).then(function(dt){return U&&F._resolve(),F._completion.then(function(){return dt})}).catch(function(dt){return F._reject(dt),Pe(dt)})})}).bind(null,this,D,N,A,x);return A?A._promise(D,q,"lock"):vt.trans?Si(vt.transless,function(){return S._whenReady(q)}):this._whenReady(q)},Oe.prototype.table=function(h){if(!_(this._allTables,h))throw new Ut.InvalidTable("Table ".concat(h," does not exist"));return this._allTables[h]},Oe);function Oe(h,m){var x=this;this._middlewares={},this.verno=0;var S=Oe.dependencies;this._options=m=s({addons:Oe.addons,autoOpen:!0,indexedDB:S.indexedDB,IDBKeyRange:S.IDBKeyRange,cache:"cloned"},m),this._deps={indexedDB:m.indexedDB,IDBKeyRange:m.IDBKeyRange},S=m.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var A,D,N,L,q,V={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Gt,dbReadyPromise:null,cancelOpen:Gt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:m.autoOpen};V.dbReadyPromise=new Nt(function(B){V.dbReadyResolve=B}),V.openCanceller=new Nt(function(B,I){V.cancelOpen=I}),this._state=V,this.name=h,this.on=Di(this,"populate","blocked","versionchange","close",{ready:[Oa,Gt]}),this.on.ready.subscribe=ot(this.on.ready.subscribe,function(B){return function(I,U){Oe.vip(function(){var Y,Z=x._state;Z.openComplete?(Z.dbOpenError||Nt.resolve().then(I),U&&B(I)):Z.onReadyBeingFired?(Z.onReadyBeingFired.push(I),U&&B(I)):(B(I),Y=x,U||B(function F(){Y.on.ready.unsubscribe(I),Y.on.ready.unsubscribe(F)}))})}}),this.Collection=(A=this,Ba(qa.prototype,function(at,F){this.db=A;var U=Gi,Y=null;if(F)try{U=F()}catch(ut){Y=ut}var Z=at._ctx,F=Z.table,at=F.hook.reading.fire;this._ctx={table:F,index:Z.index,isPrimKey:!Z.index||F.schema.primKey.keyPath&&Z.index===F.schema.primKey.name,range:U,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Y,or:Z.or,valueMapper:at!==vn?at:null}})),this.Table=(D=this,Ba(ko.prototype,function(B,I,U){this.db=D,this._tx=U,this.name=B,this.schema=I,this.hook=D._allTables[B]?D._allTables[B].hook:Di(null,{creating:[Cs,Gt],reading:[Ds,vn],updating:[Eo,Gt],deleting:[Nn,Gt]})})),this.Transaction=(N=this,Ba(Bo.prototype,function(B,I,U,Y,Z){var F=this;this.db=N,this.mode=B,this.storeNames=I,this.schema=U,this.chromeTransactionDurability=Y,this.idbtrans=null,this.on=Di(this,"complete","error","abort"),this.parent=Z||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Nt(function(at,ut){F._resolve=at,F._reject=ut}),this._completion.then(function(){F.active=!1,F.on.complete.fire()},function(at){var ut=F.active;return F.active=!1,F.on.error.fire(at),F.parent?F.parent._reject(at):ut&&F.idbtrans&&F.idbtrans.abort(),Pe(at)})})),this.Version=(L=this,Ba(cd.prototype,function(B){this.db=L,this._cfg={version:B,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(q=this,Ba($i.prototype,function(B,I,U){if(this.db=q,this._ctx={table:B,index:I===":id"?null:I,or:U},this._cmp=this._ascending=oe,this._descending=function(Y,Z){return oe(Z,Y)},this._max=function(Y,Z){return 0<oe(Y,Z)?Y:Z},this._min=function(Y,Z){return oe(Y,Z)<0?Y:Z},this._IDBKeyRange=q._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ut.MissingAPI})),this.on("versionchange",function(B){0<B.newVersion?console.warn("Another connection wants to upgrade database '".concat(x.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(x.name,"'. Closing db now to resume the delete request.")),x.close({disableAutoOpen:!1})}),this.on("blocked",function(B){!B.newVersion||B.newVersion<B.oldVersion?console.warn("Dexie.delete('".concat(x.name,"') was blocked")):console.warn("Upgrade '".concat(x.name,"' blocked by other connection holding version ").concat(B.oldVersion/10))}),this._maxKey=Ya(m.IDBKeyRange),this._createTransaction=function(B,I,U,Y){return new x.Transaction(B,I,U,x._options.chromeTransactionDurability,Y)},this._fireOnBlocked=function(B){x.on("blocked").fire(B),gi.filter(function(I){return I.name===x.name&&I!==x&&!I._state.vcFired}).map(function(I){return I.on("versionchange").fire(B)})},this.use(bc),this.use(Br),this.use(fd),this.use(dd),this.use(vc);var X=new Proxy(this,{get:function(B,I,U){if(I==="_vip")return!0;if(I==="table")return function(Z){return qs(x.table(Z),X)};var Y=Reflect.get(B,I,U);return Y instanceof ko?qs(Y,X):I==="tables"?Y.map(function(Z){return qs(Z,X)}):I==="_createTransaction"?function(){return qs(Y.apply(this,arguments),X)}:Y}});this.vip=X,S.forEach(function(B){return B(x)})}var Ga,kn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Sc=(Pr.prototype.subscribe=function(h,m,x){return this._subscribe(h&&typeof h!="function"?h:{next:h,error:m,complete:x})},Pr.prototype[kn]=function(){return this},Pr);function Pr(h){this._subscribe=h}try{Ga={indexedDB:l.indexedDB||l.mozIndexedDB||l.webkitIndexedDB||l.msIndexedDB,IDBKeyRange:l.IDBKeyRange||l.webkitIDBKeyRange}}catch{Ga={indexedDB:null,IDBKeyRange:null}}function wc(h){var m,x=!1,S=new Sc(function(A){var D=it(h),N,L=!1,q={},V={},X={get closed(){return L},unsubscribe:function(){L||(L=!0,N&&N.abort(),B&&sn.storagemutated.unsubscribe(U))}};A.start&&A.start(X);var B=!1,I=function(){return Ei(Y)},U=function(Z){kr(q,Z),Fo(V,q)&&I()},Y=function(){var Z,F,at;!L&&Ga.indexedDB&&(q={},Z={},N&&N.abort(),N=new AbortController,at=function(ut){var dt=Wi();try{D&&Kn();var pt=$n(h,ut);return pt=D?pt.finally(jn):pt}finally{dt&&Na()}}(F={subscr:Z,signal:N.signal,requery:I,querier:h,trans:null}),Promise.resolve(at).then(function(ut){x=!0,m=ut,L||F.signal.aborted||(q={},function(dt){for(var pt in dt)if(_(dt,pt))return;return 1}(V=Z)||B||(sn(Va,U),B=!0),Ei(function(){return!L&&A.next&&A.next(ut)}))},function(ut){x=!1,["DatabaseClosedError","AbortError"].includes(ut?.name)||L||Ei(function(){L||A.error&&A.error(ut)})}))};return setTimeout(I,0),X});return S.hasValue=function(){return x},S.getValue=function(){return m},S}var sa=ni;function Qo(h){var m=Mi;try{Mi=!0,sn.storagemutated.fire(h),Wo(h,!0)}finally{Mi=m}}w(sa,s(s({},Ne),{delete:function(h){return new sa(h,{addons:[]}).delete()},exists:function(h){return new sa(h,{addons:[]}).open().then(function(m){return m.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(h){try{return m=sa.dependencies,x=m.indexedDB,m=m.IDBKeyRange,(Mr(x)?Promise.resolve(x.databases()).then(function(S){return S.map(function(A){return A.name}).filter(function(A){return A!==Ii})}):Uo(x,m).toCollection().primaryKeys()).then(h)}catch{return Pe(new Ut.MissingAPI)}var m,x},defineClass:function(){return function(h){f(this,h)}},ignoreTransaction:function(h){return vt.trans?Si(vt.transless,h):h()},vip:qo,async:function(h){return function(){try{var m=Hs(h.apply(this,arguments));return m&&typeof m.then=="function"?m:Nt.resolve(m)}catch(x){return Pe(x)}}},spawn:function(h,m,x){try{var S=Hs(h.apply(x,m||[]));return S&&typeof S.then=="function"?S:Nt.resolve(S)}catch(A){return Pe(A)}},currentTransaction:{get:function(){return vt.trans||null}},waitFor:function(h,m){return m=Nt.resolve(typeof h=="function"?sa.ignoreTransaction(h):h).timeout(m||6e4),vt.trans?vt.trans.waitFor(m):m},Promise:Nt,debug:{get:function(){return hn},set:function(h){gr(h)}},derive:O,extend:f,props:w,override:ot,Events:Di,on:sn,liveQuery:wc,extendObservabilitySet:kr,getByKeyPath:J,setByKeyPath:ht,delByKeyPath:function(h,m){typeof m=="string"?ht(h,m,void 0):"length"in m&&[].map.call(m,function(x){ht(h,x,void 0)})},shallowClone:ft,deepClone:Ot,getObjectDiff:Nr,cmp:oe,asap:$,minKey:-1/0,addons:[],connections:gi,errnames:Re,dependencies:Ga,cache:ia,semVer:"4.0.11",version:"4.0.11".split(".").map(function(h){return parseInt(h)}).reduce(function(h,m,x){return h+m/Math.pow(10,2*x)})})),sa.maxKey=Ya(sa.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(sn(Va,function(h){Mi||(h=new CustomEvent(ta,{detail:h}),Mi=!0,dispatchEvent(h),Mi=!1)}),addEventListener(ta,function(h){h=h.detail,Mi||Qo(h)}));var Qa,Mi=!1,_n=function(){};return typeof BroadcastChannel<"u"&&((_n=function(){(Qa=new BroadcastChannel(ta)).onmessage=function(h){return h.data&&Qo(h.data)}})(),typeof Qa.unref=="function"&&Qa.unref(),sn(Va,function(h){Mi||Qa.postMessage(h)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(h){if(!ni.disableBfCache&&h.persisted){hn&&console.debug("Dexie: handling persisted pagehide"),Qa?.close();for(var m=0,x=gi;m<x.length;m++)x[m].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(h){!ni.disableBfCache&&h.persisted&&(hn&&console.debug("Dexie: handling persisted pageshow"),_n(),Qo({all:new rn(-1/0,[[]])}))})),Nt.rejectionMapper=function(h,m){return!h||h instanceof Q||h instanceof TypeError||h instanceof SyntaxError||!h.name||!It[h.name]?h:(m=new It[h.name](m||h.message,h),"stack"in h&&C(m,"stack",{get:function(){return this.inner.stack}}),m)},gr(hn),s(ni,Object.freeze({__proto__:null,Dexie:ni,liveQuery:wc,Entity:br,cmp:oe,PropModification:Ua,replacePrefix:function(h,m){return new Ua({replacePrefix:[h,m]})},add:function(h){return new Ua({add:h})},remove:function(h){return new Ua({remove:h})},default:ni,RangeSet:rn,mergeRanges:na,rangesOverlap:gc}),{default:ni}),ni})}(Uu)),Uu.exports}var lw=ow();const Ah=Xv(lw),xy=Symbol.for("Dexie"),Fu=globalThis[xy]||(globalThis[xy]=Ah);if(Ah.semVer!==Fu.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ah.semVer} and ${Fu.semVer}`);const{liveQuery:OD,mergeRanges:kD,rangesOverlap:RD,RangeSet:ND,cmp:LD,Entity:zD,PropModification:BD,replacePrefix:PD,add:HD,remove:UD}=Fu;class cw extends Fu{constructor(){super("LifeProgressDB"),this.version(1).stores({situations:"++id, title, description, tags, created_at, updated_at",opportunities:"++id, title, description, tags, current_xp, current_level, created_at, updated_at",situation_opportunities:"[situation_id+opportunity_id], situation_id, opportunity_id",events:"++id, situation_id, event_description, choice_value, xp_change, timestamp, affected_opportunities"}),this.version(2).stores({situations:"++id, title, description, tags, created_at, updated_at",opportunities:"++id, title, description, tags, current_xp, current_level, created_at, updated_at",situation_opportunities:"[situation_id+opportunity_id], situation_id, opportunity_id",events:"++id, title, situation_id, event_description, choice_value, xp_change, timestamp, affected_opportunities"}).upgrade(t=>t.events.toCollection().modify(n=>{if(!n.title){const s={1:"Misguided Response",2:"Avoided Challenge",3:"Attempted Response",4:"Excellent Response"};n.title=s[n.choice_value]||"Life Event"}})),this.version(3).stores({situations:"++id, title, description, tags, challenging_level, back_thoughts, forth_thoughts, created_at, updated_at",opportunities:"++id, title, description, tags, current_xp, current_level, created_at, updated_at",situation_opportunities:"[situation_id+opportunity_id], situation_id, opportunity_id",events:"++id, title, situation_id, event_description, choice_value, xp_change, selected_back_thought, selected_forth_thought, timestamp, affected_opportunities",config:"++id, key, value"}).upgrade(t=>t.situations.toCollection().modify(n=>{n.challenging_level===void 0&&(n.challenging_level=3),n.back_thoughts||(n.back_thoughts=[]),n.forth_thoughts||(n.forth_thoughts=[])}))}}const Pt=new cw,Wt={async initializeSampleData(){await this.ensureDefaultData()},async ensureDefaultData(){const[i,t]=await Promise.all([Pt.situations.count(),Pt.opportunities.count()]);if(await this.fixLegacySituations(),i===0&&t===0){await this.createInitialSampleData();return}await this.ensureDefaultSituations(),await this.ensureDefaultOpportunities()},async fixLegacySituations(){try{const t=(await Pt.situations.toArray()).filter(n=>n.challenging_level===void 0||!n.back_thoughts||!n.forth_thoughts);if(t.length>0){const n=t.map(s=>({key:s.id,changes:{challenging_level:s.challenging_level||3,back_thoughts:s.back_thoughts||[],forth_thoughts:s.forth_thoughts||[],updated_at:new Date}}));await Pt.situations.bulkUpdate(n),console.log(`Fixed ${t.length} legacy situations with new fields`)}}catch(i){console.error("Error fixing legacy situations:",i)}},async createInitialSampleData(){const i=[{title:"Work Meeting Conflict",description:"A disagreement arose during an important team meeting",tags:["work","conflict","team"],challenging_level:4,back_thoughts:["Just stay quiet and avoid confrontation","This will only make things worse and people will dislike me"],forth_thoughts:["Speaking up professionally shows leadership and integrity","Constructive dialogue leads to better solutions for everyone"],created_at:new Date,updated_at:new Date},{title:"Health Challenge",description:"Faced with a decision about diet, exercise, or wellness",tags:["health","wellness","personal"],challenging_level:3,back_thoughts:["It's too much work to change my habits now","I don't have time for this and it won't make a difference anyway"],forth_thoughts:["Small consistent steps create lasting change over time","Investing in my health now pays dividends for my entire future"],created_at:new Date,updated_at:new Date},{title:"Relationship Communication",description:"A communication challenge with family, friend, or partner",tags:["relationships","communication","personal"],challenging_level:5,back_thoughts:["Avoiding this conversation will keep the peace","They won't understand my perspective anyway, so why try"],forth_thoughts:["Honest communication, even when difficult, strengthens relationships","I can express my perspective with empathy and create mutual understanding"],created_at:new Date,updated_at:new Date},{title:"Learning Opportunity",description:"Encountered a chance to learn something new or challenging",tags:["learning","growth","education"],challenging_level:2,back_thoughts:["I'm not smart enough","This is too complicated"],forth_thoughts:["Every expert was once a beginner","Growth happens outside comfort zone"],created_at:new Date,updated_at:new Date},{title:"Financial Decision",description:"Had to make an important financial choice or investment",tags:["finance","money","planning"],challenging_level:4,back_thoughts:["Play it safe","What if I lose money?"],forth_thoughts:["Calculated risks lead to growth","Research and make informed decisions"],created_at:new Date,updated_at:new Date}],t=[{title:"Leadership",description:"Ability to guide and inspire others effectively",tags:["leadership","management","soft-skills"],current_xp:0,current_level:1,created_at:new Date,updated_at:new Date},{title:"Communication",description:"Clear and effective verbal and written communication",tags:["communication","soft-skills","interpersonal"],current_xp:0,current_level:1,created_at:new Date,updated_at:new Date},{title:"Health & Wellness",description:"Physical and mental health maintenance and improvement",tags:["health","fitness","mental-health"],current_xp:0,current_level:1,created_at:new Date,updated_at:new Date},{title:"Continuous Learning",description:"Commitment to ongoing personal and professional development",tags:["learning","growth","education"],current_xp:0,current_level:1,created_at:new Date,updated_at:new Date},{title:"Financial Intelligence",description:"Smart money management and financial planning skills",tags:["finance","planning","money-management"],current_xp:0,current_level:1,created_at:new Date,updated_at:new Date},{title:"Problem Solving",description:"Creative and analytical approach to challenges",tags:["problem-solving","creativity","analytical"],current_xp:0,current_level:1,created_at:new Date,updated_at:new Date}],n=await Pt.situations.bulkAdd(i,{allKeys:!0}),s=await Pt.opportunities.bulkAdd(t,{allKeys:!0}),r=[{situation_id:n[0],opportunity_id:s[0]},{situation_id:n[0],opportunity_id:s[1]},{situation_id:n[0],opportunity_id:s[5]},{situation_id:n[1],opportunity_id:s[2]},{situation_id:n[1],opportunity_id:s[5]},{situation_id:n[2],opportunity_id:s[1]},{situation_id:n[2],opportunity_id:s[0]},{situation_id:n[3],opportunity_id:s[3]},{situation_id:n[3],opportunity_id:s[5]},{situation_id:n[4],opportunity_id:s[4]},{situation_id:n[4],opportunity_id:s[5]}];await Pt.situation_opportunities.bulkAdd(r)},async ensureDefaultSituations(){const i=await Pt.situations.toArray(),n=["Daily Challenge","Social Interaction","Learning Opportunity","Health Decision"].filter(s=>!i.some(r=>r.title===s));if(n.length>0){const s=[];for(const r of n){let l;switch(r){case"Daily Challenge":l={title:r,description:"An everyday situation that tests your character and decision-making",tags:["daily","general","personal"],challenging_level:3,back_thoughts:["This daily task isn't really important","I can just deal with it later when I feel like it"],forth_thoughts:["Small daily actions build the foundation of strong character","How I handle small challenges shapes how I'll handle big ones"],created_at:new Date,updated_at:new Date};break;case"Social Interaction":l={title:r,description:"Interactions with family, friends, colleagues, or strangers",tags:["social","relationships","communication"],challenging_level:3,back_thoughts:["I should avoid any awkwardness and keep this brief","They probably don't want to talk to me anyway"],forth_thoughts:["Authentic connections create meaningful relationships","Showing genuine interest in others enriches both our lives"],created_at:new Date,updated_at:new Date};break;case"Learning Opportunity":l={title:r,description:"Chances to acquire new knowledge, skills, or experiences",tags:["learning","growth","education"],challenging_level:2,back_thoughts:["I'm too busy","I already know enough"],forth_thoughts:["Growth requires learning","Knowledge is power"],created_at:new Date,updated_at:new Date};break;case"Health Decision":l={title:r,description:"Choices related to physical and mental well-being",tags:["health","wellness","self-care"],challenging_level:3,back_thoughts:["One time won't hurt","I'll start tomorrow"],forth_thoughts:["Health is wealth","Consistency creates results"],created_at:new Date,updated_at:new Date};break}l&&s.push(l)}s.length>0&&await Pt.situations.bulkAdd(s)}},async ensureDefaultOpportunities(){const i=await Pt.opportunities.toArray(),n=["Personal Growth","Communication","Self-Discipline","Problem Solving"].filter(s=>!i.some(r=>r.title===s));if(n.length>0){const s=[];for(const r of n){let l;switch(r){case"Personal Growth":l={title:r,description:"Developing self-awareness, emotional intelligence, and character",tags:["growth","self-awareness","character"],current_xp:0,current_level:1,created_at:new Date,updated_at:new Date};break;case"Communication":l={title:r,description:"Effective verbal and non-verbal expression with others",tags:["communication","interpersonal","social"],current_xp:0,current_level:1,created_at:new Date,updated_at:new Date};break;case"Self-Discipline":l={title:r,description:"The ability to control impulses and maintain consistent beneficial habits",tags:["discipline","habits","willpower"],current_xp:0,current_level:1,created_at:new Date,updated_at:new Date};break;case"Problem Solving":l={title:r,description:"Analytical thinking and creative solutions to challenges",tags:["problem-solving","analytical","creativity"],current_xp:0,current_level:1,created_at:new Date,updated_at:new Date};break}l&&s.push(l)}s.length>0&&(await Pt.opportunities.bulkAdd(s),await this.linkDefaultSituationsToOpportunities())}},async linkDefaultSituationsToOpportunities(){const i=await Pt.situations.toArray(),t=await Pt.opportunities.toArray(),n=[],s={"Daily Challenge":["Personal Growth","Self-Discipline"],"Social Interaction":["Communication","Personal Growth"],"Learning Opportunity":["Personal Growth","Problem Solving"],"Health Decision":["Self-Discipline","Personal Growth"]};for(const[r,l]of Object.entries(s)){const u=i.find(d=>d.title===r);if(u)for(const d of l){const f=t.find(g=>g.title===d);f&&(await Pt.situation_opportunities.where("[situation_id+opportunity_id]").equals([u.id,f.id]).first()||n.push({situation_id:u.id,opportunity_id:f.id}))}}n.length>0&&await Pt.situation_opportunities.bulkAdd(n)},async getSituationsWithOpportunities(){const i=await Pt.situations.toArray(),t=[];for(const n of i){const r=(await Pt.situation_opportunities.where("situation_id").equals(n.id).toArray()).map(u=>u.opportunity_id),l=await Pt.opportunities.where("id").anyOf(r).toArray();t.push({...n,opportunities:l})}return t},async getOpportunitiesForSituation(i){const n=(await Pt.situation_opportunities.where("situation_id").equals(i).toArray()).map(s=>s.opportunity_id);return await Pt.opportunities.where("id").anyOf(n).toArray()},calculateXpChange(i,t=3,n=!1){let r={1:-5,2:-2,3:2,4:5}[i]||0;if(n&&t){const l=Math.max(1,t/3);r=Math.round(r*l)}return r},async getConfig(i,t=null){try{const n=await Pt.config.where("key").equals(i).first();return n?JSON.parse(n.value):t}catch(n){return console.error("Error getting config:",n),t}},async setConfig(i,t){try{const n=await Pt.config.where("key").equals(i).first(),s={key:i,value:JSON.stringify(t)};return n?await Pt.config.update(n.id,s):await Pt.config.add(s),!0}catch(n){return console.error("Error setting config:",n),!1}},async updateOpportunityXp(i,t){const n=await Pt.opportunities.get(i);if(!n)return null;let s=n.current_xp+t,r=n.current_level;for(s<0&&(s=0);s>=100;)r++,s-=100;const l={...n,current_xp:s,current_level:r,updated_at:new Date};return await Pt.opportunities.update(i,l),l},async addEvent(i,t,n,s=null,r=null,l=null){const u=await Pt.situations.get(i),d=u?u.challenging_level:3,f=await this.getConfig("dynamicXpEnabled",!1),g=this.calculateXpChange(n,d,f),b=await this.getOpportunitiesForSituation(i),_=b.map(M=>M.id),T=s||{1:"Misguided Response",2:"Avoided Challenge",3:"Attempted Response",4:"Excellent Response"}[n]||"Life Event",C=await Pt.events.add({title:T,situation_id:i,event_description:t,choice_value:n,xp_change:g,selected_back_thought:r,selected_forth_thought:l,timestamp:new Date,affected_opportunities:_});if(u&&f){let M=u.challenging_level;n>=4?M=Math.min(5,M+.1):n<=2&&(M=Math.max(1,M-.1)),Math.abs(M-u.challenging_level)>=.1&&await Pt.situations.update(i,{challenging_level:Math.round(M*10)/10,updated_at:new Date})}const O=[];for(const M of b){const k=await this.updateOpportunityXp(M.id,g);k&&O.push(k)}return{eventId:C,xpChange:g,challengingLevel:d,updatedOpportunities:O}},async getEventsWithDetails(){const i=await Pt.events.orderBy("timestamp").reverse().toArray(),t=[];for(const n of i){const s=await Pt.situations.get(n.situation_id);t.push({...n,situation:s})}return t},async getOpportunitiesSorted(i="alphabetical"){let t=await Pt.opportunities.toArray();switch(i){case"alphabetical":t.sort((n,s)=>n.title.localeCompare(s.title));break;case"xp_percentage":t.sort((n,s)=>s.current_xp-n.current_xp);break;case"level":t.sort((n,s)=>s.current_level!==n.current_level?s.current_level-n.current_level:s.current_xp-n.current_xp);break}return t},async getAllSituationTags(){const t=(await Pt.situations.toArray()).filter(n=>n.tags&&Array.isArray(n.tags)).flatMap(n=>n.tags);return[...new Set(t)].sort()},async getAllOpportunityTags(){const t=(await Pt.opportunities.toArray()).filter(n=>n.tags&&Array.isArray(n.tags)).flatMap(n=>n.tags);return[...new Set(t)].sort()},async getSituationsByTags(i){return!i||i.length===0?await Pt.situations.toArray():(await Pt.situations.toArray()).filter(n=>n.tags&&Array.isArray(n.tags)&&i.some(s=>n.tags.includes(s)))},async getOpportunitiesByTags(i){return!i||i.length===0?await Pt.opportunities.toArray():(await Pt.opportunities.toArray()).filter(n=>n.tags&&Array.isArray(n.tags)&&i.some(s=>n.tags.includes(s)))},async createSituation(i,t,n=[],s=3,r=[],l=[]){const u={title:i.trim(),description:t.trim(),tags:Array.isArray(n)?n.filter(f=>f.trim()):[],challenging_level:Math.max(1,Math.min(5,parseInt(s)||3)),back_thoughts:Array.isArray(r)?r.filter(f=>f.trim()):[],forth_thoughts:Array.isArray(l)?l.filter(f=>f.trim()):[],created_at:new Date,updated_at:new Date},d=await Pt.situations.add(u);return{...u,id:d}},async updateSituation(i,t,n,s=[],r=null,l=null,u=null){const d={title:t.trim(),description:n.trim(),tags:Array.isArray(s)?s.filter(f=>f.trim()):[],updated_at:new Date};return r!==null&&(d.challenging_level=Math.max(1,Math.min(5,parseInt(r)||3))),l!==null&&(d.back_thoughts=Array.isArray(l)?l.filter(f=>f.trim()):[]),u!==null&&(d.forth_thoughts=Array.isArray(u)?u.filter(f=>f.trim()):[]),await Pt.situations.update(i,d),await Pt.situations.get(i)},async createOpportunity(i,t,n=[],s=1){const r=Math.max(1,Math.min(100,parseInt(s)||1)),l={title:i.trim(),description:t.trim(),tags:Array.isArray(n)?n.filter(d=>d.trim()):[],current_xp:0,current_level:r,created_at:new Date,updated_at:new Date},u=await Pt.opportunities.add(l);return{...l,id:u}},async updateOpportunity(i,t,n,s=[],r=null){const l={title:t.trim(),description:n.trim(),tags:Array.isArray(s)?s.filter(u=>u.trim()):[],updated_at:new Date};if(r!==null){const u=Math.max(1,Math.min(100,parseInt(r)||1));l.current_level=u}return await Pt.opportunities.update(i,l),await Pt.opportunities.get(i)},async deleteSituation(i){await Pt.situation_opportunities.where("situation_id").equals(i).delete(),await Pt.events.where("situation_id").equals(i).delete(),await Pt.situations.delete(i)},async deleteOpportunity(i){await Pt.situation_opportunities.where("opportunity_id").equals(i).delete(),await Pt.opportunities.delete(i)},async linkSituationToOpportunities(i,t){await Pt.situation_opportunities.where("situation_id").equals(i).delete();const n=t.map(s=>({situation_id:i,opportunity_id:s}));n.length>0&&await Pt.situation_opportunities.bulkAdd(n)},async exportAllData(){try{const[i,t,n,s]=await Promise.all([Pt.situations.toArray(),Pt.opportunities.toArray(),Pt.situation_opportunities.toArray(),Pt.events.toArray()]);return{version:"1.0",exportDate:new Date().toISOString(),data:{situations:i,opportunities:t,situation_opportunities:n,events:s}}}catch(i){throw console.error("Error exporting data:",i),i}},async importAllData(i){try{if(!i||!i.data)throw new Error("Invalid import data format");const{situations:t,opportunities:n,situation_opportunities:s,events:r}=i.data;return await Promise.all([Pt.events.clear(),Pt.situation_opportunities.clear(),Pt.opportunities.clear(),Pt.situations.clear()]),t&&t.length>0&&await Pt.situations.bulkAdd(t),n&&n.length>0&&await Pt.opportunities.bulkAdd(n),s&&s.length>0&&await Pt.situation_opportunities.bulkAdd(s),r&&r.length>0&&await Pt.events.bulkAdd(r),{situationsCount:t?.length||0,opportunitiesCount:n?.length||0,linksCount:s?.length||0,eventsCount:r?.length||0}}catch(t){throw console.error("Error importing data:",t),t}},async getDataStats(){try{const[i,t,n,s]=await Promise.all([Pt.situations.count(),Pt.opportunities.count(),Pt.situation_opportunities.count(),Pt.events.count()]);return{situations:i,opportunities:t,links:n,events:s}}catch(i){throw console.error("Error getting data stats:",i),i}}};Wt.initializeSampleData().catch(console.error);const Th=()=>Wt.ensureDefaultData().catch(console.error),uw=({isOpen:i,onClose:t})=>{const[n,s]=P.useState(""),[r,l]=P.useState(""),[u,d]=P.useState(!1),[f,g]=P.useState(""),[b,_]=P.useState(!1),{login:w}=Ob(),T=async O=>{if(O.preventDefault(),!n||!r){g("Please fill in all fields");return}if(!n.includes("@")){g("Please enter a valid email address");return}d(!0),g("");try{const M=await w(n.trim(),r.trim());M.success?(t(),s(""),l("")):g(M.error||"Login failed")}catch(M){g("Login failed: "+M.message)}finally{d(!1)}},C=()=>{u||(t(),s(""),l(""),g(""),_(!1))};return i?y.jsx("div",{className:"login-modal-overlay",onClick:C,children:y.jsxs("div",{className:"login-modal",onClick:O=>O.stopPropagation(),children:[y.jsxs("div",{className:"login-modal-header",children:[y.jsx("h2",{children:" Connect Cloud Storage"}),y.jsx("button",{className:"close-button",onClick:C,disabled:u,"aria-label":"Close",children:""})]}),y.jsxs("div",{className:"login-modal-content",children:[y.jsx("p",{className:"login-description",children:"Save your progress to the cloud and sync across devices using Pantry.cloud storage."}),y.jsxs("form",{onSubmit:T,className:"login-form",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"email",children:"Email Address"}),y.jsx("input",{id:"email",type:"email",value:n,onChange:O=>s(O.target.value),placeholder:"your@email.com",disabled:u,required:!0}),y.jsx("small",{className:"form-hint",children:"Used to identify your account (not stored on servers)"})]}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{htmlFor:"pantryId",children:["Pantry ID",y.jsx("button",{type:"button",className:"help-button",onClick:()=>_(!b),children:"?"})]}),y.jsx("input",{id:"pantryId",type:"text",value:r,onChange:O=>l(O.target.value),placeholder:"your-pantry-id-here",disabled:u,required:!0}),y.jsx("small",{className:"form-hint",children:"Your unique Pantry.cloud storage ID"})]}),b&&y.jsxs("div",{className:"help-panel",children:[y.jsx("h4",{children:"How to get your Pantry ID:"}),y.jsxs("ol",{children:[y.jsxs("li",{children:["Visit ",y.jsx("a",{href:"https://getpantry.cloud/",target:"_blank",rel:"noopener noreferrer",children:"getpantry.cloud"})]}),y.jsx("li",{children:'Click "Create New Pantry"'}),y.jsx("li",{children:"Copy the generated Pantry ID"}),y.jsx("li",{children:"Paste it here to connect your storage"})]}),y.jsxs("p",{className:"help-note",children:[y.jsx("strong",{children:"Note:"})," This app uses client-side authentication with JWT tokens. Your data is stored securely on Pantry.cloud with a 1-request-per-minute rate limit."]})]}),f&&y.jsx("div",{className:"error-message",children:f}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"button",onClick:C,disabled:u,className:"btn btn-secondary",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:u||!n||!r,className:"btn btn-primary",children:u?"Connecting...":"Connect Storage"})]})]})]})]})}):null},dw=({isOpen:i,onClose:t,syncResult:n})=>{if(!i||!n)return null;const s=(l,u)=>{const{added:d=[],modified:f=[],deleted:g=[]}=l,b=d.length+f.length+g.length;return b===0?null:y.jsxs("div",{className:"changes-section",children:[y.jsxs("h4",{children:[u.charAt(0).toUpperCase()+u.slice(1)," (",b," changes)"]}),d.length>0&&y.jsxs("div",{className:"change-group added",children:[y.jsxs("h5",{children:[" Added (",d.length,")"]}),y.jsx("ul",{children:d.map((_,w)=>y.jsxs("li",{children:[y.jsx("strong",{children:_.title}),_.description&&y.jsxs("span",{className:"change-desc",children:[" - ",_.description.substring(0,50),"..."]})]},w))})]}),f.length>0&&y.jsxs("div",{className:"change-group modified",children:[y.jsxs("h5",{children:[" Updated (",f.length,")"]}),y.jsx("ul",{children:f.map((_,w)=>y.jsxs("li",{children:[y.jsx("strong",{children:_.title}),_.description&&y.jsxs("span",{className:"change-desc",children:[" - ",_.description.substring(0,50),"..."]})]},w))})]}),g.length>0&&y.jsxs("div",{className:"change-group deleted",children:[y.jsxs("h5",{children:[" Removed (",g.length,")"]}),y.jsx("ul",{children:g.map((_,w)=>y.jsxs("li",{children:["ID: ",_]},w))})]})]})},r=()=>{let l=0;return Object.values(n.changes||{}).forEach(u=>{l+=(u.added?.length||0)+(u.modified?.length||0)+(u.deleted?.length||0)}),l};return y.jsx("div",{className:"sync-modal-overlay",onClick:t,children:y.jsxs("div",{className:"sync-modal",onClick:l=>l.stopPropagation(),children:[y.jsxs("div",{className:"sync-modal-header",children:[y.jsx("h2",{children:" Sync Details"}),y.jsx("button",{className:"close-button",onClick:t,children:""})]}),y.jsxs("div",{className:"sync-modal-content",children:[y.jsxs("div",{className:"sync-summary",children:[y.jsx("div",{className:"sync-status",children:y.jsx("span",{className:`status-badge ${n.action}`,children:n.action==="merged"?" Merged":n.action==="uploaded"?" Uploaded":n.action==="synced"?" In Sync":n.action})}),y.jsx("p",{className:"sync-message",children:n.message}),y.jsx("p",{className:"changes-summary",children:y.jsxs("strong",{children:["Total changes: ",r()]})})]}),y.jsxs("div",{className:"changes-details",children:[n.changes?.situations&&s(n.changes.situations,"situations"),n.changes?.opportunities&&s(n.changes.opportunities,"opportunities"),n.changes?.events&&s(n.changes.events,"events"),r()===0&&y.jsx("div",{className:"no-changes",children:y.jsx("p",{children:" All data is already synchronized between local and cloud storage!"})})]})]}),y.jsx("div",{className:"sync-modal-footer",children:y.jsx("button",{className:"btn btn-primary",onClick:t,children:"Close"})})]})})},fw=()=>{const{user:i,isAuthenticated:t,logout:n,syncData:s,getRateLimitStatus:r}=Ob(),[l,u]=P.useState(!1),[d,f]=P.useState(!1),[g,b]=P.useState("idle"),[_,w]=P.useState(""),[T,C]=P.useState(null),[O,M]=P.useState(null),[k,G]=P.useState(!1);P.useEffect(()=>{const ft=async()=>{try{const Mt=await Wt.getConfig("cloudSyncEnabled",!1);G(Mt)}catch(Mt){console.error("Error loading cloud sync config:",Mt)}};ft();const mt=setInterval(()=>{C(r()),Date.now()%5e3<1e3&&ft()},1e3);return()=>clearInterval(mt)},[r]);const ot=async()=>{if(!t){u(!0);return}const ft=r();if(!ft.canMakeRequest){const mt=Math.ceil(ft.timeUntilNextRequest/1e3);w(`Rate limit: wait ${mt}s`);return}b("syncing"),w("Fetching cloud data...");try{w("Loading local data...");const[mt,Mt,zt,kt]=await Promise.all([Wt.getOpportunitiesSorted("level"),Wt.getEventsWithDetails(),Wt.getDataStats(),Wt.getSituationsWithOpportunities()]),Ot={opportunities:mt,events:Mt,stats:zt,situations:kt,lastUpdated:Date.now()};w(`Syncing ${mt.length+Mt.length+kt.length} items...`);const Xt=await s(Ot);if(Xt.action==="merged"&&Xt.mergedData){w("Updating local database..."),await H(Xt.mergedData),M(Xt);const Ht=$(Xt.changes);w(`Sync complete! ${Ht}`),b("success")}else M(Xt),w(Xt.message),b("success")}catch(mt){console.error("Sync error:",mt),w(`Sync failed: ${mt.message}`),b("error")}setTimeout(()=>{b("idle"),w("")},5e3)},H=async ft=>{try{const[mt,Mt,zt]=await Promise.all([Wt.db.situations.toArray(),Wt.db.opportunities.toArray(),Wt.db.events.toArray()]);if(ft.situations){const kt=new Set(ft.situations.map(Ot=>Ot.id));for(const Ot of ft.situations)await Wt.db.situations.get(Ot.id)?await Wt.db.situations.update(Ot.id,Ot):await Wt.db.situations.add(Ot);for(const Ot of mt)kt.has(Ot.id)||(await Wt.db.situations.delete(Ot.id),await Wt.db.situation_opportunities.where("situation_id").equals(Ot.id).delete())}if(ft.opportunities){const kt=new Set(ft.opportunities.map(Ot=>Ot.id));for(const Ot of ft.opportunities)await Wt.db.opportunities.get(Ot.id)?await Wt.db.opportunities.update(Ot.id,Ot):await Wt.db.opportunities.add(Ot);for(const Ot of Mt)kt.has(Ot.id)||(await Wt.db.opportunities.delete(Ot.id),await Wt.db.situation_opportunities.where("opportunity_id").equals(Ot.id).delete())}if(ft.events){const kt=new Set(ft.events.map(Ot=>Ot.id));for(const Ot of ft.events)await Wt.db.events.get(Ot.id)?await Wt.db.events.update(Ot.id,Ot):await Wt.db.events.add(Ot);for(const Ot of zt)kt.has(Ot.id)||await Wt.db.events.delete(Ot.id)}console.log("Local database updated successfully with merged data")}catch(mt){throw console.error("Error updating local database:",mt),new Error("Failed to update local database")}},$=ft=>{const mt=[];return Object.entries(ft).forEach(([Mt,zt])=>{const{added:kt,modified:Ot,deleted:Xt}=zt;kt.length>0&&mt.push(`${kt.length} ${Mt} added`),Ot.length>0&&mt.push(`${Ot.length} ${Mt} updated`),Xt.length>0&&mt.push(`${Xt.length} ${Mt} removed`)}),mt.length>0?mt.join(", "):"No changes detected"},J=()=>{n(),b("idle"),w("")},ht=ft=>{if(ft<=0)return"0s";const mt=Math.ceil(ft/1e3);if(mt<60)return`${mt}s`;const Mt=Math.floor(mt/60),zt=mt%60;return`${Mt}m ${zt}s`};return k?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"cloud-sync-container",children:t?y.jsxs("div",{className:"cloud-sync-authenticated",children:[y.jsxs("div",{className:"user-info",children:[y.jsx("span",{className:"user-email",children:i?.email}),y.jsx("button",{className:"logout-button",onClick:J,title:"Logout",children:""})]}),y.jsxs("button",{className:`cloud-sync-button ${g}`,onClick:ot,disabled:g==="syncing"||T&&!T.canMakeRequest,title:T&&!T.canMakeRequest?`Rate limited: ${ht(T.timeUntilNextRequest)}`:"Sync with cloud storage",children:[y.jsx("span",{className:"cloud-icon",children:g==="syncing"?"":g==="success"?"":g==="error"?"":""}),y.jsx("span",{className:"button-text",children:g==="syncing"?"Syncing...":g==="success"?"Synced!":g==="error"?"Error":T&&!T.canMakeRequest?`Wait ${ht(T.timeUntilNextRequest)}`:"Sync"})]}),_&&y.jsxs("div",{className:`sync-message ${g}`,children:[_,O&&g==="success"&&y.jsx("button",{className:"details-button",onClick:()=>f(!0),title:"View sync details",children:" Details"})]}),T&&y.jsx("div",{className:"rate-limit-info",children:y.jsxs("small",{children:["Queue: ",T.queueLength," | Next: ",T.canMakeRequest?"Now":ht(T.timeUntilNextRequest)]})})]}):y.jsxs("button",{className:"cloud-sync-button connect",onClick:()=>u(!0),title:"Connect cloud storage",children:[y.jsx("span",{className:"cloud-icon",children:""}),y.jsx("span",{className:"button-text",children:"Connect Cloud"})]})}),y.jsx(uw,{isOpen:l,onClose:()=>u(!1)}),y.jsx(dw,{isOpen:d,onClose:()=>f(!1),syncResult:O})]}):null},_y=[{value:1,label:"Misguided Action",xp:-3,color:"#dc3545"},{value:2,label:"Didnt Try",xp:-2,color:"#fd7e14"},{value:3,label:"Tried",xp:2,color:"#28a745"},{value:4,label:"Well Done!",xp:5,color:"#007bff"}];function Sy(){const[i,t]=P.useState([]),[n,s]=P.useState([]),[r,l]=P.useState(""),[u,d]=P.useState(""),[f,g]=P.useState(""),[b,_]=P.useState(""),[w,T]=P.useState(""),[C,O]=P.useState([]),[M,k]=P.useState(""),[G,ot]=P.useState(""),[H,$]=P.useState(null),[J,ht]=P.useState(!1),[ft,mt]=P.useState(!0),[Mt,zt]=P.useState(!1),[kt,Ot]=P.useState(!1),[Xt,Ht]=P.useState(null);P.useEffect(()=>{St(),et()},[]);const et=async()=>{try{const Q=await Wt.getConfig("dynamicXpEnabled",!1);ht(Q)}catch(Q){console.error("Error loading dynamic XP config:",Q)}};P.useEffect(()=>{u?(async()=>{try{const[_t,qt]=await Promise.all([Wt.getOpportunitiesForSituation(parseInt(u)),i.find(Lt=>Lt.id===parseInt(u))]);O(_t),$(qt),await et()}catch(_t){console.error("Error loading situation data:",_t)}})():(O([]),$(null)),k(""),ot("")},[u,i]);const St=async()=>{try{const Q=await Wt.getSituationsWithOpportunities();t(Q),s(Q)}catch(Q){console.error("Error loading situations:",Q)}finally{mt(!1)}},Rt=Q=>{const _t=Q.target.value.toLowerCase();if(l(_t),!_t.trim()){s(i);return}const qt=i.filter(Lt=>Lt.title.toLowerCase().includes(_t)||Lt.description.toLowerCase().includes(_t)||Lt.tags&&Lt.tags.some(Re=>Re.toLowerCase().includes(_t)));s(qt)},rt=async Q=>{if(Q.preventDefault(),!u||!b.trim()||!w){alert("Please fill in all required fields");return}zt(!0);try{const _t=await Wt.addEvent(parseInt(u),b.trim(),parseInt(w),f.trim()||null,M||null,G||null);Ht(_t),Ot(!0),d(""),g(""),_(""),T(""),O([]),k(""),ot(""),$(null),setTimeout(()=>Ot(!1),3e3)}catch(_t){console.error("Error adding event:",_t),alert("Error saving event. Please try again.")}finally{zt(!1)}},R=()=>{d(""),g(""),_(""),T(""),O([]),k(""),ot(""),$(null),l(""),s(i)},it=P.useMemo(()=>{if(!w)return 0;const Q=_y.find(qt=>qt.value===parseInt(w));if(!Q)return 0;let _t=Q.xp;if(J&&H&&H.challenging_level){const qt=Math.max(1,H.challenging_level/3);_t=Math.round(_t*qt)}return _t},[w,J,H]),xt=()=>it;return ft?y.jsx("div",{className:"screen",children:y.jsx("div",{className:"card",children:y.jsx("p",{children:"Loading situations..."})})}):y.jsxs("div",{className:"screen",children:[y.jsx("h2",{children:" Add Life Event"}),kt&&Xt&&y.jsxs("div",{className:"card success-card",children:[y.jsx("h3",{children:" Event Added Successfully!"}),y.jsxs("p",{children:[y.jsx("strong",{children:"XP Change:"})," ",Xt.xpChange>0?"+":"",Xt.xpChange,Xt.challengingLevel&&Xt.challengingLevel!==3&&y.jsxs("span",{style:{fontSize:"0.9em",marginLeft:"8px",color:"#666"},children:["(Challenging Level: ",Xt.challengingLevel,"/5)"]})]}),y.jsxs("div",{children:[y.jsx("strong",{children:"Affected Opportunities:"}),y.jsx("ul",{children:Xt.updatedOpportunities.map(Q=>y.jsxs("li",{children:[Q.title,": Level ",Q.current_level," (",Q.current_xp,"/100 XP)"]},Q.id))})]})]}),J&&H&&H.challenging_level!==3&&y.jsxs("div",{className:"card",style:{background:"#f8f9fa",border:"1px solid #e9ecef"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[y.jsx("span",{style:{fontSize:"1.2em"},children:""}),y.jsx("strong",{style:{color:"#495057"},children:"Dynamic XP Active"})]}),y.jsxs("p",{style:{margin:"0",fontSize:"0.9em",color:"#6c757d"},children:["XP rewards are being multiplied by ",Math.max(1,H.challenging_level/3).toFixed(1),"x due to this situation's challenging level (",H.challenging_level,"/5)."]})]}),y.jsxs("form",{onSubmit:rt,children:[y.jsxs("div",{className:"card",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"search",className:"form-label",children:"Search Situations"}),y.jsx("input",{id:"search",type:"text",className:"form-input",placeholder:"Search by title, description, or tags...",value:r,onChange:Rt})]}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{htmlFor:"situation",className:"form-label",children:["Life Situation * ",n.length!==i.length&&`(${n.length} of ${i.length})`]}),y.jsxs("select",{id:"situation",className:"form-select",value:u,onChange:Q=>d(Q.target.value),required:!0,children:[y.jsx("option",{value:"",children:"Select a situation..."}),n.map(Q=>y.jsxs("option",{value:Q.id,children:[Q.title," ",Q.tags&&Q.tags.length>0&&`[${Q.tags.join(", ")}]`]},Q.id))]}),n.length===0&&r&&y.jsxs("div",{style:{fontSize:"0.9em",color:"#666",marginTop:"8px"},children:['No situations found matching "',r,'"']})]}),u&&y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"form-label",children:"Situation Description"}),y.jsx("div",{style:{padding:"12px",backgroundColor:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"6px",fontSize:"0.95em",color:"#495057",lineHeight:"1.5"},children:n.find(Q=>Q.id===parseInt(u))?.description})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"title",className:"form-label",children:"Event Title"}),y.jsx("input",{id:"title",type:"text",className:"form-input",value:f,onChange:Q=>g(Q.target.value),placeholder:"Optional: Give this event a custom title..."}),y.jsx("div",{style:{fontSize:"0.85em",color:"#666",marginTop:"4px"},children:"Leave blank to auto-generate based on your response choice"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"description",className:"form-label",children:"Event Description *"}),y.jsx("textarea",{id:"description",className:"form-input form-textarea",value:b,onChange:Q=>_(Q.target.value),placeholder:"Describe what happened in this situation...",required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"form-label",children:"Your Response Choice *"}),y.jsx("div",{className:"choice-group",children:_y.map(Q=>y.jsxs("label",{className:`choice-option ${w===Q.value.toString()?"selected":""}`,children:[y.jsx("input",{type:"radio",name:"choice",value:Q.value,checked:w===Q.value.toString(),onChange:_t=>T(_t.target.value),className:"choice-radio"}),y.jsxs("div",{className:"choice-content",children:[y.jsx("div",{className:"choice-label",children:Q.label}),y.jsxs("div",{className:"choice-xp",style:{color:Q.color},children:[(()=>{if(w===Q.value.toString())return`${it>0?"+":""}${it} XP`;{let _t=Q.xp;if(J&&H&&H.challenging_level){const qt=Math.max(1,H.challenging_level/3);_t=Math.round(Q.xp*qt)}return`${_t>0?"+":""}${_t} XP`}})(),J&&H&&H.challenging_level!==3&&y.jsxs("span",{style:{fontSize:"0.8em",marginLeft:"4px",opacity:.7},children:["(",Math.max(1,H.challenging_level/3).toFixed(1),")"]})]})]})]},Q.value))})]}),H&&(H.back_thoughts?.length>0||H.forth_thoughts?.length>0)&&y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"form-label",children:" Thoughts During This Event (Optional)"}),H.back_thoughts?.length>0&&y.jsxs("div",{style:{marginBottom:"16px"},children:[y.jsx("label",{htmlFor:"backThought",className:"form-label",style:{fontSize:"0.9rem",color:"#dc3545"},children:" Back Thought (what held you back?)"}),y.jsxs("select",{id:"backThought",className:"form-select",value:M,onChange:Q=>k(Q.target.value),children:[y.jsx("option",{value:"",children:"No specific back thought..."}),H.back_thoughts.map((Q,_t)=>y.jsx("option",{value:Q,children:Q},_t))]})]}),H.forth_thoughts?.length>0&&y.jsxs("div",{children:[y.jsx("label",{htmlFor:"forthThought",className:"form-label",style:{fontSize:"0.9rem",color:"#007bff"},children:" Forth Thought (what encouraged you?)"}),y.jsxs("select",{id:"forthThought",className:"form-select",value:G,onChange:Q=>ot(Q.target.value),children:[y.jsx("option",{value:"",children:"No specific forth thought..."}),H.forth_thoughts.map((Q,_t)=>y.jsx("option",{value:Q,children:Q},_t))]})]})]})]}),C.length>0&&y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:" Opportunities Affected"}),y.jsxs("p",{children:["This event will ",xt()>=0?"add":"subtract"," ",y.jsxs("strong",{children:[Math.abs(xt())," XP"]})," to:",J?H&&H.challenging_level!==3&&y.jsxs("span",{style:{fontSize:"0.9em",color:"#666",marginLeft:"8px"},children:["(Challenging Level ",H.challenging_level,"/5 applied)"]}):y.jsx("span",{style:{fontSize:"0.9em",color:"#999",marginLeft:"8px"},children:"(Base XP - Dynamic XP disabled)"})]}),y.jsx("ul",{children:C.map(Q=>y.jsxs("li",{children:[y.jsx("strong",{children:Q.title})," (Level ",Q.current_level,", ",Q.current_xp,"/100 XP)",y.jsxs("div",{style:{fontSize:"0.85em",color:"#666",marginTop:"2px"},children:["After this event: Level ",Q.current_level,", ",Math.max(0,Math.min(100,Q.current_xp+xt())),"/100 XP",Q.current_xp+xt()>=100&&y.jsx("span",{style:{color:"#28a745",fontWeight:"bold",marginLeft:"8px"},children:" LEVEL UP!"})]}),Q.tags&&Q.tags.length>0&&y.jsxs("div",{style:{fontSize:"0.8em",color:"#999",marginTop:"2px"},children:["Tags: ",Q.tags.join(", ")]})]},Q.id))})]}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"button",className:"btn btn-secondary",onClick:R,disabled:Mt,children:"Cancel"}),y.jsx("button",{type:"submit",className:"btn btn-success",disabled:Mt||!u||!b.trim()||!w,children:Mt?"Adding...":"Add Event"})]})]})]})}const hw=[{value:"alphabetical",label:"A-Z"},{value:"xp_percentage",label:"XP %"},{value:"level",label:"Level"}];function pw(){const[i,t]=P.useState([]),[n,s]=P.useState([]),[r,l]=P.useState("alphabetical"),[u,d]=P.useState(!0),[f,g]=P.useState(null),[b,_]=P.useState([]),[w,T]=P.useState([]);P.useEffect(()=>{C(),O()},[]),P.useEffect(()=>{(()=>{let ht=n;switch(w.length>0&&(ht=n.filter(ft=>ft.tags&&Array.isArray(ft.tags)&&w.some(mt=>ft.tags.includes(mt)))),r){case"alphabetical":ht.sort((ft,mt)=>ft.title.localeCompare(mt.title));break;case"xp_percentage":ht.sort((ft,mt)=>mt.current_xp-ft.current_xp);break;case"level":ht.sort((ft,mt)=>mt.current_level!==ft.current_level?mt.current_level-ft.current_level:mt.current_xp-ft.current_xp);break}t(ht)})()},[r,w,n]);const C=async()=>{try{const J=await Wt.getOpportunitiesSorted("alphabetical");s(J)}catch(J){console.error("Error loading opportunities:",J)}finally{d(!1)}},O=async()=>{try{const J=await Wt.getAllOpportunityTags();_(J)}catch(J){console.error("Error loading tags:",J)}},M=J=>{T(ht=>ht.includes(J)?ht.filter(ft=>ft!==J):[...ht,J])},k=J=>Math.min(J/100*100,100),G=J=>J<25?"#dc3545":J<50?"#fd7e14":J<75?"#ffc107":"#28a745",ot=()=>n.reduce((J,ht)=>J+ht.current_level,0),H=()=>n.reduce((J,ht)=>J+ht.current_xp,0),$=()=>n.length===0?0:(ot()/n.length).toFixed(1);return u?y.jsx("div",{className:"screen",children:y.jsx("div",{className:"card",children:y.jsx("p",{children:"Loading progress..."})})}):y.jsxs("div",{className:"screen",children:[y.jsx("h2",{children:" Progress Overview"}),y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:" Overall Stats"}),y.jsxs("div",{className:"stats-grid",children:[y.jsxs("div",{className:"stat-item",children:[y.jsx("div",{className:"stat-value",children:ot()}),y.jsx("div",{className:"stat-label",children:"Total Levels"})]}),y.jsxs("div",{className:"stat-item",children:[y.jsx("div",{className:"stat-value",children:H()}),y.jsx("div",{className:"stat-label",children:"Total XP"})]}),y.jsxs("div",{className:"stat-item",children:[y.jsx("div",{className:"stat-value",children:$()}),y.jsx("div",{className:"stat-label",children:"Avg Level"})]})]})]}),y.jsx("div",{className:"card",children:y.jsxs("div",{className:"sort-controls",children:[y.jsx("label",{htmlFor:"sort",className:"form-label",children:"Sort by:"}),y.jsx("select",{id:"sort",className:"form-select",value:r,onChange:J=>l(J.target.value),children:hw.map(J=>y.jsx("option",{value:J.value,children:J.label},J.value))})]})}),b.length>0&&y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:" Filter by Tags"}),y.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginTop:"12px"},children:b.map(J=>y.jsx("button",{onClick:()=>M(J),style:{padding:"6px 12px",border:w.includes(J)?"2px solid #1976d2":"1px solid #ccc",borderRadius:"16px",background:w.includes(J)?"#e3f2fd":"#f5f5f5",color:w.includes(J)?"#1976d2":"#666",cursor:"pointer",fontSize:"0.85rem",fontWeight:w.includes(J)?"bold":"normal"},children:J},J))}),w.length>0&&y.jsxs("div",{style:{marginTop:"12px"},children:[y.jsx("button",{onClick:()=>T([]),style:{padding:"4px 8px",border:"1px solid #dc3545",borderRadius:"12px",background:"#f8d7da",color:"#721c24",cursor:"pointer",fontSize:"0.8rem"},children:"Clear Filters"}),y.jsxs("span",{style:{marginLeft:"12px",fontSize:"0.9rem",color:"#666"},children:["Showing ",i.length," of ",n.length," opportunities"]})]})]}),y.jsx("div",{className:"opportunities-list",children:i.map(J=>{const ht=k(J.current_xp),ft=G(ht);return y.jsxs("div",{className:"card opportunity-card",children:[y.jsxs("div",{className:"opportunity-header",onClick:()=>g(f?.id===J.id?null:J),children:[y.jsxs("div",{className:"opportunity-info",children:[y.jsx("h3",{className:"opportunity-title",children:J.title}),y.jsxs("div",{className:"opportunity-meta",children:[y.jsxs("span",{className:"level-badge",children:["Level ",J.current_level]}),y.jsxs("span",{className:"xp-text",children:[J.current_xp,"/100 XP"]})]}),J.tags&&J.tags.length>0&&y.jsx("div",{className:"tags-container",style:{marginTop:"8px"},children:J.tags.map(mt=>y.jsx("span",{className:"tag",style:{display:"inline-block",background:"#e3f2fd",color:"#1976d2",padding:"2px 8px",borderRadius:"12px",fontSize:"0.75rem",marginRight:"4px",marginBottom:"4px"},children:mt},mt))})]}),y.jsx("div",{className:"expand-icon",children:f?.id===J.id?"":""})]}),y.jsxs("div",{className:"progress-section",children:[y.jsx("div",{className:"progress-bar",children:y.jsx("div",{className:"progress-fill",style:{width:`${ht}%`,backgroundColor:ft}})}),y.jsxs("div",{className:"progress-percentage",children:[ht.toFixed(0),"%"]})]}),f?.id===J.id&&y.jsxs("div",{className:"opportunity-details",children:[y.jsxs("div",{className:"detail-section",children:[y.jsx("h4",{children:" Description"}),y.jsx("p",{children:J.description})]}),y.jsxs("div",{className:"detail-section",children:[y.jsx("h4",{children:" Progress Details"}),y.jsxs("div",{className:"progress-details",children:[y.jsxs("div",{className:"detail-item",children:[y.jsx("span",{className:"detail-label",children:"Current Level:"}),y.jsx("span",{className:"detail-value",children:J.current_level})]}),y.jsxs("div",{className:"detail-item",children:[y.jsx("span",{className:"detail-label",children:"XP Progress:"}),y.jsxs("span",{className:"detail-value",children:[J.current_xp,"/100"]})]}),y.jsxs("div",{className:"detail-item",children:[y.jsx("span",{className:"detail-label",children:"XP to Next Level:"}),y.jsx("span",{className:"detail-value",children:100-J.current_xp})]}),y.jsxs("div",{className:"detail-item",children:[y.jsx("span",{className:"detail-label",children:"Created:"}),y.jsx("span",{className:"detail-value",children:new Date(J.created_at).toLocaleDateString()})]}),y.jsxs("div",{className:"detail-item",children:[y.jsx("span",{className:"detail-label",children:"Last Updated:"}),y.jsx("span",{className:"detail-value",children:new Date(J.updated_at).toLocaleDateString()})]})]})]})]})]},J.id)})}),i.length===0&&y.jsxs("div",{className:"card empty-state",children:[y.jsx("h3",{children:"No Opportunities Found"}),y.jsx("p",{children:"Go to Customize to add some opportunities to track!"})]})]})}const rh={1:"Misguided Action",2:"Didnt Try",3:"Did Try",4:"Well Done!"},gw={1:"#dc3545",2:"#fd7e14",3:"#28a745",4:"#007bff"};function mw(){const[i,t]=P.useState([]),[n,s]=P.useState(!0),[r,l]=P.useState(new Set),[u,d]=P.useState("");P.useEffect(()=>{f()},[]);const f=async()=>{try{const M=await Wt.getEventsWithDetails();t(M)}catch(M){console.error("Error loading events:",M)}finally{s(!1)}},g=M=>{const k=new Set(r);k.has(M)?k.delete(M):k.add(M),l(k)},b=M=>{const k=new Date(M),G=new Date,ot=new Date(k.getFullYear(),k.getMonth(),k.getDate()),$=new Date(G.getFullYear(),G.getMonth(),G.getDate())-ot,J=Math.floor($/(1e3*60*60*24));return J===0?`Today at ${k.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:J===1?`Yesterday at ${k.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:J<7?`${J} days ago`:k.toLocaleDateString()},_=M=>({color:M>=0?"#28a745":"#dc3545",fontWeight:"bold"}),w=(M,k=100)=>M.length<=k?M:M.substring(0,k)+"...",T=i.filter(M=>M.event_description.toLowerCase().includes(u.toLowerCase())||M.situation.title.toLowerCase().includes(u.toLowerCase())),O=(()=>{const M=i.length,k=i.reduce((H,$)=>H+Math.max(0,$.xp_change),0),G=i.reduce((H,$)=>H+Math.min(0,$.xp_change),0),ot=M>0?(i.reduce((H,$)=>H+$.xp_change,0)/M).toFixed(1):0;return{totalEvents:M,totalXpGained:k,totalXpLost:G,avgXpPerEvent:ot}})();return n?y.jsx("div",{className:"screen",children:y.jsx("div",{className:"card",children:y.jsx("p",{children:"Loading history..."})})}):y.jsxs("div",{className:"screen",children:[y.jsx("h2",{children:" Event History"}),y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:" History Stats"}),y.jsxs("div",{className:"stats-grid",children:[y.jsxs("div",{className:"stat-item",children:[y.jsx("div",{className:"stat-value",children:O.totalEvents}),y.jsx("div",{className:"stat-label",children:"Total Events"})]}),y.jsxs("div",{className:"stat-item",children:[y.jsxs("div",{className:"stat-value",style:{color:"#28a745"},children:["+",O.totalXpGained]}),y.jsx("div",{className:"stat-label",children:"XP Gained"})]}),y.jsxs("div",{className:"stat-item",children:[y.jsx("div",{className:"stat-value",style:{color:"#dc3545"},children:O.totalXpLost}),y.jsx("div",{className:"stat-label",children:"XP Lost"})]})]}),y.jsx("div",{className:"avg-stat",children:y.jsxs("div",{className:"stat-item",children:[y.jsx("div",{className:"stat-value",children:O.avgXpPerEvent}),y.jsx("div",{className:"stat-label",children:"Avg XP/Event"})]})})]}),y.jsx("div",{className:"card",children:y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"search",className:"form-label",children:"Search Events"}),y.jsx("input",{id:"search",type:"text",className:"form-input",placeholder:"Search by description or situation...",value:u,onChange:M=>d(M.target.value)})]})}),y.jsx("div",{className:"events-list",children:T.map(M=>{const k=r.has(M.id),G=gw[M.choice_value];return y.jsxs("div",{className:"card event-card",children:[y.jsxs("div",{className:"event-header",onClick:()=>g(M.id),children:[y.jsxs("div",{className:"event-meta",children:[y.jsx("div",{className:"event-time",children:b(M.timestamp)}),y.jsx("div",{className:"event-situation",children:M.situation.title})]}),y.jsxs("div",{className:"event-summary",children:[y.jsxs("span",{className:"xp-change",style:_(M.xp_change),children:[M.xp_change>0?"+":"",M.xp_change," XP"]}),y.jsx("div",{className:"expand-icon",children:k?"":""})]})]}),y.jsxs("div",{className:"event-preview",children:[y.jsx("h4",{className:"event-title",children:M.title||rh[M.choice_value]}),y.jsx("p",{children:w(M.event_description)}),y.jsx("div",{className:"choice-indicator",style:{backgroundColor:G},children:rh[M.choice_value]})]}),k&&y.jsxs("div",{className:"event-details",children:[y.jsxs("div",{className:"detail-section",children:[y.jsx("h4",{children:" Full Description"}),y.jsx("p",{children:M.event_description})]}),y.jsxs("div",{className:"detail-section",children:[y.jsx("h4",{children:" Situation Details"}),y.jsxs("div",{className:"situation-details",children:[y.jsxs("div",{className:"detail-item",children:[y.jsx("span",{className:"detail-label",children:"Situation:"}),y.jsx("span",{className:"detail-value",children:M.situation.title})]}),y.jsxs("div",{className:"detail-item",children:[y.jsx("span",{className:"detail-label",children:"Response:"}),y.jsx("span",{className:"detail-value",style:{color:G},children:rh[M.choice_value]})]}),y.jsxs("div",{className:"detail-item",children:[y.jsx("span",{className:"detail-label",children:"XP Impact:"}),y.jsxs("span",{className:"detail-value",style:_(M.xp_change),children:[M.xp_change>0?"+":"",M.xp_change]})]})]})]}),y.jsxs("div",{className:"detail-section",children:[y.jsx("h4",{children:" Affected Opportunities"}),y.jsx("div",{className:"affected-opportunities",children:M.affected_opportunities&&M.affected_opportunities.length>0?y.jsxs("div",{className:"opportunities-count",children:[M.affected_opportunities.length," opportunities affected"]}):y.jsx("div",{className:"no-opportunities",children:"No opportunities linked"})})]}),y.jsxs("div",{className:"detail-section",children:[y.jsx("h4",{children:" Timestamp"}),y.jsx("p",{children:new Date(M.timestamp).toLocaleString()})]})]})]},M.id)})}),T.length===0&&!n&&y.jsx("div",{className:"card empty-state",children:u?y.jsxs(y.Fragment,{children:[y.jsx("h3",{children:"No Events Found"}),y.jsx("p",{children:"No events match your search criteria."}),y.jsx("button",{className:"btn btn-secondary",onClick:()=>d(""),children:"Clear Search"})]}):y.jsxs(y.Fragment,{children:[y.jsx("h3",{children:"No Events Yet"}),y.jsx("p",{children:"Start adding life events to see your history here!"})]})})]})}function wy({tags:i=[],onChange:t,placeholder:n="Add tags...",availableTags:s=[]}){const[r,l]=P.useState(""),[u,d]=P.useState(!1),f=C=>{l(C.target.value),d(C.target.value.length>0)},g=C=>{const O=C.trim().toLowerCase();O&&!i.includes(O)&&t([...i,O]),l(""),d(!1)},b=C=>{t(i.filter(O=>O!==C))},_=C=>{(C.key==="Enter"||C.key===",")&&(C.preventDefault(),g(r))},w=C=>{g(C)},T=s.filter(C=>C.toLowerCase().includes(r.toLowerCase())&&!i.includes(C));return y.jsxs("div",{className:"tag-input-container",children:[y.jsx("div",{className:"tags-display",style:{display:"flex",flexWrap:"wrap",gap:"6px",marginBottom:"8px"},children:i.map(C=>y.jsxs("span",{className:"tag-item",style:{display:"inline-flex",alignItems:"center",background:"#e3f2fd",color:"#1976d2",padding:"4px 8px",borderRadius:"12px",fontSize:"0.8rem",gap:"4px"},children:[C,y.jsx("button",{type:"button",onClick:()=>b(C),style:{background:"none",border:"none",color:"#1976d2",cursor:"pointer",padding:"0",width:"16px",height:"16px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold"},children:""})]},C))}),y.jsxs("div",{style:{position:"relative"},children:[y.jsx("input",{type:"text",value:r,onChange:f,onKeyPress:_,onFocus:()=>d(r.length>0),onBlur:()=>setTimeout(()=>d(!1),200),placeholder:n,className:"form-input",style:{width:"100%"}}),u&&T.length>0&&y.jsx("div",{className:"suggestions-dropdown",style:{position:"absolute",top:"100%",left:0,right:0,background:"white",border:"1px solid #ddd",borderTop:"none",borderRadius:"0 0 4px 4px",maxHeight:"150px",overflowY:"auto",zIndex:1e3,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:T.slice(0,8).map(C=>y.jsx("button",{type:"button",onClick:()=>w(C),style:{width:"100%",padding:"8px 12px",border:"none",background:"white",textAlign:"left",cursor:"pointer",fontSize:"0.9rem",color:"#333"},onMouseEnter:O=>O.target.style.background="#f5f5f5",onMouseLeave:O=>O.target.style.background="white",children:C},C))})]}),y.jsx("div",{style:{fontSize:"0.8rem",color:"#666",marginTop:"4px"},children:"Press Enter or comma to add tags"})]})}function yw(){const[i,t]=P.useState("situations");console.log("Customize component rendered, activeTab:",i);const[n,s]=P.useState([]),[r,l]=P.useState([]),[u,d]=P.useState([]),[f,g]=P.useState([]),[b,_]=P.useState(!0),[w,T]=P.useState([]),[C,O]=P.useState([]),[M,k]=P.useState([]),[G,ot]=P.useState([]),[H,$]=P.useState("alphabetical"),[J,ht]=P.useState("alphabetical"),[ft,mt]=P.useState(null),[Mt,zt]=P.useState(!1),[kt,Ot]=P.useState(!1),[Xt,Ht]=P.useState(null),[et,St]=P.useState(!1),[Rt,rt]=P.useState(!1),[R,it]=P.useState(!1),[xt,Q]=P.useState(!1),[_t,qt]=P.useState(!1),[Lt,Re]=P.useState(null),[de,Ut]=P.useState(null),[It,Ne]=P.useState({title:"",description:"",tags:[],linkedOpportunities:[],challengingLevel:3,backThoughts:[],forthThoughts:[]}),[Gt,vn]=P.useState({title:"",description:"",tags:[],initialLevel:1});P.useEffect(()=>{fn(),Cs(),Ds()},[]);const Ds=async()=>{try{const[st,At]=await Promise.all([Wt.getConfig("dynamicXpEnabled",!1),Wt.getConfig("cloudSyncEnabled",!1)]);St(st),rt(At)}catch(st){console.error("Error loading config:",st)}};P.useEffect(()=>{(()=>{let At=r;switch(M.length>0&&(At=r.filter(vt=>vt.tags&&Array.isArray(vt.tags)&&M.some(Ft=>vt.tags.includes(Ft)))),H){case"alphabetical":At=[...At].sort((vt,Ft)=>vt.title.localeCompare(Ft.title));break;case"created":At=[...At].sort((vt,Ft)=>new Date(Ft.created_at)-new Date(vt.created_at));break;case"updated":At=[...At].sort((vt,Ft)=>new Date(Ft.updated_at)-new Date(vt.updated_at));break}s(At)})()},[H,M,r]),P.useEffect(()=>{(()=>{let At=f;switch(G.length>0&&(At=f.filter(vt=>vt.tags&&Array.isArray(vt.tags)&&G.some(Ft=>vt.tags.includes(Ft)))),J){case"alphabetical":At=[...At].sort((vt,Ft)=>vt.title.localeCompare(Ft.title));break;case"level":At=[...At].sort((vt,Ft)=>Ft.current_level!==vt.current_level?Ft.current_level-vt.current_level:Ft.current_xp-vt.current_xp);break;case"xp":At=[...At].sort((vt,Ft)=>Ft.current_xp-vt.current_xp);break;case"created":At=[...At].sort((vt,Ft)=>new Date(Ft.created_at)-new Date(vt.created_at));break}d(At)})()},[J,G,f]);const fn=async()=>{try{const[st,At,vt,Ft]=await Promise.all([Wt.getSituationsWithOpportunities(),Pt.opportunities.toArray(),Wt.getAllSituationTags(),Wt.getAllOpportunityTags()]);l(st),s(st),g(At),d(At),T(vt),O(Ft)}catch(st){console.error("Error loading data:",st)}finally{_(!1)}},Cs=async()=>{try{const st=await Wt.getDataStats();mt(st)}catch(st){console.error("Error loading data stats:",st)}},Nn=async st=>{if(st.preventDefault(),!It.title.trim()||!It.description.trim()){alert("Please fill in all required fields");return}try{let At;Lt?(await Wt.updateSituation(Lt.id,It.title,It.description,It.tags,It.challengingLevel,It.backThoughts,It.forthThoughts),At=Lt.id):At=(await Wt.createSituation(It.title,It.description,It.tags,It.challengingLevel,It.backThoughts,It.forthThoughts)).id,await Wt.linkSituationToOpportunities(At,It.linkedOpportunities),fi(),fn()}catch(At){console.error("Error saving situation:",At),alert("Error saving situation. Please try again.")}},Eo=st=>{Re(st),Ne({title:st.title,description:st.description,tags:st.tags||[],linkedOpportunities:st.opportunities.map(At=>At.id),challengingLevel:st.challenging_level||3,backThoughts:st.back_thoughts||[],forthThoughts:st.forth_thoughts||[]}),Q(!0)},pr=async st=>{if(confirm("Are you sure you want to delete this situation? This action cannot be undone."))try{if(await Pt.events.where("situation_id").equals(st).count()>0){alert("Cannot delete situation that has associated events. Delete events first.");return}await Wt.deleteSituation(st),fn()}catch(At){console.error("Error deleting situation:",At),alert("Error deleting situation. Please try again.")}},Oa=async st=>{if(st.preventDefault(),!Gt.title.trim()||!Gt.description.trim()){alert("Please fill in all required fields");return}try{de?await Wt.updateOpportunity(de.id,Gt.title,Gt.description,Gt.tags,Gt.initialLevel):await Wt.createOpportunity(Gt.title,Gt.description,Gt.tags,Gt.initialLevel),js(),fn()}catch(At){console.error("Error saving opportunity:",At),alert("Error saving opportunity. Please try again.")}},hn=st=>{Ut(st),vn({title:st.title,description:st.description,tags:st.tags||[],initialLevel:st.current_level||1}),qt(!0)},gr=async st=>{if(confirm("Are you sure you want to delete this opportunity? This action cannot be undone."))try{if(await Pt.events.where("affected_opportunities").equals(st).count()>0){alert("Cannot delete opportunity that has associated events. This would break event history.");return}await Wt.deleteOpportunity(st),fn()}catch(At){console.error("Error deleting opportunity:",At),alert("Error deleting opportunity. Please try again.")}},fi=()=>{Ne({title:"",description:"",tags:[],linkedOpportunities:[],challengingLevel:3,backThoughts:[],forthThoughts:[]}),Re(null),Q(!1)},js=()=>{vn({title:"",description:"",tags:[],initialLevel:1}),Ut(null),qt(!1)},Yi=st=>{const At=It.linkedOpportunities,vt=At.includes(st)?At.filter(Ft=>Ft!==st):[...At,st];Ne({...It,linkedOpportunities:vt})},Cn=st=>{k(At=>At.includes(st)?At.filter(vt=>vt!==st):[...At,st])},Be=st=>{ot(At=>At.includes(st)?At.filter(vt=>vt!==st):[...At,st])},Ln=async()=>{if(!ft||ft.situations===0){alert("No data to export. Add some situations and opportunities first.");return}zt(!0);try{const st=await Wt.exportAllData(),At=new Blob([JSON.stringify(st,null,2)],{type:"application/json"}),vt=URL.createObjectURL(At),Ft=document.createElement("a");Ft.href=vt,Ft.download=`life-progress-tracker-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Ft),Ft.click(),document.body.removeChild(Ft),URL.revokeObjectURL(vt)}catch(st){console.error("Export failed:",st),alert("Export failed. Please try again.")}finally{zt(!1)}},Ye=()=>{const st=document.createElement("input");st.type="file",st.accept=".json",st.onchange=Ms,st.click()},Ms=async st=>{const At=st.target.files[0];if(At&&confirm("This will replace all existing data. Are you sure you want to continue?")){Ot(!0),Ht(null);try{const vt=await At.text(),Ft=JSON.parse(vt);if(!Ft.data||!Ft.data.situations)throw new Error("Invalid file format. Please select a valid export file.");const zn=await Wt.importAllData(Ft);Ht(zn),await Th(),await fn(),await Cs(),k([]),ot([])}catch(vt){console.error("Import failed:",vt),alert(`Import failed: ${vt.message}`)}finally{Ot(!1)}}},ka=async()=>{try{const st=!et;await Wt.setConfig("dynamicXpEnabled",st),St(st)}catch(st){console.error("Error updating config:",st),alert("Error updating configuration. Please try again.")}},hi=async()=>{try{const st=!Rt;await Wt.setConfig("cloudSyncEnabled",st),rt(st)}catch(st){console.error("Error updating config:",st),alert("Error updating configuration. Please try again.")}},pi=async()=>{it(!0);try{await Th(),await fn(),await Cs(),alert(" Default situations and opportunities have been restored!")}catch(st){console.error("Error ensuring defaults:",st),alert("Error restoring defaults. Please try again.")}finally{it(!1)}};return b?y.jsx("div",{className:"screen",children:y.jsx("div",{className:"card",children:y.jsx("p",{children:"Loading customization options..."})})}):y.jsxs("div",{className:"screen",children:[y.jsx("h2",{children:" Customize"}),y.jsx("div",{className:"card",children:y.jsxs("div",{className:"tab-navigation",children:[y.jsxs("button",{className:`tab-button ${i==="situations"?"active":""}`,onClick:()=>t("situations"),children:[" Situations (",n.length,")"]}),y.jsxs("button",{className:`tab-button ${i==="opportunities"?"active":""}`,onClick:()=>t("opportunities"),children:[" Opportunities (",u.length,")"]}),y.jsx("button",{className:`tab-button ${i==="settings"?"active":""}`,onClick:()=>t("settings"),children:" Settings"})]})}),i==="situations"&&y.jsxs("div",{className:"tab-content",children:[y.jsx("div",{className:"card",children:y.jsxs("div",{className:"section-header",children:[y.jsx("h3",{children:"Manage Situations"}),y.jsx("button",{className:"btn btn-success",onClick:()=>Q(!0),children:"+ Add Situation"})]})}),y.jsx("div",{className:"card",children:y.jsxs("div",{className:"sort-controls",children:[y.jsx("label",{htmlFor:"situationSort",className:"form-label",children:"Sort by:"}),y.jsxs("select",{id:"situationSort",className:"form-select",value:H,onChange:st=>$(st.target.value),children:[y.jsx("option",{value:"alphabetical",children:"A-Z"}),y.jsx("option",{value:"created",children:"Newest First"}),y.jsx("option",{value:"updated",children:"Recently Updated"})]})]})}),w.length>0&&y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:" Filter by Tags"}),y.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginTop:"12px"},children:w.map(st=>y.jsx("button",{onClick:()=>Cn(st),style:{padding:"6px 12px",border:M.includes(st)?"2px solid #28a745":"1px solid #ccc",borderRadius:"16px",background:M.includes(st)?"#d4edda":"#f5f5f5",color:M.includes(st)?"#155724":"#666",cursor:"pointer",fontSize:"0.85rem",fontWeight:M.includes(st)?"bold":"normal"},children:st},st))}),M.length>0&&y.jsxs("div",{style:{marginTop:"12px"},children:[y.jsx("button",{onClick:()=>k([]),style:{padding:"4px 8px",border:"1px solid #dc3545",borderRadius:"12px",background:"#f8d7da",color:"#721c24",cursor:"pointer",fontSize:"0.8rem"},children:"Clear Filters"}),y.jsxs("span",{style:{marginLeft:"12px",fontSize:"0.9rem",color:"#666"},children:["Showing ",n.length," of ",r.length," situations"]})]})]}),xt&&y.jsxs("div",{className:"card form-card",children:[y.jsxs("h4",{children:[Lt?"Edit":"Add New"," Situation"]}),y.jsxs("form",{onSubmit:Nn,children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"form-label",children:"Title *"}),y.jsx("input",{type:"text",className:"form-input",value:It.title,onChange:st=>Ne({...It,title:st.target.value}),placeholder:"e.g., Work Meeting Conflict",required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"form-label",children:"Description *"}),y.jsx("textarea",{className:"form-input form-textarea",value:It.description,onChange:st=>Ne({...It,description:st.target.value}),placeholder:"Describe the situation type...",required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"form-label",children:"Tags"}),y.jsx(wy,{tags:It.tags,onChange:st=>Ne({...It,tags:st}),placeholder:"Add tags (e.g., work, personal, health)...",availableTags:w})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"form-label",children:"Challenging Level"}),y.jsxs("select",{className:"form-select",value:It.challengingLevel,onChange:st=>Ne({...It,challengingLevel:parseInt(st.target.value)}),children:[y.jsx("option",{value:1,children:"1 - Very Easy"}),y.jsx("option",{value:2,children:"2 - Easy"}),y.jsx("option",{value:3,children:"3 - Medium"}),y.jsx("option",{value:4,children:"4 - Hard"}),y.jsx("option",{value:5,children:"5 - Very Hard"})]}),y.jsx("small",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",display:"block",marginTop:"4px"},children:"Higher challenging levels give more XP when dynamic XP is enabled"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"form-label",style:{marginBottom:"8px"},children:" Internal Dialogue"}),y.jsx("div",{style:{background:"#f8f9fa",padding:"12px",borderRadius:"8px",border:"1px solid #e9ecef",marginBottom:"12px"},children:y.jsx("p",{style:{fontSize:"0.9rem",color:"#6c757d",margin:"0 0 8px 0",lineHeight:"1.4"},children:"Create pairs of negative thoughts ( back) and positive responses ( forth) that counter them. This helps identify the internal dialogue patterns in this situation."})}),y.jsxs("div",{style:{marginBottom:"16px"},children:[y.jsxs("div",{style:{display:"grid",gap:"16px",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))"},children:[y.jsxs("div",{children:[y.jsx("label",{className:"form-label",style:{color:"#dc3545",fontSize:"0.95rem",marginBottom:"8px",display:"block"},children:" Back Thoughts (Negative/Limiting)"}),It.backThoughts.map((st,At)=>y.jsx("div",{style:{marginBottom:"12px"},children:y.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"flex-start"},children:[y.jsx("textarea",{className:"form-input",value:st,onChange:vt=>{const Ft=[...It.backThoughts];Ft[At]=vt.target.value,Ne({...It,backThoughts:Ft})},placeholder:"e.g., 'I'm not good enough for this challenge...'",rows:"3",style:{resize:"vertical",minHeight:"75px",borderColor:"#dc3545",borderWidth:"1px"}}),y.jsx("button",{type:"button",onClick:()=>{const vt=It.backThoughts.filter((zn,Xi)=>Xi!==At),Ft=[...It.forthThoughts];Ft[At]!==void 0&&Ft.splice(At,1),Ne({...It,backThoughts:vt,forthThoughts:Ft})},style:{padding:"4px 8px",background:"#dc3545",color:"white",border:"none",borderRadius:"4px",marginTop:"4px",height:"fit-content"},children:""})]})},`back-${At}`))]}),y.jsxs("div",{children:[y.jsx("label",{className:"form-label",style:{color:"#007bff",fontSize:"0.95rem",marginBottom:"8px",display:"block"},children:" Forth Thoughts (Positive Response)"}),It.forthThoughts.map((st,At)=>y.jsx("div",{style:{marginBottom:"12px"},children:y.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"flex-start"},children:[y.jsx("textarea",{className:"form-input",value:st,onChange:vt=>{const Ft=[...It.forthThoughts];Ft[At]=vt.target.value,Ne({...It,forthThoughts:Ft})},placeholder:"e.g., 'Growth happens outside my comfort zone, and I have what it takes to learn...'",rows:"3",style:{resize:"vertical",minHeight:"75px",borderColor:"#007bff",borderWidth:"1px"}}),y.jsx("button",{type:"button",onClick:()=>{const vt=It.forthThoughts.filter((Ft,zn)=>zn!==At);Ne({...It,forthThoughts:vt})},style:{padding:"4px 8px",background:"#dc3545",color:"white",border:"none",borderRadius:"4px",marginTop:"4px",height:"fit-content"},children:""})]})},`forth-${At}`))]})]}),y.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"center",marginTop:"16px"},children:[y.jsx("button",{type:"button",onClick:()=>Ne({...It,backThoughts:[...It.backThoughts,""],forthThoughts:[...It.forthThoughts,""]}),style:{padding:"8px 16px",background:"#6c757d",color:"white",border:"none",borderRadius:"6px",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"6px"},children:" Add Thought Pair"}),y.jsx("button",{type:"button",onClick:()=>Ne({...It,backThoughts:[...It.backThoughts,""]}),style:{padding:"6px 12px",background:"#dc3545",color:"white",border:"none",borderRadius:"4px",fontSize:"0.85rem"},children:"+ Back Only"}),y.jsx("button",{type:"button",onClick:()=>Ne({...It,forthThoughts:[...It.forthThoughts,""]}),style:{padding:"6px 12px",background:"#007bff",color:"white",border:"none",borderRadius:"4px",fontSize:"0.85rem"},children:"+ Forth Only"})]})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"form-label",children:"Linked Opportunities"}),y.jsx("div",{className:"opportunities-checklist",children:u.map(st=>y.jsxs("label",{className:"checkbox-item",children:[y.jsx("input",{type:"checkbox",checked:It.linkedOpportunities.includes(st.id),onChange:()=>Yi(st.id)}),y.jsx("span",{children:st.title})]},st.id))})]}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"button",className:"btn btn-secondary",onClick:fi,children:"Cancel"}),y.jsxs("button",{type:"submit",className:"btn btn-success",children:[Lt?"Update":"Add"," Situation"]})]})]})]}),y.jsx("div",{className:"items-list",children:n.map(st=>y.jsxs("div",{className:"card item-card",children:[y.jsxs("div",{className:"item-header",children:[y.jsxs("div",{className:"item-title-section",children:[y.jsx("h4",{children:st.title}),y.jsx("div",{className:"situation-stats",children:y.jsxs("span",{className:"challenging-badge",style:{background:st.challenging_level>=4?"#dc3545":st.challenging_level>=3?"#ffc107":"#28a745",color:"white",padding:"2px 8px",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"bold"},children:["Level ",st.challenging_level,"/5"]})})]}),y.jsxs("div",{className:"item-actions",children:[y.jsx("button",{className:"btn-icon",onClick:()=>Eo(st),title:"Edit",children:""}),y.jsx("button",{className:"btn-icon",onClick:()=>pr(st.id),title:"Delete",children:""})]})]}),y.jsx("p",{className:"item-description",children:st.description}),st.tags&&st.tags.length>0&&y.jsxs("div",{style:{marginBottom:"12px"},children:[y.jsx("strong",{children:"Tags:"}),y.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px",marginTop:"4px"},children:st.tags.map(At=>y.jsx("span",{style:{display:"inline-block",background:"#e8f5e8",color:"#2e7d2e",padding:"2px 8px",borderRadius:"12px",fontSize:"0.75rem"},children:At},At))})]}),y.jsx("div",{className:"item-meta",children:y.jsxs("div",{className:"linked-opportunities",children:[y.jsx("strong",{children:"Linked Opportunities:"}),st.opportunities.length>0?y.jsx("div",{className:"opportunity-tags",children:st.opportunities.map(At=>y.jsx("span",{className:"opportunity-tag",children:At.title},At.id))}):y.jsx("span",{className:"no-links",children:"No opportunities linked"})]})})]},st.id))})]}),i==="opportunities"&&y.jsxs("div",{className:"tab-content",children:[y.jsx("div",{className:"card",children:y.jsxs("div",{className:"section-header",children:[y.jsx("h3",{children:"Manage Opportunities"}),y.jsx("button",{className:"btn btn-success",onClick:()=>qt(!0),children:"+ Add Opportunity"})]})}),y.jsx("div",{className:"card",children:y.jsxs("div",{className:"sort-controls",children:[y.jsx("label",{htmlFor:"opportunitySort",className:"form-label",children:"Sort by:"}),y.jsxs("select",{id:"opportunitySort",className:"form-select",value:J,onChange:st=>ht(st.target.value),children:[y.jsx("option",{value:"alphabetical",children:"A-Z"}),y.jsx("option",{value:"level",children:"Level"}),y.jsx("option",{value:"xp",children:"XP Progress"}),y.jsx("option",{value:"created",children:"Newest First"})]})]})}),C.length>0&&y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:" Filter by Tags"}),y.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginTop:"12px"},children:C.map(st=>y.jsx("button",{onClick:()=>Be(st),style:{padding:"6px 12px",border:G.includes(st)?"2px solid #1976d2":"1px solid #ccc",borderRadius:"16px",background:G.includes(st)?"#e3f2fd":"#f5f5f5",color:G.includes(st)?"#1976d2":"#666",cursor:"pointer",fontSize:"0.85rem",fontWeight:G.includes(st)?"bold":"normal"},children:st},st))}),G.length>0&&y.jsxs("div",{style:{marginTop:"12px"},children:[y.jsx("button",{onClick:()=>ot([]),style:{padding:"4px 8px",border:"1px solid #dc3545",borderRadius:"12px",background:"#f8d7da",color:"#721c24",cursor:"pointer",fontSize:"0.8rem"},children:"Clear Filters"}),y.jsxs("span",{style:{marginLeft:"12px",fontSize:"0.9rem",color:"#666"},children:["Showing ",u.length," of ",f.length," opportunities"]})]})]}),_t&&y.jsxs("div",{className:"card form-card",children:[y.jsxs("h4",{children:[de?"Edit":"Add New"," Opportunity"]}),y.jsxs("form",{onSubmit:Oa,children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"form-label",children:"Title *"}),y.jsx("input",{type:"text",className:"form-input",value:Gt.title,onChange:st=>vn({...Gt,title:st.target.value}),placeholder:"e.g., Leadership",required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"form-label",children:"Description *"}),y.jsx("textarea",{className:"form-input form-textarea",value:Gt.description,onChange:st=>vn({...Gt,description:st.target.value}),placeholder:"Describe this skill or opportunity...",required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"form-label",children:"Tags"}),y.jsx(wy,{tags:Gt.tags,onChange:st=>vn({...Gt,tags:st}),placeholder:"Add tags (e.g., leadership, skill, creative)...",availableTags:C})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"form-label",children:de?"Current Level":"Initial Level"}),y.jsx("input",{type:"number",className:"form-input",value:Gt.initialLevel,onChange:st=>vn({...Gt,initialLevel:parseInt(st.target.value)||1}),min:"1",max:"100",placeholder:"1"}),y.jsx("small",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",display:"block",marginTop:"4px"},children:de?"Update the current level for this opportunity (1-100).":"Set the starting level for this opportunity (1-100). Default is 1."})]}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"button",className:"btn btn-secondary",onClick:js,children:"Cancel"}),y.jsxs("button",{type:"submit",className:"btn btn-success",children:[de?"Update":"Add"," Opportunity"]})]})]})]}),y.jsx("div",{className:"items-list",children:u.map(st=>y.jsxs("div",{className:"card item-card",children:[y.jsxs("div",{className:"item-header",children:[y.jsxs("div",{className:"item-title-section",children:[y.jsx("h4",{children:st.title}),y.jsxs("div",{className:"opportunity-stats",children:[y.jsxs("span",{className:"level-badge",children:["Level ",st.current_level]}),y.jsxs("span",{className:"xp-text",children:[st.current_xp,"/100 XP"]})]})]}),y.jsxs("div",{className:"item-actions",children:[y.jsx("button",{className:"btn-icon",onClick:()=>hn(st),title:"Edit",children:""}),y.jsx("button",{className:"btn-icon",onClick:()=>gr(st.id),title:"Delete",children:""})]})]}),y.jsx("p",{className:"item-description",children:st.description}),st.tags&&st.tags.length>0&&y.jsxs("div",{style:{marginBottom:"12px"},children:[y.jsx("strong",{children:"Tags:"}),y.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px",marginTop:"4px"},children:st.tags.map(At=>y.jsx("span",{style:{display:"inline-block",background:"#e3f2fd",color:"#1976d2",padding:"2px 8px",borderRadius:"12px",fontSize:"0.75rem"},children:At},At))})]}),y.jsx("div",{className:"progress-bar",children:y.jsx("div",{className:"progress-fill",style:{width:`${st.current_xp}%`}})})]},st.id))})]}),i==="settings"&&y.jsxs("div",{className:"tab-content",children:[y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:" App Settings"}),y.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"20px"},children:"Manage your app preferences and data"}),y.jsxs("div",{style:{padding:"15px",background:"var(--bg-tertiary)",borderRadius:"8px",marginBottom:"20px"},children:[y.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"1rem"},children:" Theme"}),y.jsx("p",{style:{margin:"0",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Use the theme toggle button (/) in the top-right corner to switch between light and dark modes"})]}),y.jsxs("div",{style:{padding:"15px",background:"var(--bg-tertiary)",borderRadius:"8px",marginBottom:"20px"},children:[y.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"1rem"},children:" Tags"}),y.jsx("p",{style:{margin:"0",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Add custom tags when creating situations and opportunities. Use the filter feature in Progress screen to find items by tags."})]}),y.jsxs("div",{style:{padding:"15px",background:"var(--bg-tertiary)",borderRadius:"8px",marginBottom:"20px"},children:[y.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:"1rem"},children:" XP System"}),y.jsx("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:y.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[y.jsx("input",{type:"checkbox",checked:et,onChange:ka,style:{transform:"scale(1.2)"}}),y.jsx("span",{style:{fontWeight:"bold"},children:"Dynamic XP"})]})}),y.jsx("p",{style:{margin:"0",fontSize:"0.9rem",color:"var(--text-secondary)"},children:et?"XP rewards are multiplied based on situation challenging level. Higher challenging levels give more XP.":"XP rewards are fixed regardless of situation challenging level."})]}),y.jsxs("div",{style:{padding:"15px",background:"var(--bg-tertiary)",borderRadius:"8px",marginBottom:"20px"},children:[y.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:"1rem"},children:" Cloud Sync"}),y.jsx("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:y.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[y.jsx("input",{type:"checkbox",checked:Rt,onChange:hi,style:{transform:"scale(1.2)"}}),y.jsx("span",{style:{fontWeight:"bold"},children:"Enable Cloud Sync"})]})}),y.jsx("p",{style:{margin:"0",fontSize:"0.9rem",color:"var(--text-secondary)"},children:Rt?"Cloud sync button is visible. You can sync your data to the cloud.":"Cloud sync is disabled and the sync button is hidden from the interface."})]})]}),y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:" Data Management"}),ft&&y.jsxs("div",{style:{background:"var(--bg-tertiary)",padding:"15px",borderRadius:"8px",marginBottom:"20px"},children:[y.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:"1rem"},children:" Current Data"}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"12px",fontSize:"0.9rem"},children:[y.jsxs("div",{children:[y.jsx("strong",{children:ft.situations}),y.jsx("div",{style:{color:"var(--text-secondary)"},children:"Situations"})]}),y.jsxs("div",{children:[y.jsx("strong",{children:ft.opportunities}),y.jsx("div",{style:{color:"var(--text-secondary)"},children:"Opportunities"})]}),y.jsxs("div",{children:[y.jsx("strong",{children:ft.links}),y.jsx("div",{style:{color:"var(--text-secondary)"},children:"Links"})]}),y.jsxs("div",{children:[y.jsx("strong",{children:ft.events}),y.jsx("div",{style:{color:"var(--text-secondary)"},children:"Events"})]})]})]}),y.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"20px",flexWrap:"wrap"},children:[y.jsxs("button",{className:"btn btn-primary",onClick:Ln,disabled:Mt||!ft||ft.situations===0,style:{display:"flex",alignItems:"center",gap:"8px"},children:[Mt?"":"",Mt?"Exporting...":"Export All Data"]}),y.jsxs("button",{className:"btn btn-secondary",onClick:Ye,disabled:kt,style:{display:"flex",alignItems:"center",gap:"8px"},children:[kt?"":"",kt?"Importing...":"Import Data"]}),y.jsxs("button",{className:"btn btn-outline",onClick:pi,disabled:R,style:{display:"flex",alignItems:"center",gap:"8px",border:"1px solid #6c757d",color:"#6c757d"},children:[R?"":"",R?"Restoring...":"Restore Defaults"]})]}),Xt&&y.jsxs("div",{style:{background:"#d4edda",border:"1px solid #c3e6cb",color:"#155724",padding:"12px",borderRadius:"8px",marginBottom:"20px"},children:[y.jsx("h4",{style:{margin:"0 0 8px 0"},children:" Import Successful!"}),y.jsxs("div",{style:{fontSize:"0.9rem"},children:["Imported: ",Xt.situationsCount," situations, ",Xt.opportunitiesCount," opportunities, ",Xt.linksCount," links, ",Xt.eventsCount," events"]})]}),y.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",lineHeight:"1.4"},children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Export:"})," Download all your data as a JSON file for backup or transfer."]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Import:"})," Upload a previously exported JSON file. This will replace all current data."]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Restore Defaults:"})," Ensures essential situations and opportunities are always available. Safe to use - won't delete your custom data."]}),y.jsxs("p",{children:[y.jsx("strong",{children:" Warning:"})," Import will permanently delete all existing data. Make sure to export first if you want to keep your current data."]})]})]}),y.jsx(pb,{}),y.jsxs("div",{className:"card",style:{marginTop:"20px"},children:[y.jsx("h3",{children:" App Information"}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[y.jsx("span",{children:"Version:"}),y.jsx("span",{children:"1.6.0"})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[y.jsx("span",{children:"App Name:"}),y.jsx("span",{children:"Life Progress Tracker"})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[y.jsx("span",{children:"Type:"}),y.jsx("span",{children:"Progressive Web App"})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[y.jsx("span",{children:"Features:"}),y.jsx("span",{children:"Tags, Dark Theme, Offline Support"})]})]})]})]}),i==="situations"&&n.length===0&&y.jsxs("div",{className:"card empty-state",children:[y.jsx("h3",{children:"No Situations Yet"}),y.jsx("p",{children:"Create your first situation to start tracking life events!"})]}),i==="opportunities"&&u.length===0&&y.jsxs("div",{className:"card empty-state",children:[y.jsx("h3",{children:"No Opportunities Yet"}),y.jsx("p",{children:"Create your first opportunity to start building skills!"})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function cc(i){return i+.5|0}const xs=(i,t,n)=>Math.max(Math.min(i,n),t);function Vl(i){return xs(cc(i*2.55),0,255)}function Ss(i){return xs(cc(i*255),0,255)}function Ea(i){return xs(cc(i/2.55)/100,0,1)}function Ey(i){return xs(cc(i*100),0,100)}const ci={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Dh=[..."0123456789ABCDEF"],vw=i=>Dh[i&15],bw=i=>Dh[(i&240)>>4]+Dh[i&15],wu=i=>(i&240)>>4===(i&15),xw=i=>wu(i.r)&&wu(i.g)&&wu(i.b)&&wu(i.a);function _w(i){var t=i.length,n;return i[0]==="#"&&(t===4||t===5?n={r:255&ci[i[1]]*17,g:255&ci[i[2]]*17,b:255&ci[i[3]]*17,a:t===5?ci[i[4]]*17:255}:(t===7||t===9)&&(n={r:ci[i[1]]<<4|ci[i[2]],g:ci[i[3]]<<4|ci[i[4]],b:ci[i[5]]<<4|ci[i[6]],a:t===9?ci[i[7]]<<4|ci[i[8]]:255})),n}const Sw=(i,t)=>i<255?t(i):"";function ww(i){var t=xw(i)?vw:bw;return i?"#"+t(i.r)+t(i.g)+t(i.b)+Sw(i.a,t):void 0}const Ew=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function kb(i,t,n){const s=t*Math.min(n,1-n),r=(l,u=(l+i/30)%12)=>n-s*Math.max(Math.min(u-3,9-u,1),-1);return[r(0),r(8),r(4)]}function Aw(i,t,n){const s=(r,l=(r+i/60)%6)=>n-n*t*Math.max(Math.min(l,4-l,1),0);return[s(5),s(3),s(1)]}function Tw(i,t,n){const s=kb(i,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)s[r]*=1-t-n,s[r]+=t;return s}function Dw(i,t,n,s,r){return i===r?(t-n)/s+(t<n?6:0):t===r?(n-i)/s+2:(i-t)/s+4}function Xh(i){const n=i.r/255,s=i.g/255,r=i.b/255,l=Math.max(n,s,r),u=Math.min(n,s,r),d=(l+u)/2;let f,g,b;return l!==u&&(b=l-u,g=d>.5?b/(2-l-u):b/(l+u),f=Dw(n,s,r,b,l),f=f*60+.5),[f|0,g||0,d]}function Wh(i,t,n,s){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,n,s)).map(Ss)}function Ih(i,t,n){return Wh(kb,i,t,n)}function Cw(i,t,n){return Wh(Tw,i,t,n)}function jw(i,t,n){return Wh(Aw,i,t,n)}function Rb(i){return(i%360+360)%360}function Mw(i){const t=Ew.exec(i);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?Vl(+t[5]):Ss(+t[5]));const r=Rb(+t[2]),l=+t[3]/100,u=+t[4]/100;return t[1]==="hwb"?s=Cw(r,l,u):t[1]==="hsv"?s=jw(r,l,u):s=Ih(r,l,u),{r:s[0],g:s[1],b:s[2],a:n}}function Ow(i,t){var n=Xh(i);n[0]=Rb(n[0]+t),n=Ih(n),i.r=n[0],i.g=n[1],i.b=n[2]}function kw(i){if(!i)return;const t=Xh(i),n=t[0],s=Ey(t[1]),r=Ey(t[2]);return i.a<255?`hsla(${n}, ${s}%, ${r}%, ${Ea(i.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const Ay={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ty={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Rw(){const i={},t=Object.keys(Ty),n=Object.keys(Ay);let s,r,l,u,d;for(s=0;s<t.length;s++){for(u=d=t[s],r=0;r<n.length;r++)l=n[r],d=d.replace(l,Ay[l]);l=parseInt(Ty[u],16),i[d]=[l>>16&255,l>>8&255,l&255]}return i}let Eu;function Nw(i){Eu||(Eu=Rw(),Eu.transparent=[0,0,0,0]);const t=Eu[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Lw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function zw(i){const t=Lw.exec(i);let n=255,s,r,l;if(t){if(t[7]!==s){const u=+t[7];n=t[8]?Vl(u):xs(u*255,0,255)}return s=+t[1],r=+t[3],l=+t[5],s=255&(t[2]?Vl(s):xs(s,0,255)),r=255&(t[4]?Vl(r):xs(r,0,255)),l=255&(t[6]?Vl(l):xs(l,0,255)),{r:s,g:r,b:l,a:n}}}function Bw(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${Ea(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const oh=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,lo=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function Pw(i,t,n){const s=lo(Ea(i.r)),r=lo(Ea(i.g)),l=lo(Ea(i.b));return{r:Ss(oh(s+n*(lo(Ea(t.r))-s))),g:Ss(oh(r+n*(lo(Ea(t.g))-r))),b:Ss(oh(l+n*(lo(Ea(t.b))-l))),a:i.a+n*(t.a-i.a)}}function Au(i,t,n){if(i){let s=Xh(i);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=Ih(s),i.r=s[0],i.g=s[1],i.b=s[2]}}function Nb(i,t){return i&&Object.assign(t||{},i)}function Dy(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=Ss(i[3]))):(t=Nb(i,{r:0,g:0,b:0,a:1}),t.a=Ss(t.a)),t}function Hw(i){return i.charAt(0)==="r"?zw(i):Mw(i)}class Jl{constructor(t){if(t instanceof Jl)return t;const n=typeof t;let s;n==="object"?s=Dy(t):n==="string"&&(s=_w(t)||Nw(t)||Hw(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=Nb(this._rgb);return t&&(t.a=Ea(t.a)),t}set rgb(t){this._rgb=Dy(t)}rgbString(){return this._valid?Bw(this._rgb):void 0}hexString(){return this._valid?ww(this._rgb):void 0}hslString(){return this._valid?kw(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,r=t.rgb;let l;const u=n===l?.5:n,d=2*u-1,f=s.a-r.a,g=((d*f===-1?d:(d+f)/(1+d*f))+1)/2;l=1-g,s.r=255&g*s.r+l*r.r+.5,s.g=255&g*s.g+l*r.g+.5,s.b=255&g*s.b+l*r.b+.5,s.a=u*s.a+(1-u)*r.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=Pw(this._rgb,t._rgb,n)),this}clone(){return new Jl(this.rgb)}alpha(t){return this._rgb.a=Ss(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=cc(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Au(this._rgb,2,t),this}darken(t){return Au(this._rgb,2,-t),this}saturate(t){return Au(this._rgb,1,t),this}desaturate(t){return Au(this._rgb,1,-t),this}rotate(t){return Ow(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function xa(){}const Uw=(()=>{let i=0;return()=>i++})();function pe(i){return i==null}function ze(i){if(Array.isArray&&Array.isArray(i))return!0;const t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ue(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function dn(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function Pi(i,t){return dn(i)?i:t}function ie(i,t){return typeof i>"u"?t:i}const qw=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,Lb=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function Ce(i,t,n){if(i&&typeof i.call=="function")return i.apply(n,t)}function xe(i,t,n,s){let r,l,u;if(ze(i))for(l=i.length,r=0;r<l;r++)t.call(n,i[r],r);else if(ue(i))for(u=Object.keys(i),l=u.length,r=0;r<l;r++)t.call(n,i[u[r]],u[r])}function Yu(i,t){let n,s,r,l;if(!i||!t||i.length!==t.length)return!1;for(n=0,s=i.length;n<s;++n)if(r=i[n],l=t[n],r.datasetIndex!==l.datasetIndex||r.index!==l.index)return!1;return!0}function Xu(i){if(ze(i))return i.map(Xu);if(ue(i)){const t=Object.create(null),n=Object.keys(i),s=n.length;let r=0;for(;r<s;++r)t[n[r]]=Xu(i[n[r]]);return t}return i}function zb(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function Kw(i,t,n,s){if(!zb(i))return;const r=t[i],l=n[i];ue(r)&&ue(l)?tc(r,l,s):t[i]=Xu(l)}function tc(i,t,n){const s=ze(t)?t:[t],r=s.length;if(!ue(i))return i;n=n||{};const l=n.merger||Kw;let u;for(let d=0;d<r;++d){if(u=s[d],!ue(u))continue;const f=Object.keys(u);for(let g=0,b=f.length;g<b;++g)l(f[g],i,u,n)}return i}function Wl(i,t){return tc(i,t,{merger:Vw})}function Vw(i,t,n){if(!zb(i))return;const s=t[i],r=n[i];ue(s)&&ue(r)?Wl(s,r):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=Xu(r))}const Cy={"":i=>i,x:i=>i.x,y:i=>i.y};function Fw(i){const t=i.split("."),n=[];let s="";for(const r of t)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function Yw(i){const t=Fw(i);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function ws(i,t){return(Cy[t]||(Cy[t]=Yw(t)))(i)}function Gh(i){return i.charAt(0).toUpperCase()+i.slice(1)}const ec=i=>typeof i<"u",Es=i=>typeof i=="function",jy=(i,t)=>{if(i.size!==t.size)return!1;for(const n of i)if(!t.has(n))return!1;return!0};function Xw(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const me=Math.PI,ke=2*me,Ww=ke+me,Wu=Number.POSITIVE_INFINITY,Iw=me/180,Qe=me/2,nr=me/4,My=me*2/3,Bb=Math.log10,Ki=Math.sign;function Il(i,t,n){return Math.abs(i-t)<n}function Oy(i){const t=Math.round(i);i=Il(i,t,i/1e3)?t:i;const n=Math.pow(10,Math.floor(Bb(i))),s=i/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function Gw(i){const t=[],n=Math.sqrt(i);let s;for(s=1;s<n;s++)i%s===0&&(t.push(s),t.push(i/s));return n===(n|0)&&t.push(n),t.sort((r,l)=>r-l).pop(),t}function Qw(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function nc(i){return!Qw(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function Zw(i,t){const n=Math.round(i);return n-t<=i&&n+t>=i}function $w(i,t,n){let s,r,l;for(s=0,r=i.length;s<r;s++)l=i[s][n],isNaN(l)||(t.min=Math.min(t.min,l),t.max=Math.max(t.max,l))}function xi(i){return i*(me/180)}function Qh(i){return i*(180/me)}function ky(i){if(!dn(i))return;let t=1,n=0;for(;Math.round(i*t)/t!==i;)t*=10,n++;return n}function Pb(i,t){const n=t.x-i.x,s=t.y-i.y,r=Math.sqrt(n*n+s*s);let l=Math.atan2(s,n);return l<-.5*me&&(l+=ke),{angle:l,distance:r}}function Ch(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function Jw(i,t){return(i-t+Ww)%ke-me}function An(i){return(i%ke+ke)%ke}function ic(i,t,n,s){const r=An(i),l=An(t),u=An(n),d=An(l-r),f=An(u-r),g=An(r-l),b=An(r-u);return r===l||r===u||s&&l===u||d>f&&g<b}function Tn(i,t,n){return Math.max(t,Math.min(n,i))}function t1(i){return Tn(i,-32768,32767)}function Aa(i,t,n,s=1e-6){return i>=Math.min(t,n)-s&&i<=Math.max(t,n)+s}function Zh(i,t,n){n=n||(u=>i[u]<t);let s=i.length-1,r=0,l;for(;s-r>1;)l=r+s>>1,n(l)?r=l:s=l;return{lo:r,hi:s}}const lr=(i,t,n,s)=>Zh(i,n,s?r=>{const l=i[r][t];return l<n||l===n&&i[r+1][t]===n}:r=>i[r][t]<n),e1=(i,t,n)=>Zh(i,n,s=>i[s][t]>=n);function n1(i,t,n){let s=0,r=i.length;for(;s<r&&i[s]<t;)s++;for(;r>s&&i[r-1]>n;)r--;return s>0||r<i.length?i.slice(s,r):i}const Hb=["push","pop","shift","splice","unshift"];function i1(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Hb.forEach(n=>{const s="_onData"+Gh(n),r=i[n];Object.defineProperty(i,n,{configurable:!0,enumerable:!1,value(...l){const u=r.apply(this,l);return i._chartjs.listeners.forEach(d=>{typeof d[s]=="function"&&d[s](...l)}),u}})})}function Ry(i,t){const n=i._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(t);r!==-1&&s.splice(r,1),!(s.length>0)&&(Hb.forEach(l=>{delete i[l]}),delete i._chartjs)}function Ub(i){const t=new Set(i);return t.size===i.length?i:Array.from(t)}const qb=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function Kb(i,t){let n=[],s=!1;return function(...r){n=r,s||(s=!0,qb.call(window,()=>{s=!1,i.apply(t,n)}))}}function a1(i,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(i,t,s)):i.apply(this,s),t}}const $h=i=>i==="start"?"left":i==="end"?"right":"center",En=(i,t,n)=>i==="start"?t:i==="end"?n:(t+n)/2,s1=(i,t,n,s)=>i===(s?"left":"right")?n:i==="center"?(t+n)/2:t;function r1(i,t,n){const s=t.length;let r=0,l=s;if(i._sorted){const{iScale:u,vScale:d,_parsed:f}=i,g=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,b=u.axis,{min:_,max:w,minDefined:T,maxDefined:C}=u.getUserBounds();if(T){if(r=Math.min(lr(f,b,_).lo,n?s:lr(t,b,u.getPixelForValue(_)).lo),g){const O=f.slice(0,r+1).reverse().findIndex(M=>!pe(M[d.axis]));r-=Math.max(0,O)}r=Tn(r,0,s-1)}if(C){let O=Math.max(lr(f,u.axis,w,!0).hi+1,n?0:lr(t,b,u.getPixelForValue(w),!0).hi+1);if(g){const M=f.slice(O-1).findIndex(k=>!pe(k[d.axis]));O+=Math.max(0,M)}l=Tn(O,r,s)-r}else l=s-r}return{start:r,count:l}}function o1(i){const{xScale:t,yScale:n,_scaleRanges:s}=i,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!s)return i._scaleRanges=r,!0;const l=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,r),l}const Tu=i=>i===0||i===1,Ny=(i,t,n)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*ke/n)),Ly=(i,t,n)=>Math.pow(2,-10*i)*Math.sin((i-t)*ke/n)+1,Gl={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*Qe)+1,easeOutSine:i=>Math.sin(i*Qe),easeInOutSine:i=>-.5*(Math.cos(me*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Tu(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Tu(i)?i:Ny(i,.075,.3),easeOutElastic:i=>Tu(i)?i:Ly(i,.075,.3),easeInOutElastic(i){return Tu(i)?i:i<.5?.5*Ny(i*2,.1125,.45):.5+.5*Ly(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-Gl.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Gl.easeInBounce(i*2)*.5:Gl.easeOutBounce(i*2-1)*.5+.5};function Jh(i){if(i&&typeof i=="object"){const t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function zy(i){return Jh(i)?i:new Jl(i)}function lh(i){return Jh(i)?i:new Jl(i).saturate(.5).darken(.1).hexString()}const l1=["x","y","borderWidth","radius","tension"],c1=["color","borderColor","backgroundColor"];function u1(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:c1},numbers:{type:"number",properties:l1}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function d1(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const By=new Map;function f1(i,t){t=t||{};const n=i+JSON.stringify(t);let s=By.get(n);return s||(s=new Intl.NumberFormat(i,t),By.set(n,s)),s}function td(i,t,n){return f1(t,n).format(i)}const h1={values(i){return ze(i)?i:""+i},numeric(i,t,n){if(i===0)return"0";const s=this.chart.options.locale;let r,l=i;if(n.length>1){const g=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),l=p1(i,n)}const u=Bb(Math.abs(l)),d=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),f={notation:r,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(f,this.options.ticks.format),td(i,s,f)}};function p1(i,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&i!==Math.floor(i)&&(n=i-Math.floor(i)),n}var tp={formatters:h1};function g1(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:tp.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const fr=Object.create(null),jh=Object.create(null);function Ql(i,t){if(!t)return i;const n=t.split(".");for(let s=0,r=n.length;s<r;++s){const l=n[s];i=i[l]||(i[l]=Object.create(null))}return i}function ch(i,t,n){return typeof t=="string"?tc(Ql(i,t),n):tc(Ql(i,""),t)}class m1{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>lh(r.backgroundColor),this.hoverBorderColor=(s,r)=>lh(r.borderColor),this.hoverColor=(s,r)=>lh(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return ch(this,t,n)}get(t){return Ql(this,t)}describe(t,n){return ch(jh,t,n)}override(t,n){return ch(fr,t,n)}route(t,n,s,r){const l=Ql(this,t),u=Ql(this,s),d="_"+n;Object.defineProperties(l,{[d]:{value:l[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[d],g=u[r];return ue(f)?Object.assign({},g,f):ie(f,g)},set(f){this[d]=f}}})}apply(t){t.forEach(n=>n(this))}}var Fe=new m1({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[u1,d1,g1]);function y1(i){return!i||pe(i.size)||pe(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Iu(i,t,n,s,r){let l=t[r];return l||(l=t[r]=i.measureText(r).width,n.push(r)),l>s&&(s=l),s}function v1(i,t,n,s){s=s||{};let r=s.data=s.data||{},l=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(r=s.data={},l=s.garbageCollect=[],s.font=t),i.save(),i.font=t;let u=0;const d=n.length;let f,g,b,_,w;for(f=0;f<d;f++)if(_=n[f],_!=null&&!ze(_))u=Iu(i,r,l,u,_);else if(ze(_))for(g=0,b=_.length;g<b;g++)w=_[g],w!=null&&!ze(w)&&(u=Iu(i,r,l,u,w));i.restore();const T=l.length/2;if(T>n.length){for(f=0;f<T;f++)delete r[l[f]];l.splice(0,T)}return u}function ir(i,t,n){const s=i.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((t-r)*s)/s+r}function Py(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function Mh(i,t,n,s){Vb(i,t,n,s,null)}function Vb(i,t,n,s,r){let l,u,d,f,g,b,_,w;const T=t.pointStyle,C=t.rotation,O=t.radius;let M=(C||0)*Iw;if(T&&typeof T=="object"&&(l=T.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){i.save(),i.translate(n,s),i.rotate(M),i.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),i.restore();return}if(!(isNaN(O)||O<=0)){switch(i.beginPath(),T){default:r?i.ellipse(n,s,r/2,O,0,0,ke):i.arc(n,s,O,0,ke),i.closePath();break;case"triangle":b=r?r/2:O,i.moveTo(n+Math.sin(M)*b,s-Math.cos(M)*O),M+=My,i.lineTo(n+Math.sin(M)*b,s-Math.cos(M)*O),M+=My,i.lineTo(n+Math.sin(M)*b,s-Math.cos(M)*O),i.closePath();break;case"rectRounded":g=O*.516,f=O-g,u=Math.cos(M+nr)*f,_=Math.cos(M+nr)*(r?r/2-g:f),d=Math.sin(M+nr)*f,w=Math.sin(M+nr)*(r?r/2-g:f),i.arc(n-_,s-d,g,M-me,M-Qe),i.arc(n+w,s-u,g,M-Qe,M),i.arc(n+_,s+d,g,M,M+Qe),i.arc(n-w,s+u,g,M+Qe,M+me),i.closePath();break;case"rect":if(!C){f=Math.SQRT1_2*O,b=r?r/2:f,i.rect(n-b,s-f,2*b,2*f);break}M+=nr;case"rectRot":_=Math.cos(M)*(r?r/2:O),u=Math.cos(M)*O,d=Math.sin(M)*O,w=Math.sin(M)*(r?r/2:O),i.moveTo(n-_,s-d),i.lineTo(n+w,s-u),i.lineTo(n+_,s+d),i.lineTo(n-w,s+u),i.closePath();break;case"crossRot":M+=nr;case"cross":_=Math.cos(M)*(r?r/2:O),u=Math.cos(M)*O,d=Math.sin(M)*O,w=Math.sin(M)*(r?r/2:O),i.moveTo(n-_,s-d),i.lineTo(n+_,s+d),i.moveTo(n+w,s-u),i.lineTo(n-w,s+u);break;case"star":_=Math.cos(M)*(r?r/2:O),u=Math.cos(M)*O,d=Math.sin(M)*O,w=Math.sin(M)*(r?r/2:O),i.moveTo(n-_,s-d),i.lineTo(n+_,s+d),i.moveTo(n+w,s-u),i.lineTo(n-w,s+u),M+=nr,_=Math.cos(M)*(r?r/2:O),u=Math.cos(M)*O,d=Math.sin(M)*O,w=Math.sin(M)*(r?r/2:O),i.moveTo(n-_,s-d),i.lineTo(n+_,s+d),i.moveTo(n+w,s-u),i.lineTo(n-w,s+u);break;case"line":u=r?r/2:Math.cos(M)*O,d=Math.sin(M)*O,i.moveTo(n-u,s-d),i.lineTo(n+u,s+d);break;case"dash":i.moveTo(n,s),i.lineTo(n+Math.cos(M)*(r?r/2:O),s+Math.sin(M)*O);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function Ta(i,t,n){return n=n||.5,!t||i&&i.x>t.left-n&&i.x<t.right+n&&i.y>t.top-n&&i.y<t.bottom+n}function ed(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function nd(i){i.restore()}function b1(i,t,n,s,r){if(!t)return i.lineTo(n.x,n.y);if(r==="middle"){const l=(t.x+n.x)/2;i.lineTo(l,t.y),i.lineTo(l,n.y)}else r==="after"!=!!s?i.lineTo(t.x,n.y):i.lineTo(n.x,t.y);i.lineTo(n.x,n.y)}function x1(i,t,n,s){if(!t)return i.lineTo(n.x,n.y);i.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function _1(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),pe(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function S1(i,t,n,s,r){if(r.strikethrough||r.underline){const l=i.measureText(s),u=t-l.actualBoundingBoxLeft,d=t+l.actualBoundingBoxRight,f=n-l.actualBoundingBoxAscent,g=n+l.actualBoundingBoxDescent,b=r.strikethrough?(f+g)/2:g;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(u,b),i.lineTo(d,b),i.stroke()}}function w1(i,t){const n=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=n}function hr(i,t,n,s,r,l={}){const u=ze(t)?t:[t],d=l.strokeWidth>0&&l.strokeColor!=="";let f,g;for(i.save(),i.font=r.string,_1(i,l),f=0;f<u.length;++f)g=u[f],l.backdrop&&w1(i,l.backdrop),d&&(l.strokeColor&&(i.strokeStyle=l.strokeColor),pe(l.strokeWidth)||(i.lineWidth=l.strokeWidth),i.strokeText(g,n,s,l.maxWidth)),i.fillText(g,n,s,l.maxWidth),S1(i,n,s,g,l),s+=Number(r.lineHeight);i.restore()}function ac(i,t){const{x:n,y:s,w:r,h:l,radius:u}=t;i.arc(n+u.topLeft,s+u.topLeft,u.topLeft,1.5*me,me,!0),i.lineTo(n,s+l-u.bottomLeft),i.arc(n+u.bottomLeft,s+l-u.bottomLeft,u.bottomLeft,me,Qe,!0),i.lineTo(n+r-u.bottomRight,s+l),i.arc(n+r-u.bottomRight,s+l-u.bottomRight,u.bottomRight,Qe,0,!0),i.lineTo(n+r,s+u.topRight),i.arc(n+r-u.topRight,s+u.topRight,u.topRight,0,-Qe,!0),i.lineTo(n+u.topLeft,s)}const E1=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,A1=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function T1(i,t){const n=(""+i).match(E1);if(!n||n[1]==="normal")return t*1.2;switch(i=+n[2],n[3]){case"px":return i;case"%":i/=100;break}return t*i}const D1=i=>+i||0;function ep(i,t){const n={},s=ue(t),r=s?Object.keys(t):t,l=ue(i)?s?u=>ie(i[u],i[t[u]]):u=>i[u]:()=>i;for(const u of r)n[u]=D1(l(u));return n}function Fb(i){return ep(i,{top:"y",right:"x",bottom:"y",left:"x"})}function cr(i){return ep(i,["topLeft","topRight","bottomLeft","bottomRight"])}function Dn(i){const t=Fb(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function an(i,t){i=i||{},t=t||Fe.font;let n=ie(i.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=ie(i.style,t.style);s&&!(""+s).match(A1)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:ie(i.family,t.family),lineHeight:T1(ie(i.lineHeight,t.lineHeight),n),size:n,style:s,weight:ie(i.weight,t.weight),string:""};return r.string=y1(r),r}function Du(i,t,n,s){let r,l,u;for(r=0,l=i.length;r<l;++r)if(u=i[r],u!==void 0&&u!==void 0)return u}function C1(i,t,n){const{min:s,max:r}=i,l=Lb(t,(r-s)/2),u=(d,f)=>n&&d===0?0:d+f;return{min:u(s,-Math.abs(l)),max:u(r,l)}}function Ts(i,t){return Object.assign(Object.create(i),t)}function np(i,t=[""],n,s,r=()=>i[0]){const l=n||i;typeof s>"u"&&(s=Ib("_fallback",i));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:l,_fallback:s,_getTarget:r,override:d=>np([d,...i],t,l,s)};return new Proxy(u,{deleteProperty(d,f){return delete d[f],delete d._keys,delete i[0][f],!0},get(d,f){return Xb(d,f,()=>z1(f,t,i,d))},getOwnPropertyDescriptor(d,f){return Reflect.getOwnPropertyDescriptor(d._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(d,f){return Uy(d).includes(f)},ownKeys(d){return Uy(d)},set(d,f,g){const b=d._storage||(d._storage=r());return d[f]=b[f]=g,delete d._keys,!0}})}function mo(i,t,n,s){const r={_cacheable:!1,_proxy:i,_context:t,_subProxy:n,_stack:new Set,_descriptors:Yb(i,s),setContext:l=>mo(i,l,n,s),override:l=>mo(i.override(l),t,n,s)};return new Proxy(r,{deleteProperty(l,u){return delete l[u],delete i[u],!0},get(l,u,d){return Xb(l,u,()=>M1(l,u,d))},getOwnPropertyDescriptor(l,u){return l._descriptors.allKeys?Reflect.has(i,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,u)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(l,u){return Reflect.has(i,u)},ownKeys(){return Reflect.ownKeys(i)},set(l,u,d){return i[u]=d,delete l[u],!0}})}function Yb(i,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:r=t.allKeys}=i;return{allKeys:r,scriptable:n,indexable:s,isScriptable:Es(n)?n:()=>n,isIndexable:Es(s)?s:()=>s}}const j1=(i,t)=>i?i+Gh(t):t,ip=(i,t)=>ue(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Xb(i,t,n){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];const s=n();return i[t]=s,s}function M1(i,t,n){const{_proxy:s,_context:r,_subProxy:l,_descriptors:u}=i;let d=s[t];return Es(d)&&u.isScriptable(t)&&(d=O1(t,d,i,n)),ze(d)&&d.length&&(d=k1(t,d,i,u.isIndexable)),ip(t,d)&&(d=mo(d,r,l&&l[t],u)),d}function O1(i,t,n,s){const{_proxy:r,_context:l,_subProxy:u,_stack:d}=n;if(d.has(i))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+i);d.add(i);let f=t(l,u||s);return d.delete(i),ip(i,f)&&(f=ap(r._scopes,r,i,f)),f}function k1(i,t,n,s){const{_proxy:r,_context:l,_subProxy:u,_descriptors:d}=n;if(typeof l.index<"u"&&s(i))return t[l.index%t.length];if(ue(t[0])){const f=t,g=r._scopes.filter(b=>b!==f);t=[];for(const b of f){const _=ap(g,r,i,b);t.push(mo(_,l,u&&u[i],d))}}return t}function Wb(i,t,n){return Es(i)?i(t,n):i}const R1=(i,t)=>i===!0?t:typeof i=="string"?ws(t,i):void 0;function N1(i,t,n,s,r){for(const l of t){const u=R1(n,l);if(u){i.add(u);const d=Wb(u._fallback,n,r);if(typeof d<"u"&&d!==n&&d!==s)return d}else if(u===!1&&typeof s<"u"&&n!==s)return null}return!1}function ap(i,t,n,s){const r=t._rootScopes,l=Wb(t._fallback,n,s),u=[...i,...r],d=new Set;d.add(s);let f=Hy(d,u,n,l||n,s);return f===null||typeof l<"u"&&l!==n&&(f=Hy(d,u,l,f,s),f===null)?!1:np(Array.from(d),[""],r,l,()=>L1(t,n,s))}function Hy(i,t,n,s,r){for(;n;)n=N1(i,t,n,s,r);return n}function L1(i,t,n){const s=i._getTarget();t in s||(s[t]={});const r=s[t];return ze(r)&&ue(n)?n:r||{}}function z1(i,t,n,s){let r;for(const l of t)if(r=Ib(j1(l,i),n),typeof r<"u")return ip(i,r)?ap(n,s,i,r):r}function Ib(i,t){for(const n of t){if(!n)continue;const s=n[i];if(typeof s<"u")return s}}function Uy(i){let t=i._keys;return t||(t=i._keys=B1(i._scopes)),t}function B1(i){const t=new Set;for(const n of i)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(s);return Array.from(t)}function Gb(i,t,n,s){const{iScale:r}=i,{key:l="r"}=this._parsing,u=new Array(s);let d,f,g,b;for(d=0,f=s;d<f;++d)g=d+n,b=t[g],u[d]={r:r.parse(ws(b,l),g)};return u}const P1=Number.EPSILON||1e-14,yo=(i,t)=>t<i.length&&!i[t].skip&&i[t],Qb=i=>i==="x"?"y":"x";function H1(i,t,n,s){const r=i.skip?t:i,l=t,u=n.skip?t:n,d=Ch(l,r),f=Ch(u,l);let g=d/(d+f),b=f/(d+f);g=isNaN(g)?0:g,b=isNaN(b)?0:b;const _=s*g,w=s*b;return{previous:{x:l.x-_*(u.x-r.x),y:l.y-_*(u.y-r.y)},next:{x:l.x+w*(u.x-r.x),y:l.y+w*(u.y-r.y)}}}function U1(i,t,n){const s=i.length;let r,l,u,d,f,g=yo(i,0);for(let b=0;b<s-1;++b)if(f=g,g=yo(i,b+1),!(!f||!g)){if(Il(t[b],0,P1)){n[b]=n[b+1]=0;continue}r=n[b]/t[b],l=n[b+1]/t[b],d=Math.pow(r,2)+Math.pow(l,2),!(d<=9)&&(u=3/Math.sqrt(d),n[b]=r*u*t[b],n[b+1]=l*u*t[b])}}function q1(i,t,n="x"){const s=Qb(n),r=i.length;let l,u,d,f=yo(i,0);for(let g=0;g<r;++g){if(u=d,d=f,f=yo(i,g+1),!d)continue;const b=d[n],_=d[s];u&&(l=(b-u[n])/3,d[`cp1${n}`]=b-l,d[`cp1${s}`]=_-l*t[g]),f&&(l=(f[n]-b)/3,d[`cp2${n}`]=b+l,d[`cp2${s}`]=_+l*t[g])}}function K1(i,t="x"){const n=Qb(t),s=i.length,r=Array(s).fill(0),l=Array(s);let u,d,f,g=yo(i,0);for(u=0;u<s;++u)if(d=f,f=g,g=yo(i,u+1),!!f){if(g){const b=g[t]-f[t];r[u]=b!==0?(g[n]-f[n])/b:0}l[u]=d?g?Ki(r[u-1])!==Ki(r[u])?0:(r[u-1]+r[u])/2:r[u-1]:r[u]}U1(i,r,l),q1(i,l,t)}function Cu(i,t,n){return Math.max(Math.min(i,n),t)}function V1(i,t){let n,s,r,l,u,d=Ta(i[0],t);for(n=0,s=i.length;n<s;++n)u=l,l=d,d=n<s-1&&Ta(i[n+1],t),l&&(r=i[n],u&&(r.cp1x=Cu(r.cp1x,t.left,t.right),r.cp1y=Cu(r.cp1y,t.top,t.bottom)),d&&(r.cp2x=Cu(r.cp2x,t.left,t.right),r.cp2y=Cu(r.cp2y,t.top,t.bottom)))}function F1(i,t,n,s,r){let l,u,d,f;if(t.spanGaps&&(i=i.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")K1(i,r);else{let g=s?i[i.length-1]:i[0];for(l=0,u=i.length;l<u;++l)d=i[l],f=H1(g,d,i[Math.min(l+1,u-(s?0:1))%u],t.tension),d.cp1x=f.previous.x,d.cp1y=f.previous.y,d.cp2x=f.next.x,d.cp2y=f.next.y,g=d}t.capBezierPoints&&V1(i,n)}function sp(){return typeof window<"u"&&typeof document<"u"}function rp(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Gu(i,t,n){let s;return typeof i=="string"?(s=parseInt(i,10),i.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=i,s}const id=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function Y1(i,t){return id(i).getPropertyValue(t)}const X1=["top","right","bottom","left"];function ur(i,t,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const l=X1[r];s[l]=parseFloat(i[t+"-"+l+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const W1=(i,t,n)=>(i>0||t>0)&&(!n||!n.shadowRoot);function I1(i,t){const n=i.touches,s=n&&n.length?n[0]:i,{offsetX:r,offsetY:l}=s;let u=!1,d,f;if(W1(r,l,i.target))d=r,f=l;else{const g=t.getBoundingClientRect();d=s.clientX-g.left,f=s.clientY-g.top,u=!0}return{x:d,y:f,box:u}}function rr(i,t){if("native"in i)return i;const{canvas:n,currentDevicePixelRatio:s}=t,r=id(n),l=r.boxSizing==="border-box",u=ur(r,"padding"),d=ur(r,"border","width"),{x:f,y:g,box:b}=I1(i,n),_=u.left+(b&&d.left),w=u.top+(b&&d.top);let{width:T,height:C}=t;return l&&(T-=u.width+d.width,C-=u.height+d.height),{x:Math.round((f-_)/T*n.width/s),y:Math.round((g-w)/C*n.height/s)}}function G1(i,t,n){let s,r;if(t===void 0||n===void 0){const l=i&&rp(i);if(!l)t=i.clientWidth,n=i.clientHeight;else{const u=l.getBoundingClientRect(),d=id(l),f=ur(d,"border","width"),g=ur(d,"padding");t=u.width-g.width-f.width,n=u.height-g.height-f.height,s=Gu(d.maxWidth,l,"clientWidth"),r=Gu(d.maxHeight,l,"clientHeight")}}return{width:t,height:n,maxWidth:s||Wu,maxHeight:r||Wu}}const ju=i=>Math.round(i*10)/10;function Q1(i,t,n,s){const r=id(i),l=ur(r,"margin"),u=Gu(r.maxWidth,i,"clientWidth")||Wu,d=Gu(r.maxHeight,i,"clientHeight")||Wu,f=G1(i,t,n);let{width:g,height:b}=f;if(r.boxSizing==="content-box"){const w=ur(r,"border","width"),T=ur(r,"padding");g-=T.width+w.width,b-=T.height+w.height}return g=Math.max(0,g-l.width),b=Math.max(0,s?g/s:b-l.height),g=ju(Math.min(g,u,f.maxWidth)),b=ju(Math.min(b,d,f.maxHeight)),g&&!b&&(b=ju(g/2)),(t!==void 0||n!==void 0)&&s&&f.height&&b>f.height&&(b=f.height,g=ju(Math.floor(b*s))),{width:g,height:b}}function qy(i,t,n){const s=t||1,r=Math.floor(i.height*s),l=Math.floor(i.width*s);i.height=Math.floor(i.height),i.width=Math.floor(i.width);const u=i.canvas;return u.style&&(n||!u.style.height&&!u.style.width)&&(u.style.height=`${i.height}px`,u.style.width=`${i.width}px`),i.currentDevicePixelRatio!==s||u.height!==r||u.width!==l?(i.currentDevicePixelRatio=s,u.height=r,u.width=l,i.ctx.setTransform(s,0,0,s,0,0),!0):!1}const Z1=function(){let i=!1;try{const t={get passive(){return i=!0,!1}};sp()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i}();function Ky(i,t){const n=Y1(i,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function or(i,t,n,s){return{x:i.x+n*(t.x-i.x),y:i.y+n*(t.y-i.y)}}function $1(i,t,n,s){return{x:i.x+n*(t.x-i.x),y:s==="middle"?n<.5?i.y:t.y:s==="after"?n<1?i.y:t.y:n>0?t.y:i.y}}function J1(i,t,n,s){const r={x:i.cp2x,y:i.cp2y},l={x:t.cp1x,y:t.cp1y},u=or(i,r,n),d=or(r,l,n),f=or(l,t,n),g=or(u,d,n),b=or(d,f,n);return or(g,b,n)}const tE=function(i,t){return{x(n){return i+i+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},eE=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function go(i,t,n){return i?tE(t,n):eE()}function Zb(i,t){let n,s;(t==="ltr"||t==="rtl")&&(n=i.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),i.prevTextDirection=s)}function $b(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function Jb(i){return i==="angle"?{between:ic,compare:Jw,normalize:An}:{between:Aa,compare:(t,n)=>t-n,normalize:t=>t}}function Vy({start:i,end:t,count:n,loop:s,style:r}){return{start:i%n,end:t%n,loop:s&&(t-i+1)%n===0,style:r}}function nE(i,t,n){const{property:s,start:r,end:l}=n,{between:u,normalize:d}=Jb(s),f=t.length;let{start:g,end:b,loop:_}=i,w,T;if(_){for(g+=f,b+=f,w=0,T=f;w<T&&u(d(t[g%f][s]),r,l);++w)g--,b--;g%=f,b%=f}return b<g&&(b+=f),{start:g,end:b,loop:_,style:i.style}}function tx(i,t,n){if(!n)return[i];const{property:s,start:r,end:l}=n,u=t.length,{compare:d,between:f,normalize:g}=Jb(s),{start:b,end:_,loop:w,style:T}=nE(i,t,n),C=[];let O=!1,M=null,k,G,ot;const H=()=>f(r,ot,k)&&d(r,ot)!==0,$=()=>d(l,k)===0||f(l,ot,k),J=()=>O||H(),ht=()=>!O||$();for(let ft=b,mt=b;ft<=_;++ft)G=t[ft%u],!G.skip&&(k=g(G[s]),k!==ot&&(O=f(k,r,l),M===null&&J()&&(M=d(k,r)===0?ft:mt),M!==null&&ht()&&(C.push(Vy({start:M,end:ft,loop:w,count:u,style:T})),M=null),mt=ft,ot=k));return M!==null&&C.push(Vy({start:M,end:_,loop:w,count:u,style:T})),C}function ex(i,t){const n=[],s=i.segments;for(let r=0;r<s.length;r++){const l=tx(s[r],i.points,t);l.length&&n.push(...l)}return n}function iE(i,t,n,s){let r=0,l=t-1;if(n&&!s)for(;r<t&&!i[r].skip;)r++;for(;r<t&&i[r].skip;)r++;for(r%=t,n&&(l+=r);l>r&&i[l%t].skip;)l--;return l%=t,{start:r,end:l}}function aE(i,t,n,s){const r=i.length,l=[];let u=t,d=i[t],f;for(f=t+1;f<=n;++f){const g=i[f%r];g.skip||g.stop?d.skip||(s=!1,l.push({start:t%r,end:(f-1)%r,loop:s}),t=u=g.stop?f:null):(u=f,d.skip&&(t=f)),d=g}return u!==null&&l.push({start:t%r,end:u%r,loop:s}),l}function sE(i,t){const n=i.points,s=i.options.spanGaps,r=n.length;if(!r)return[];const l=!!i._loop,{start:u,end:d}=iE(n,r,l,s);if(s===!0)return Fy(i,[{start:u,end:d,loop:l}],n,t);const f=d<u?d+r:d,g=!!i._fullLoop&&u===0&&d===r-1;return Fy(i,aE(n,u,f,g),n,t)}function Fy(i,t,n,s){return!s||!s.setContext||!n?t:rE(i,t,n,s)}function rE(i,t,n,s){const r=i._chart.getContext(),l=Yy(i.options),{_datasetIndex:u,options:{spanGaps:d}}=i,f=n.length,g=[];let b=l,_=t[0].start,w=_;function T(C,O,M,k){const G=d?-1:1;if(C!==O){for(C+=f;n[C%f].skip;)C-=G;for(;n[O%f].skip;)O+=G;C%f!==O%f&&(g.push({start:C%f,end:O%f,loop:M,style:k}),b=k,_=O%f)}}for(const C of t){_=d?_:C.start;let O=n[_%f],M;for(w=_+1;w<=C.end;w++){const k=n[w%f];M=Yy(s.setContext(Ts(r,{type:"segment",p0:O,p1:k,p0DataIndex:(w-1)%f,p1DataIndex:w%f,datasetIndex:u}))),oE(M,b)&&T(_,w-1,C.loop,b),O=k,b=M}_<w-1&&T(_,w-1,C.loop,b)}return g}function Yy(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function oE(i,t){if(!t)return!1;const n=[],s=function(r,l){return Jh(l)?(n.includes(l)||n.push(l),n.indexOf(l)):l};return JSON.stringify(i,s)!==JSON.stringify(t,s)}function Mu(i,t,n){return i.options.clip?i[n]:t[n]}function lE(i,t){const{xScale:n,yScale:s}=i;return n&&s?{left:Mu(n,t,"left"),right:Mu(n,t,"right"),top:Mu(s,t,"top"),bottom:Mu(s,t,"bottom")}:t}function nx(i,t){const n=t._clip;if(n.disabled)return!1;const s=lE(t,i.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?i.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?i.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class cE{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,r){const l=n.listeners[r],u=n.duration;l.forEach(d=>d({chart:t,initial:n.initial,numSteps:u,currentStep:Math.min(s-n.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=qb.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const l=s.items;let u=l.length-1,d=!1,f;for(;u>=0;--u)f=l[u],f._active?(f._total>s.duration&&(s.duration=f._total),f.tick(t),d=!0):(l[u]=l[l.length-1],l.pop());d&&(r.draw(),this._notify(r,s,t,"progress")),l.length||(s.running=!1,this._notify(r,s,t,"complete"),s.initial=!1),n+=l.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Sa=new cE;const Xy="transparent",uE={boolean(i,t,n){return n>.5?t:i},color(i,t,n){const s=zy(i||Xy),r=s.valid&&zy(t||Xy);return r&&r.valid?r.mix(s,n).hexString():t},number(i,t,n){return i+(t-i)*n}};class dE{constructor(t,n,s,r){const l=n[s];r=Du([t.to,r,l,t.from]);const u=Du([t.from,l,r]);this._active=!0,this._fn=t.fn||uE[t.type||typeof u],this._easing=Gl[t.easing]||Gl.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=u,this._to=r,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],l=s-this._start,u=this._duration-l;this._start=s,this._duration=Math.floor(Math.max(u,t.duration)),this._total+=l,this._loop=!!t.loop,this._to=Du([t.to,n,r,t.from]),this._from=Du([t.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,r=this._prop,l=this._from,u=this._loop,d=this._to;let f;if(this._active=l!==d&&(u||n<s),!this._active){this._target[r]=d,this._notify(!0);return}if(n<0){this._target[r]=l;return}f=n/s%2,f=u&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(l,d,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class ix{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ue(t))return;const n=Object.keys(Fe.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const l=t[r];if(!ue(l))return;const u={};for(const d of n)u[d]=l[d];(ze(l.properties)&&l.properties||[r]).forEach(d=>{(d===r||!s.has(d))&&s.set(d,u)})})}_animateOptions(t,n){const s=n.options,r=hE(t,s);if(!r)return[];const l=this._createAnimations(r,s);return s.$shared&&fE(t.options.$animations,s).then(()=>{t.options=s},()=>{}),l}_createAnimations(t,n){const s=this._properties,r=[],l=t.$animations||(t.$animations={}),u=Object.keys(n),d=Date.now();let f;for(f=u.length-1;f>=0;--f){const g=u[f];if(g.charAt(0)==="$")continue;if(g==="options"){r.push(...this._animateOptions(t,n));continue}const b=n[g];let _=l[g];const w=s.get(g);if(_)if(w&&_.active()){_.update(w,b,d);continue}else _.cancel();if(!w||!w.duration){t[g]=b;continue}l[g]=_=new dE(w,t,g,b),r.push(_)}return r}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return Sa.add(this._chart,s),!0}}function fE(i,t){const n=[],s=Object.keys(t);for(let r=0;r<s.length;r++){const l=i[s[r]];l&&l.active()&&n.push(l.wait())}return Promise.all(n)}function hE(i,t){if(!t)return;let n=i.options;if(!n){i.options=t;return}return n.$shared&&(i.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Wy(i,t){const n=i&&i.options||{},s=n.reverse,r=n.min===void 0?t:0,l=n.max===void 0?t:0;return{start:s?l:r,end:s?r:l}}function pE(i,t,n){if(n===!1)return!1;const s=Wy(i,n),r=Wy(t,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function gE(i){let t,n,s,r;return ue(i)?(t=i.top,n=i.right,s=i.bottom,r=i.left):t=n=s=r=i,{top:t,right:n,bottom:s,left:r,disabled:i===!1}}function ax(i,t){const n=[],s=i._getSortedDatasetMetas(t);let r,l;for(r=0,l=s.length;r<l;++r)n.push(s[r].index);return n}function Iy(i,t,n,s={}){const r=i.keys,l=s.mode==="single";let u,d,f,g;if(t===null)return;let b=!1;for(u=0,d=r.length;u<d;++u){if(f=+r[u],f===n){if(b=!0,s.all)continue;break}g=i.values[f],dn(g)&&(l||t===0||Ki(t)===Ki(g))&&(t+=g)}return!b&&!s.all?0:t}function mE(i,t){const{iScale:n,vScale:s}=t,r=n.axis==="x"?"x":"y",l=s.axis==="x"?"x":"y",u=Object.keys(i),d=new Array(u.length);let f,g,b;for(f=0,g=u.length;f<g;++f)b=u[f],d[f]={[r]:b,[l]:i[b]};return d}function uh(i,t){const n=i&&i.options.stacked;return n||n===void 0&&t.stack!==void 0}function yE(i,t,n){return`${i.id}.${t.id}.${n.stack||n.type}`}function vE(i){const{min:t,max:n,minDefined:s,maxDefined:r}=i.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function bE(i,t,n){const s=i[t]||(i[t]={});return s[n]||(s[n]={})}function Gy(i,t,n,s){for(const r of t.getMatchingVisibleMetas(s).reverse()){const l=i[r.index];if(n&&l>0||!n&&l<0)return r.index}return null}function Qy(i,t){const{chart:n,_cachedMeta:s}=i,r=n._stacks||(n._stacks={}),{iScale:l,vScale:u,index:d}=s,f=l.axis,g=u.axis,b=yE(l,u,s),_=t.length;let w;for(let T=0;T<_;++T){const C=t[T],{[f]:O,[g]:M}=C,k=C._stacks||(C._stacks={});w=k[g]=bE(r,b,O),w[d]=M,w._top=Gy(w,u,!0,s.type),w._bottom=Gy(w,u,!1,s.type);const G=w._visualValues||(w._visualValues={});G[d]=M}}function dh(i,t){const n=i.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function xE(i,t){return Ts(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function _E(i,t,n){return Ts(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Pl(i,t){const n=i.controller.index,s=i.vScale&&i.vScale.axis;if(s){t=t||i._parsed;for(const r of t){const l=r._stacks;if(!l||l[s]===void 0||l[s][n]===void 0)return;delete l[s][n],l[s]._visualValues!==void 0&&l[s]._visualValues[n]!==void 0&&delete l[s]._visualValues[n]}}}const fh=i=>i==="reset"||i==="none",Zy=(i,t)=>t?i:Object.assign({},i),SE=(i,t,n)=>i&&!t.hidden&&t._stacked&&{keys:ax(n,!0),values:null};class _o{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=uh(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Pl(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(_,w,T,C)=>_==="x"?w:_==="r"?C:T,l=n.xAxisID=ie(s.xAxisID,dh(t,"x")),u=n.yAxisID=ie(s.yAxisID,dh(t,"y")),d=n.rAxisID=ie(s.rAxisID,dh(t,"r")),f=n.indexAxis,g=n.iAxisID=r(f,l,u,d),b=n.vAxisID=r(f,u,l,d);n.xScale=this.getScaleForId(l),n.yScale=this.getScaleForId(u),n.rScale=this.getScaleForId(d),n.iScale=this.getScaleForId(g),n.vScale=this.getScaleForId(b)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Ry(this._data,this),t._stacked&&Pl(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(ue(n)){const r=this._cachedMeta;this._data=mE(n,r)}else if(s!==n){if(s){Ry(s,this);const r=this._cachedMeta;Pl(r),r._parsed=[]}n&&Object.isExtensible(n)&&i1(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const l=n._stacked;n._stacked=uh(n.vScale,n),n.stack!==s.stack&&(r=!0,Pl(n),n.stack=s.stack),this._resyncElements(t),(r||l!==n._stacked)&&(Qy(this,n._parsed),n._stacked=uh(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:r}=this,{iScale:l,_stacked:u}=s,d=l.axis;let f=t===0&&n===r.length?!0:s._sorted,g=t>0&&s._parsed[t-1],b,_,w;if(this._parsing===!1)s._parsed=r,s._sorted=!0,w=r;else{ze(r[t])?w=this.parseArrayData(s,r,t,n):ue(r[t])?w=this.parseObjectData(s,r,t,n):w=this.parsePrimitiveData(s,r,t,n);const T=()=>_[d]===null||g&&_[d]<g[d];for(b=0;b<n;++b)s._parsed[b+t]=_=w[b],f&&(T()&&(f=!1),g=_);s._sorted=f}u&&Qy(this,w)}parsePrimitiveData(t,n,s,r){const{iScale:l,vScale:u}=t,d=l.axis,f=u.axis,g=l.getLabels(),b=l===u,_=new Array(r);let w,T,C;for(w=0,T=r;w<T;++w)C=w+s,_[w]={[d]:b||l.parse(g[C],C),[f]:u.parse(n[C],C)};return _}parseArrayData(t,n,s,r){const{xScale:l,yScale:u}=t,d=new Array(r);let f,g,b,_;for(f=0,g=r;f<g;++f)b=f+s,_=n[b],d[f]={x:l.parse(_[0],b),y:u.parse(_[1],b)};return d}parseObjectData(t,n,s,r){const{xScale:l,yScale:u}=t,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,g=new Array(r);let b,_,w,T;for(b=0,_=r;b<_;++b)w=b+s,T=n[w],g[b]={x:l.parse(ws(T,d),w),y:u.parse(ws(T,f),w)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const r=this.chart,l=this._cachedMeta,u=n[t.axis],d={keys:ax(r,!0),values:n._stacks[t.axis]._visualValues};return Iy(d,u,l.index,{mode:s})}updateRangeFromParsed(t,n,s,r){const l=s[n.axis];let u=l===null?NaN:l;const d=r&&s._stacks[n.axis];r&&d&&(r.values=d,u=Iy(r,l,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,n){const s=this._cachedMeta,r=s._parsed,l=s._sorted&&t===s.iScale,u=r.length,d=this._getOtherScale(t),f=SE(n,s,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:b,max:_}=vE(d);let w,T;function C(){T=r[w];const O=T[d.axis];return!dn(T[t.axis])||b>O||_<O}for(w=0;w<u&&!(!C()&&(this.updateRangeFromParsed(g,t,T,f),l));++w);if(l){for(w=u-1;w>=0;--w)if(!C()){this.updateRangeFromParsed(g,t,T,f);break}}return g}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let r,l,u;for(r=0,l=n.length;r<l;++r)u=n[r][t.axis],dn(u)&&s.push(u);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,r=n.vScale,l=this.getParsed(t);return{label:s?""+s.getLabelForValue(l[s.axis]):"",value:r?""+r.getLabelForValue(l[r.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=gE(ie(this.options.clip,pE(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],l=n.chartArea,u=[],d=this._drawStart||0,f=this._drawCount||r.length-d,g=this.options.drawActiveElementsOnTop;let b;for(s.dataset&&s.dataset.draw(t,l,d,f),b=d;b<d+f;++b){const _=r[b];_.hidden||(_.active&&g?u.push(_):_.draw(t,l))}for(b=0;b<u.length;++b)u[b].draw(t,l)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const r=this.getDataset();let l;if(t>=0&&t<this._cachedMeta.data.length){const u=this._cachedMeta.data[t];l=u.$context||(u.$context=_E(this.getContext(),t,u)),l.parsed=this.getParsed(t),l.raw=r.data[t],l.index=l.dataIndex=t}else l=this.$context||(this.$context=xE(this.chart.getContext(),this.index)),l.dataset=r,l.index=l.datasetIndex=this.index;return l.active=!!n,l.mode=s,l}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const r=n==="active",l=this._cachedDataOpts,u=t+"-"+n,d=l[u],f=this.enableOptionSharing&&ec(s);if(d)return Zy(d,f);const g=this.chart.config,b=g.datasetElementScopeKeys(this._type,t),_=r?[`${t}Hover`,"hover",t,""]:[t,""],w=g.getOptionScopes(this.getDataset(),b),T=Object.keys(Fe.elements[t]),C=()=>this.getContext(s,r,n),O=g.resolveNamedOptions(w,T,C,_);return O.$shared&&(O.$shared=f,l[u]=Object.freeze(Zy(O,f))),O}_resolveAnimations(t,n,s){const r=this.chart,l=this._cachedDataOpts,u=`animation-${n}`,d=l[u];if(d)return d;let f;if(r.options.animation!==!1){const b=this.chart.config,_=b.datasetAnimationScopeKeys(this._type,n),w=b.getOptionScopes(this.getDataset(),_);f=b.createResolver(w,this.getContext(t,s,n))}const g=new ix(r,f&&f.animations);return f&&f._cacheable&&(l[u]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||fh(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),r=this._sharedOptions,l=this.getSharedOptions(s),u=this.includeOptions(n,l)||l!==r;return this.updateSharedOptions(l,n,s),{sharedOptions:l,includeOptions:u}}updateElement(t,n,s,r){fh(r)?Object.assign(t,s):this._resolveAnimations(n,r).update(t,s)}updateSharedOptions(t,n,s){t&&!fh(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,r){t.active=r;const l=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(t,{options:!r&&this.getSharedOptions(l)||l})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[d,f,g]of this._syncList)this[d](f,g);this._syncList=[];const r=s.length,l=n.length,u=Math.min(l,r);u&&this.parse(0,u),l>r?this._insertElements(r,l-r,t):l<r&&this._removeElements(l,r-l)}_insertElements(t,n,s=!0){const r=this._cachedMeta,l=r.data,u=t+n;let d;const f=g=>{for(g.length+=n,d=g.length-1;d>=u;d--)g[d]=g[d-n]};for(f(l),d=t;d<u;++d)l[d]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,n),s&&this.updateElements(l,t,n,"reset")}updateElements(t,n,s,r){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(t,n);s._stacked&&Pl(s,r)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,r]=t;this[n](s,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function wE(i,t){if(!i._cache.$bar){const n=i.getMatchingVisibleMetas(t);let s=[];for(let r=0,l=n.length;r<l;r++)s=s.concat(n[r].controller.getAllParsedValues(i));i._cache.$bar=Ub(s.sort((r,l)=>r-l))}return i._cache.$bar}function EE(i){const t=i.iScale,n=wE(t,i.type);let s=t._length,r,l,u,d;const f=()=>{u===32767||u===-32768||(ec(d)&&(s=Math.min(s,Math.abs(u-d)||s)),d=u)};for(r=0,l=n.length;r<l;++r)u=t.getPixelForValue(n[r]),f();for(d=void 0,r=0,l=t.ticks.length;r<l;++r)u=t.getPixelForTick(r),f();return s}function AE(i,t,n,s){const r=n.barThickness;let l,u;return pe(r)?(l=t.min*n.categoryPercentage,u=n.barPercentage):(l=r*s,u=1),{chunk:l/s,ratio:u,start:t.pixels[i]-l/2}}function TE(i,t,n,s){const r=t.pixels,l=r[i];let u=i>0?r[i-1]:null,d=i<r.length-1?r[i+1]:null;const f=n.categoryPercentage;u===null&&(u=l-(d===null?t.end-t.start:d-l)),d===null&&(d=l+l-u);const g=l-(l-Math.min(u,d))/2*f;return{chunk:Math.abs(d-u)/2*f/s,ratio:n.barPercentage,start:g}}function DE(i,t,n,s){const r=n.parse(i[0],s),l=n.parse(i[1],s),u=Math.min(r,l),d=Math.max(r,l);let f=u,g=d;Math.abs(u)>Math.abs(d)&&(f=d,g=u),t[n.axis]=g,t._custom={barStart:f,barEnd:g,start:r,end:l,min:u,max:d}}function sx(i,t,n,s){return ze(i)?DE(i,t,n,s):t[n.axis]=n.parse(i,s),t}function $y(i,t,n,s){const r=i.iScale,l=i.vScale,u=r.getLabels(),d=r===l,f=[];let g,b,_,w;for(g=n,b=n+s;g<b;++g)w=t[g],_={},_[r.axis]=d||r.parse(u[g],g),f.push(sx(w,_,l,g));return f}function hh(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function CE(i,t,n){return i!==0?Ki(i):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function jE(i){let t,n,s,r,l;return i.horizontal?(t=i.base>i.x,n="left",s="right"):(t=i.base<i.y,n="bottom",s="top"),t?(r="end",l="start"):(r="start",l="end"),{start:n,end:s,reverse:t,top:r,bottom:l}}function ME(i,t,n,s){let r=t.borderSkipped;const l={};if(!r){i.borderSkipped=l;return}if(r===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:u,end:d,reverse:f,top:g,bottom:b}=jE(i);r==="middle"&&n&&(i.enableBorderRadius=!0,(n._top||0)===s?r=g:(n._bottom||0)===s?r=b:(l[Jy(b,u,d,f)]=!0,r=g)),l[Jy(r,u,d,f)]=!0,i.borderSkipped=l}function Jy(i,t,n,s){return s?(i=OE(i,t,n),i=tv(i,n,t)):i=tv(i,t,n),i}function OE(i,t,n){return i===t?n:i===n?t:i}function tv(i,t,n){return i==="start"?t:i==="end"?n:i}function kE(i,{inflateAmount:t},n){i.inflateAmount=t==="auto"?n===1?.33:0:t}class RE extends _o{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,s,r){return $y(t,n,s,r)}parseArrayData(t,n,s,r){return $y(t,n,s,r)}parseObjectData(t,n,s,r){const{iScale:l,vScale:u}=t,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,g=l.axis==="x"?d:f,b=u.axis==="x"?d:f,_=[];let w,T,C,O;for(w=s,T=s+r;w<T;++w)O=n[w],C={},C[l.axis]=l.parse(ws(O,g),w),_.push(sx(ws(O,b),C,u,w));return _}updateRangeFromParsed(t,n,s,r){super.updateRangeFromParsed(t,n,s,r);const l=s._custom;l&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,l.min),t.max=Math.max(t.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:s,vScale:r}=n,l=this.getParsed(t),u=l._custom,d=hh(u)?"["+u.start+", "+u.end+"]":""+r.getLabelForValue(l[r.axis]);return{label:""+s.getLabelForValue(l[s.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,s,r){const l=r==="reset",{index:u,_cachedMeta:{vScale:d}}=this,f=d.getBasePixel(),g=d.isHorizontal(),b=this._getRuler(),{sharedOptions:_,includeOptions:w}=this._getSharedOptions(n,r);for(let T=n;T<n+s;T++){const C=this.getParsed(T),O=l||pe(C[d.axis])?{base:f,head:f}:this._calculateBarValuePixels(T),M=this._calculateBarIndexPixels(T,b),k=(C._stacks||{})[d.axis],G={horizontal:g,base:O.base,enableBorderRadius:!k||hh(C._custom)||u===k._top||u===k._bottom,x:g?O.head:M.center,y:g?M.center:O.head,height:g?M.size:Math.abs(O.size),width:g?Math.abs(O.size):M.size};w&&(G.options=_||this.resolveDataElementOptions(T,t[T].active?"active":r));const ot=G.options||t[T].options;ME(G,ot,k,u),kE(G,ot,b.ratio),this.updateElement(t[T],T,G,r)}}_getStacks(t,n){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(b=>b.controller.options.grouped),l=s.options.stacked,u=[],d=this._cachedMeta.controller.getParsed(n),f=d&&d[s.axis],g=b=>{const _=b._parsed.find(T=>T[s.axis]===f),w=_&&_[b.vScale.axis];if(pe(w)||isNaN(w))return!0};for(const b of r)if(!(n!==void 0&&g(b))&&((l===!1||u.indexOf(b.stack)===-1||l===void 0&&b.stack===void 0)&&u.push(b.stack),b.index===t))break;return u.length||u.push(void 0),u}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[ie(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,s){const r=this._getStacks(t,s),l=n!==void 0?r.indexOf(n):-1;return l===-1?r.length-1:l}_getRuler(){const t=this.options,n=this._cachedMeta,s=n.iScale,r=[];let l,u;for(l=0,u=n.data.length;l<u;++l)r.push(s.getPixelForValue(this.getParsed(l)[s.axis],l));const d=t.barThickness;return{min:d||EE(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:d?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:l,minBarLength:u}}=this,d=l||0,f=this.getParsed(t),g=f._custom,b=hh(g);let _=f[n.axis],w=0,T=s?this.applyStack(n,f,s):_,C,O;T!==_&&(w=T-_,T=_),b&&(_=g.barStart,T=g.barEnd-g.barStart,_!==0&&Ki(_)!==Ki(g.barEnd)&&(w=0),w+=_);const M=!pe(l)&&!b?l:w;let k=n.getPixelForValue(M);if(this.chart.getDataVisibility(t)?C=n.getPixelForValue(w+T):C=k,O=C-k,Math.abs(O)<u){O=CE(O,n,d)*u,_===d&&(k-=O/2);const G=n.getPixelForDecimal(0),ot=n.getPixelForDecimal(1),H=Math.min(G,ot),$=Math.max(G,ot);k=Math.max(Math.min(k,$),H),C=k+O,s&&!b&&(f._stacks[n.axis]._visualValues[r]=n.getValueForPixel(C)-n.getValueForPixel(k))}if(k===n.getPixelForValue(d)){const G=Ki(O)*n.getLineWidthForValue(d)/2;k+=G,O-=G}return{size:O,base:k,head:C,center:C+O/2}}_calculateBarIndexPixels(t,n){const s=n.scale,r=this.options,l=r.skipNull,u=ie(r.maxBarThickness,1/0);let d,f;const g=this._getAxisCount();if(n.grouped){const b=l?this._getStackCount(t):n.stackCount,_=r.barThickness==="flex"?TE(t,n,r,b*g):AE(t,n,r,b*g),w=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,T=this._getAxis().indexOf(ie(w,this.getFirstScaleIdForIndexAxis())),C=this._getStackIndex(this.index,this._cachedMeta.stack,l?t:void 0)+T;d=_.start+_.chunk*C+_.chunk/2,f=Math.min(u,_.chunk*_.ratio)}else d=s.getPixelForValue(this.getParsed(t)[s.axis],t),f=Math.min(u,n.min*n.ratio);return{base:d-f/2,head:d+f/2,center:d,size:f}}draw(){const t=this._cachedMeta,n=t.vScale,s=t.data,r=s.length;let l=0;for(;l<r;++l)this.getParsed(l)[n.axis]!==null&&!s[l].hidden&&s[l].draw(this._ctx)}}function NE(i,t,n){let s=1,r=1,l=0,u=0;if(t<ke){const d=i,f=d+t,g=Math.cos(d),b=Math.sin(d),_=Math.cos(f),w=Math.sin(f),T=(ot,H,$)=>ic(ot,d,f,!0)?1:Math.max(H,H*n,$,$*n),C=(ot,H,$)=>ic(ot,d,f,!0)?-1:Math.min(H,H*n,$,$*n),O=T(0,g,_),M=T(Qe,b,w),k=C(me,g,_),G=C(me+Qe,b,w);s=(O-k)/2,r=(M-G)/2,l=-(O+k)/2,u=-(M+G)/2}return{ratioX:s,ratioY:r,offsetX:l,offsetY:u}}class rx extends _o{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:r}}=t.legend.options;return n.labels.map((l,u)=>{const f=t.getDatasetMeta(0).controller.getStyle(u);return{text:l,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(u),index:u}})}return[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let l=f=>+s[f];if(ue(s[t])){const{key:f="value"}=this._parsing;l=g=>+ws(s[g],f)}let u,d;for(u=t,d=t+n;u<d;++u)r._parsed[u]=l(u)}}_getRotation(){return xi(this.options.rotation-90)}_getCircumference(){return xi(this.options.circumference)}_getRotationExtents(){let t=ke,n=-ke;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,l=r._getRotation(),u=r._getCircumference();t=Math.min(t,l),n=Math.max(n,l+u)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:s}=n,r=this._cachedMeta,l=r.data,u=this.getMaxBorderWidth()+this.getMaxOffset(l)+this.options.spacing,d=Math.max((Math.min(s.width,s.height)-u)/2,0),f=Math.min(qw(this.options.cutout,d),1),g=this._getRingWeight(this.index),{circumference:b,rotation:_}=this._getRotationExtents(),{ratioX:w,ratioY:T,offsetX:C,offsetY:O}=NE(_,b,f),M=(s.width-u)/w,k=(s.height-u)/T,G=Math.max(Math.min(M,k)/2,0),ot=Lb(this.options.radius,G),H=Math.max(ot*f,0),$=(ot-H)/this._getVisibleDatasetWeightTotal();this.offsetX=C*ot,this.offsetY=O*ot,r.total=this.calculateTotal(),this.outerRadius=ot-$*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-$*g,0),this.updateElements(l,0,l.length,t)}_circumference(t,n){const s=this.options,r=this._cachedMeta,l=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*l/ke)}updateElements(t,n,s,r){const l=r==="reset",u=this.chart,d=u.chartArea,g=u.options.animation,b=(d.left+d.right)/2,_=(d.top+d.bottom)/2,w=l&&g.animateScale,T=w?0:this.innerRadius,C=w?0:this.outerRadius,{sharedOptions:O,includeOptions:M}=this._getSharedOptions(n,r);let k=this._getRotation(),G;for(G=0;G<n;++G)k+=this._circumference(G,l);for(G=n;G<n+s;++G){const ot=this._circumference(G,l),H=t[G],$={x:b+this.offsetX,y:_+this.offsetY,startAngle:k,endAngle:k+ot,circumference:ot,outerRadius:C,innerRadius:T};M&&($.options=O||this.resolveDataElementOptions(G,H.active?"active":r)),k+=ot,this.updateElement(H,G,$,r)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let s=0,r;for(r=0;r<n.length;r++){const l=t._parsed[r];l!==null&&!isNaN(l)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(s+=Math.abs(l))}return s}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?ke*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,r=s.data.labels||[],l=td(n._parsed[t],s.options.locale);return{label:r[t]||"",value:l}}getMaxBorderWidth(t){let n=0;const s=this.chart;let r,l,u,d,f;if(!t){for(r=0,l=s.data.datasets.length;r<l;++r)if(s.isDatasetVisible(r)){u=s.getDatasetMeta(r),t=u.data,d=u.controller;break}}if(!t)return 0;for(r=0,l=t.length;r<l;++r)f=d.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(n=Math.max(n,f.borderWidth||0,f.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let s=0,r=t.length;s<r;++s){const l=this.resolveDataElementOptions(s);n=Math.max(n,l.offset||0,l.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(t){return Math.max(ie(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class LE extends _o{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:s,data:r=[],_dataset:l}=n,u=this.chart._animationsDisabled;let{start:d,count:f}=r1(n,r,u);this._drawStart=d,this._drawCount=f,o1(n)&&(d=0,f=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!l._decimated,s.points=r;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(s,void 0,{animated:!u,options:g},t),this.updateElements(r,d,f,t)}updateElements(t,n,s,r){const l=r==="reset",{iScale:u,vScale:d,_stacked:f,_dataset:g}=this._cachedMeta,{sharedOptions:b,includeOptions:_}=this._getSharedOptions(n,r),w=u.axis,T=d.axis,{spanGaps:C,segment:O}=this.options,M=nc(C)?C:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||l||r==="none",G=n+s,ot=t.length;let H=n>0&&this.getParsed(n-1);for(let $=0;$<ot;++$){const J=t[$],ht=k?J:{};if($<n||$>=G){ht.skip=!0;continue}const ft=this.getParsed($),mt=pe(ft[T]),Mt=ht[w]=u.getPixelForValue(ft[w],$),zt=ht[T]=l||mt?d.getBasePixel():d.getPixelForValue(f?this.applyStack(d,ft,f):ft[T],$);ht.skip=isNaN(Mt)||isNaN(zt)||mt,ht.stop=$>0&&Math.abs(ft[w]-H[w])>M,O&&(ht.parsed=ft,ht.raw=g.data[$]),_&&(ht.options=b||this.resolveDataElementOptions($,J.active?"active":r)),k||this.updateElement(J,$,ht,r),H=ft}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,s=n.options&&n.options.borderWidth||0,r=t.data||[];if(!r.length)return s;const l=r[0].size(this.resolveDataElementOptions(0)),u=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,l,u)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class zE extends _o{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:r}}=t.legend.options;return n.labels.map((l,u)=>{const f=t.getDatasetMeta(0).controller.getStyle(u);return{text:l,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(u),index:u}})}return[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,r=s.data.labels||[],l=td(n._parsed[t].r,s.options.locale);return{label:r[t]||"",value:l}}parseObjectData(t,n,s,r){return Gb.bind(this)(t,n,s,r)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((s,r)=>{const l=this.getParsed(r).r;!isNaN(l)&&this.chart.getDataVisibility(r)&&(l<n.min&&(n.min=l),l>n.max&&(n.max=l))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,s=t.options,r=Math.min(n.right-n.left,n.bottom-n.top),l=Math.max(r/2,0),u=Math.max(s.cutoutPercentage?l/100*s.cutoutPercentage:1,0),d=(l-u)/t.getVisibleDatasetCount();this.outerRadius=l-d*this.index,this.innerRadius=this.outerRadius-d}updateElements(t,n,s,r){const l=r==="reset",u=this.chart,f=u.options.animation,g=this._cachedMeta.rScale,b=g.xCenter,_=g.yCenter,w=g.getIndexAngle(0)-.5*me;let T=w,C;const O=360/this.countVisibleElements();for(C=0;C<n;++C)T+=this._computeAngle(C,r,O);for(C=n;C<n+s;C++){const M=t[C];let k=T,G=T+this._computeAngle(C,r,O),ot=u.getDataVisibility(C)?g.getDistanceFromCenterForValue(this.getParsed(C).r):0;T=G,l&&(f.animateScale&&(ot=0),f.animateRotate&&(k=G=w));const H={x:b,y:_,innerRadius:0,outerRadius:ot,startAngle:k,endAngle:G,options:this.resolveDataElementOptions(C,M.active?"active":r)};this.updateElement(M,C,H,r)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((s,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(t,n,s){return this.chart.getDataVisibility(t)?xi(this.resolveDataElementOptions(t,n).angle||s):0}}class BE extends rx{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class PE extends _o{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const n=this._cachedMeta.vScale,s=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(t,n,s,r){return Gb.bind(this)(t,n,s,r)}update(t){const n=this._cachedMeta,s=n.dataset,r=n.data||[],l=n.iScale.getLabels();if(s.points=r,t!=="resize"){const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0);const d={_loop:!0,_fullLoop:l.length===r.length,options:u};this.updateElement(s,void 0,d,t)}this.updateElements(r,0,r.length,t)}updateElements(t,n,s,r){const l=this._cachedMeta.rScale,u=r==="reset";for(let d=n;d<n+s;d++){const f=t[d],g=this.resolveDataElementOptions(d,f.active?"active":r),b=l.getPointPositionForValue(d,this.getParsed(d).r),_=u?l.xCenter:b.x,w=u?l.yCenter:b.y,T={x:_,y:w,angle:b.angle,skip:isNaN(_)||isNaN(w),options:g};this.updateElement(f,d,T,r)}}}function ar(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class op{static override(t){Object.assign(op.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ar()}parse(){return ar()}format(){return ar()}add(){return ar()}diff(){return ar()}startOf(){return ar()}endOf(){return ar()}}var HE={_date:op};function UE(i,t,n,s){const{controller:r,data:l,_sorted:u}=i,d=r._cachedMeta.iScale,f=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(d&&t===d.axis&&t!=="r"&&u&&l.length){const g=d._reversePixels?e1:lr;if(s){if(r._sharedOptions){const b=l[0],_=typeof b.getRange=="function"&&b.getRange(t);if(_){const w=g(l,t,n-_),T=g(l,t,n+_);return{lo:w.lo,hi:T.hi}}}}else{const b=g(l,t,n);if(f){const{vScale:_}=r._cachedMeta,{_parsed:w}=i,T=w.slice(0,b.lo+1).reverse().findIndex(O=>!pe(O[_.axis]));b.lo-=Math.max(0,T);const C=w.slice(b.hi).findIndex(O=>!pe(O[_.axis]));b.hi+=Math.max(0,C)}return b}}return{lo:0,hi:l.length-1}}function ad(i,t,n,s,r){const l=i.getSortedVisibleDatasetMetas(),u=n[t];for(let d=0,f=l.length;d<f;++d){const{index:g,data:b}=l[d],{lo:_,hi:w}=UE(l[d],t,u,r);for(let T=_;T<=w;++T){const C=b[T];C.skip||s(C,g,T)}}}function qE(i){const t=i.indexOf("x")!==-1,n=i.indexOf("y")!==-1;return function(s,r){const l=t?Math.abs(s.x-r.x):0,u=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(u,2))}}function ph(i,t,n,s,r){const l=[];return!r&&!i.isPointInArea(t)||ad(i,n,t,function(d,f,g){!r&&!Ta(d,i.chartArea,0)||d.inRange(t.x,t.y,s)&&l.push({element:d,datasetIndex:f,index:g})},!0),l}function KE(i,t,n,s){let r=[];function l(u,d,f){const{startAngle:g,endAngle:b}=u.getProps(["startAngle","endAngle"],s),{angle:_}=Pb(u,{x:t.x,y:t.y});ic(_,g,b)&&r.push({element:u,datasetIndex:d,index:f})}return ad(i,n,t,l),r}function VE(i,t,n,s,r,l){let u=[];const d=qE(n);let f=Number.POSITIVE_INFINITY;function g(b,_,w){const T=b.inRange(t.x,t.y,r);if(s&&!T)return;const C=b.getCenterPoint(r);if(!(!!l||i.isPointInArea(C))&&!T)return;const M=d(t,C);M<f?(u=[{element:b,datasetIndex:_,index:w}],f=M):M===f&&u.push({element:b,datasetIndex:_,index:w})}return ad(i,n,t,g),u}function gh(i,t,n,s,r,l){return!l&&!i.isPointInArea(t)?[]:n==="r"&&!s?KE(i,t,n,r):VE(i,t,n,s,r,l)}function ev(i,t,n,s,r){const l=[],u=n==="x"?"inXRange":"inYRange";let d=!1;return ad(i,n,t,(f,g,b)=>{f[u]&&f[u](t[n],r)&&(l.push({element:f,datasetIndex:g,index:b}),d=d||f.inRange(t.x,t.y,r))}),s&&!d?[]:l}var FE={modes:{index(i,t,n,s){const r=rr(t,i),l=n.axis||"x",u=n.includeInvisible||!1,d=n.intersect?ph(i,r,l,s,u):gh(i,r,l,!1,s,u),f=[];return d.length?(i.getSortedVisibleDatasetMetas().forEach(g=>{const b=d[0].index,_=g.data[b];_&&!_.skip&&f.push({element:_,datasetIndex:g.index,index:b})}),f):[]},dataset(i,t,n,s){const r=rr(t,i),l=n.axis||"xy",u=n.includeInvisible||!1;let d=n.intersect?ph(i,r,l,s,u):gh(i,r,l,!1,s,u);if(d.length>0){const f=d[0].datasetIndex,g=i.getDatasetMeta(f).data;d=[];for(let b=0;b<g.length;++b)d.push({element:g[b],datasetIndex:f,index:b})}return d},point(i,t,n,s){const r=rr(t,i),l=n.axis||"xy",u=n.includeInvisible||!1;return ph(i,r,l,s,u)},nearest(i,t,n,s){const r=rr(t,i),l=n.axis||"xy",u=n.includeInvisible||!1;return gh(i,r,l,n.intersect,s,u)},x(i,t,n,s){const r=rr(t,i);return ev(i,r,"x",n.intersect,s)},y(i,t,n,s){const r=rr(t,i);return ev(i,r,"y",n.intersect,s)}}};const ox=["left","top","right","bottom"];function Hl(i,t){return i.filter(n=>n.pos===t)}function nv(i,t){return i.filter(n=>ox.indexOf(n.pos)===-1&&n.box.axis===t)}function Ul(i,t){return i.sort((n,s)=>{const r=t?s:n,l=t?n:s;return r.weight===l.weight?r.index-l.index:r.weight-l.weight})}function YE(i){const t=[];let n,s,r,l,u,d;for(n=0,s=(i||[]).length;n<s;++n)r=i[n],{position:l,options:{stack:u,stackWeight:d=1}}=r,t.push({index:n,box:r,pos:l,horizontal:r.isHorizontal(),weight:r.weight,stack:u&&l+u,stackWeight:d});return t}function XE(i){const t={};for(const n of i){const{stack:s,pos:r,stackWeight:l}=n;if(!s||!ox.includes(r))continue;const u=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=l}return t}function WE(i,t){const n=XE(i),{vBoxMaxWidth:s,hBoxMaxHeight:r}=t;let l,u,d;for(l=0,u=i.length;l<u;++l){d=i[l];const{fullSize:f}=d.box,g=n[d.stack],b=g&&d.stackWeight/g.weight;d.horizontal?(d.width=b?b*s:f&&t.availableWidth,d.height=r):(d.width=s,d.height=b?b*r:f&&t.availableHeight)}return n}function IE(i){const t=YE(i),n=Ul(t.filter(g=>g.box.fullSize),!0),s=Ul(Hl(t,"left"),!0),r=Ul(Hl(t,"right")),l=Ul(Hl(t,"top"),!0),u=Ul(Hl(t,"bottom")),d=nv(t,"x"),f=nv(t,"y");return{fullSize:n,leftAndTop:s.concat(l),rightAndBottom:r.concat(f).concat(u).concat(d),chartArea:Hl(t,"chartArea"),vertical:s.concat(r).concat(f),horizontal:l.concat(u).concat(d)}}function iv(i,t,n,s){return Math.max(i[n],t[n])+Math.max(i[s],t[s])}function lx(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function GE(i,t,n,s){const{pos:r,box:l}=n,u=i.maxPadding;if(!ue(r)){n.size&&(i[r]-=n.size);const _=s[n.stack]||{size:0,count:1};_.size=Math.max(_.size,n.horizontal?l.height:l.width),n.size=_.size/_.count,i[r]+=n.size}l.getPadding&&lx(u,l.getPadding());const d=Math.max(0,t.outerWidth-iv(u,i,"left","right")),f=Math.max(0,t.outerHeight-iv(u,i,"top","bottom")),g=d!==i.w,b=f!==i.h;return i.w=d,i.h=f,n.horizontal?{same:g,other:b}:{same:b,other:g}}function QE(i){const t=i.maxPadding;function n(s){const r=Math.max(t[s]-i[s],0);return i[s]+=r,r}i.y+=n("top"),i.x+=n("left"),n("right"),n("bottom")}function ZE(i,t){const n=t.maxPadding;function s(r){const l={left:0,top:0,right:0,bottom:0};return r.forEach(u=>{l[u]=Math.max(t[u],n[u])}),l}return s(i?["left","right"]:["top","bottom"])}function Fl(i,t,n,s){const r=[];let l,u,d,f,g,b;for(l=0,u=i.length,g=0;l<u;++l){d=i[l],f=d.box,f.update(d.width||t.w,d.height||t.h,ZE(d.horizontal,t));const{same:_,other:w}=GE(t,n,d,s);g|=_&&r.length,b=b||w,f.fullSize||r.push(d)}return g&&Fl(r,t,n,s)||b}function Ou(i,t,n,s,r){i.top=n,i.left=t,i.right=t+s,i.bottom=n+r,i.width=s,i.height=r}function av(i,t,n,s){const r=n.padding;let{x:l,y:u}=t;for(const d of i){const f=d.box,g=s[d.stack]||{placed:0,weight:1},b=d.stackWeight/g.weight||1;if(d.horizontal){const _=t.w*b,w=g.size||f.height;ec(g.start)&&(u=g.start),f.fullSize?Ou(f,r.left,u,n.outerWidth-r.right-r.left,w):Ou(f,t.left+g.placed,u,_,w),g.start=u,g.placed+=_,u=f.bottom}else{const _=t.h*b,w=g.size||f.width;ec(g.start)&&(l=g.start),f.fullSize?Ou(f,l,r.top,w,n.outerHeight-r.bottom-r.top):Ou(f,l,t.top+g.placed,w,_),g.start=l,g.placed+=_,l=f.right}}t.x=l,t.y=u}var di={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},i.boxes.push(t)},removeBox(i,t){const n=i.boxes?i.boxes.indexOf(t):-1;n!==-1&&i.boxes.splice(n,1)},configure(i,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(i,t,n,s){if(!i)return;const r=Dn(i.options.layout.padding),l=Math.max(t-r.width,0),u=Math.max(n-r.height,0),d=IE(i.boxes),f=d.vertical,g=d.horizontal;xe(i.boxes,O=>{typeof O.beforeLayout=="function"&&O.beforeLayout()});const b=f.reduce((O,M)=>M.box.options&&M.box.options.display===!1?O:O+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:l,availableHeight:u,vBoxMaxWidth:l/2/b,hBoxMaxHeight:u/2}),w=Object.assign({},r);lx(w,Dn(s));const T=Object.assign({maxPadding:w,w:l,h:u,x:r.left,y:r.top},r),C=WE(f.concat(g),_);Fl(d.fullSize,T,_,C),Fl(f,T,_,C),Fl(g,T,_,C)&&Fl(f,T,_,C),QE(T),av(d.leftAndTop,T,_,C),T.x+=T.w,T.y+=T.h,av(d.rightAndBottom,T,_,C),i.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},xe(d.chartArea,O=>{const M=O.box;Object.assign(M,i.chartArea),M.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class cx{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,r){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(t){return!0}updateConfig(t){}}class $E extends cx{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const qu="$chartjs",JE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},sv=i=>i===null||i==="";function tA(i,t){const n=i.style,s=i.getAttribute("height"),r=i.getAttribute("width");if(i[qu]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",sv(r)){const l=Ky(i,"width");l!==void 0&&(i.width=l)}if(sv(s))if(i.style.height==="")i.height=i.width/(t||2);else{const l=Ky(i,"height");l!==void 0&&(i.height=l)}return i}const ux=Z1?{passive:!0}:!1;function eA(i,t,n){i&&i.addEventListener(t,n,ux)}function nA(i,t,n){i&&i.canvas&&i.canvas.removeEventListener(t,n,ux)}function iA(i,t){const n=JE[i.type]||i.type,{x:s,y:r}=rr(i,t);return{type:n,chart:t,native:i,x:s!==void 0?s:null,y:r!==void 0?r:null}}function Qu(i,t){for(const n of i)if(n===t||n.contains(t))return!0}function aA(i,t,n){const s=i.canvas,r=new MutationObserver(l=>{let u=!1;for(const d of l)u=u||Qu(d.addedNodes,s),u=u&&!Qu(d.removedNodes,s);u&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function sA(i,t,n){const s=i.canvas,r=new MutationObserver(l=>{let u=!1;for(const d of l)u=u||Qu(d.removedNodes,s),u=u&&!Qu(d.addedNodes,s);u&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const sc=new Map;let rv=0;function dx(){const i=window.devicePixelRatio;i!==rv&&(rv=i,sc.forEach((t,n)=>{n.currentDevicePixelRatio!==i&&t()}))}function rA(i,t){sc.size||window.addEventListener("resize",dx),sc.set(i,t)}function oA(i){sc.delete(i),sc.size||window.removeEventListener("resize",dx)}function lA(i,t,n){const s=i.canvas,r=s&&rp(s);if(!r)return;const l=Kb((d,f)=>{const g=r.clientWidth;n(d,f),g<r.clientWidth&&n()},window),u=new ResizeObserver(d=>{const f=d[0],g=f.contentRect.width,b=f.contentRect.height;g===0&&b===0||l(g,b)});return u.observe(r),rA(i,l),u}function mh(i,t,n){n&&n.disconnect(),t==="resize"&&oA(i)}function cA(i,t,n){const s=i.canvas,r=Kb(l=>{i.ctx!==null&&n(iA(l,i))},i);return eA(s,t,r),r}class uA extends cx{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(tA(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[qu])return!1;const s=n[qu].initial;["height","width"].forEach(l=>{const u=s[l];pe(u)?n.removeAttribute(l):n.setAttribute(l,u)});const r=s.style||{};return Object.keys(r).forEach(l=>{n.style[l]=r[l]}),n.width=n.width,delete n[qu],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const r=t.$proxies||(t.$proxies={}),u={attach:aA,detach:sA,resize:lA}[n]||cA;r[n]=u(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),r=s[n];if(!r)return;({attach:mh,detach:mh,resize:mh}[n]||nA)(t,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,r){return Q1(t,n,s,r)}isAttached(t){const n=t&&rp(t);return!!(n&&n.isConnected)}}function dA(i){return!sp()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?$E:uA}class Ma{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return nc(this.x)&&nc(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const r={};return t.forEach(l=>{r[l]=s[l]&&s[l].active()?s[l]._to:this[l]}),r}}function fA(i,t){const n=i.options.ticks,s=hA(i),r=Math.min(n.maxTicksLimit||s,s),l=n.major.enabled?gA(t):[],u=l.length,d=l[0],f=l[u-1],g=[];if(u>r)return mA(t,g,l,u/r),g;const b=pA(l,t,r);if(u>0){let _,w;const T=u>1?Math.round((f-d)/(u-1)):null;for(ku(t,g,b,pe(T)?0:d-T,d),_=0,w=u-1;_<w;_++)ku(t,g,b,l[_],l[_+1]);return ku(t,g,b,f,pe(T)?t.length:f+T),g}return ku(t,g,b),g}function hA(i){const t=i.options.offset,n=i._tickSize(),s=i._length/n+(t?0:1),r=i._maxLength/n;return Math.floor(Math.min(s,r))}function pA(i,t,n){const s=yA(i),r=t.length/n;if(!s)return Math.max(r,1);const l=Gw(s);for(let u=0,d=l.length-1;u<d;u++){const f=l[u];if(f>r)return f}return Math.max(r,1)}function gA(i){const t=[];let n,s;for(n=0,s=i.length;n<s;n++)i[n].major&&t.push(n);return t}function mA(i,t,n,s){let r=0,l=n[0],u;for(s=Math.ceil(s),u=0;u<i.length;u++)u===l&&(t.push(i[u]),r++,l=n[r*s])}function ku(i,t,n,s,r){const l=ie(s,0),u=Math.min(ie(r,i.length),i.length);let d=0,f,g,b;for(n=Math.ceil(n),r&&(f=r-s,n=f/Math.floor(f/n)),b=l;b<0;)d++,b=Math.round(l+d*n);for(g=Math.max(l,0);g<u;g++)g===b&&(t.push(i[g]),d++,b=Math.round(l+d*n))}function yA(i){const t=i.length;let n,s;if(t<2)return!1;for(s=i[0],n=1;n<t;++n)if(i[n]-i[n-1]!==s)return!1;return s}const vA=i=>i==="left"?"right":i==="right"?"left":i,ov=(i,t,n)=>t==="top"||t==="left"?i[t]+n:i[t]-n,lv=(i,t)=>Math.min(t||i,i);function cv(i,t){const n=[],s=i.length/t,r=i.length;let l=0;for(;l<r;l+=s)n.push(i[Math.floor(l)]);return n}function bA(i,t,n){const s=i.ticks.length,r=Math.min(t,s-1),l=i._startPixel,u=i._endPixel,d=1e-6;let f=i.getPixelForTick(r),g;if(!(n&&(s===1?g=Math.max(f-l,u-f):t===0?g=(i.getPixelForTick(1)-f)/2:g=(f-i.getPixelForTick(r-1))/2,f+=r<t?g:-g,f<l-d||f>u+d)))return f}function xA(i,t){xe(i,n=>{const s=n.gc,r=s.length/2;let l;if(r>t){for(l=0;l<r;++l)delete n.data[s[l]];s.splice(0,r)}})}function ql(i){return i.drawTicks?i.tickLength:0}function uv(i,t){if(!i.display)return 0;const n=an(i.font,t),s=Dn(i.padding);return(ze(i.text)?i.text.length:1)*n.lineHeight+s.height}function _A(i,t){return Ts(i,{scale:t,type:"scale"})}function SA(i,t,n){return Ts(i,{tick:n,index:t,type:"tick"})}function wA(i,t,n){let s=$h(i);return(n&&t!=="right"||!n&&t==="right")&&(s=vA(s)),s}function EA(i,t,n,s){const{top:r,left:l,bottom:u,right:d,chart:f}=i,{chartArea:g,scales:b}=f;let _=0,w,T,C;const O=u-r,M=d-l;if(i.isHorizontal()){if(T=En(s,l,d),ue(n)){const k=Object.keys(n)[0],G=n[k];C=b[k].getPixelForValue(G)+O-t}else n==="center"?C=(g.bottom+g.top)/2+O-t:C=ov(i,n,t);w=d-l}else{if(ue(n)){const k=Object.keys(n)[0],G=n[k];T=b[k].getPixelForValue(G)-M+t}else n==="center"?T=(g.left+g.right)/2-M+t:T=ov(i,n,t);C=En(s,u,r),_=n==="left"?-Qe:Qe}return{titleX:T,titleY:C,maxWidth:w,rotation:_}}class So extends Ma{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return t=Pi(t,Number.POSITIVE_INFINITY),n=Pi(n,Number.NEGATIVE_INFINITY),s=Pi(s,Number.POSITIVE_INFINITY),r=Pi(r,Number.NEGATIVE_INFINITY),{min:Pi(t,s),max:Pi(n,r),minDefined:dn(t),maxDefined:dn(n)}}getMinMax(t){let{min:n,max:s,minDefined:r,maxDefined:l}=this.getUserBounds(),u;if(r&&l)return{min:n,max:s};const d=this.getMatchingVisibleMetas();for(let f=0,g=d.length;f<g;++f)u=d[f].controller.getMinMax(this,t),r||(n=Math.min(n,u.min)),l||(s=Math.max(s,u.max));return n=l&&n>s?s:n,s=r&&n>s?n:s,{min:Pi(n,Pi(s,n)),max:Pi(s,Pi(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ce(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:r,grace:l,ticks:u}=this.options,d=u.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=C1(this,l,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=d<this.ticks.length;this._convertTicksToLabels(f?cv(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=fA(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ce(this.options.afterUpdate,[this])}beforeSetDimensions(){Ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ce(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ce(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,r,l;for(s=0,r=t.length;s<r;s++)l=t[s],l.label=Ce(n.callback,[l.value,s,t],this)}afterTickToLabelConversion(){Ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=lv(this.ticks.length,t.ticks.maxTicksLimit),r=n.minRotation||0,l=n.maxRotation;let u=r,d,f,g;if(!this._isVisible()||!n.display||r>=l||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const b=this._getLabelSizes(),_=b.widest.width,w=b.highest.height,T=Tn(this.chart.width-_,0,this.maxWidth);d=t.offset?this.maxWidth/s:T/(s-1),_+6>d&&(d=T/(s-(t.offset?.5:1)),f=this.maxHeight-ql(t.grid)-n.padding-uv(t.title,this.chart.options.font),g=Math.sqrt(_*_+w*w),u=Qh(Math.min(Math.asin(Tn((b.highest.height+6)/d,-1,1)),Math.asin(Tn(f/g,-1,1))-Math.asin(Tn(w/g,-1,1)))),u=Math.max(r,Math.min(l,u))),this.labelRotation=u}afterCalculateLabelRotation(){Ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ce(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:l}}=this,u=this._isVisible(),d=this.isHorizontal();if(u){const f=uv(r,n.options.font);if(d?(t.width=this.maxWidth,t.height=ql(l)+f):(t.height=this.maxHeight,t.width=ql(l)+f),s.display&&this.ticks.length){const{first:g,last:b,widest:_,highest:w}=this._getLabelSizes(),T=s.padding*2,C=xi(this.labelRotation),O=Math.cos(C),M=Math.sin(C);if(d){const k=s.mirror?0:M*_.width+O*w.height;t.height=Math.min(this.maxHeight,t.height+k+T)}else{const k=s.mirror?0:O*_.width+M*w.height;t.width=Math.min(this.maxWidth,t.width+k+T)}this._calculatePadding(g,b,M,O)}}this._handleMargins(),d?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,r){const{ticks:{align:l,padding:u},position:d}=this.options,f=this.labelRotation!==0,g=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const b=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,T=0;f?g?(w=r*t.width,T=s*n.height):(w=s*t.height,T=r*n.width):l==="start"?T=n.width:l==="end"?w=t.width:l!=="inner"&&(w=t.width/2,T=n.width/2),this.paddingLeft=Math.max((w-b+u)*this.width/(this.width-b),0),this.paddingRight=Math.max((T-_+u)*this.width/(this.width-_),0)}else{let b=n.height/2,_=t.height/2;l==="start"?(b=0,_=t.height):l==="end"&&(b=n.height,_=0),this.paddingTop=b+u,this.paddingBottom=_+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ce(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)pe(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=cv(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:r,_longestTextCache:l}=this,u=[],d=[],f=Math.floor(n/lv(n,s));let g=0,b=0,_,w,T,C,O,M,k,G,ot,H,$;for(_=0;_<n;_+=f){if(C=t[_].label,O=this._resolveTickFontOptions(_),r.font=M=O.string,k=l[M]=l[M]||{data:{},gc:[]},G=O.lineHeight,ot=H=0,!pe(C)&&!ze(C))ot=Iu(r,k.data,k.gc,ot,C),H=G;else if(ze(C))for(w=0,T=C.length;w<T;++w)$=C[w],!pe($)&&!ze($)&&(ot=Iu(r,k.data,k.gc,ot,$),H+=G);u.push(ot),d.push(H),g=Math.max(ot,g),b=Math.max(H,b)}xA(l,n);const J=u.indexOf(g),ht=d.indexOf(b),ft=mt=>({width:u[mt]||0,height:d[mt]||0});return{first:ft(0),last:ft(n-1),widest:ft(J),highest:ft(ht),widths:u,heights:d}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return t1(this._alignToPixels?ir(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=SA(this.getContext(),t,s))}return this.$context||(this.$context=_A(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=xi(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),l=this._getLabelSizes(),u=t.autoSkipPadding||0,d=l?l.widest.width+u:0,f=l?l.highest.height+u:0;return this.isHorizontal()?f*s>d*r?d/s:f/r:f*r<d*s?f/s:d/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,r=this.options,{grid:l,position:u,border:d}=r,f=l.offset,g=this.isHorizontal(),_=this.ticks.length+(f?1:0),w=ql(l),T=[],C=d.setContext(this.getContext()),O=C.display?C.width:0,M=O/2,k=function(et){return ir(s,et,O)};let G,ot,H,$,J,ht,ft,mt,Mt,zt,kt,Ot;if(u==="top")G=k(this.bottom),ht=this.bottom-w,mt=G-M,zt=k(t.top)+M,Ot=t.bottom;else if(u==="bottom")G=k(this.top),zt=t.top,Ot=k(t.bottom)-M,ht=G+M,mt=this.top+w;else if(u==="left")G=k(this.right),J=this.right-w,ft=G-M,Mt=k(t.left)+M,kt=t.right;else if(u==="right")G=k(this.left),Mt=t.left,kt=k(t.right)-M,J=G+M,ft=this.left+w;else if(n==="x"){if(u==="center")G=k((t.top+t.bottom)/2+.5);else if(ue(u)){const et=Object.keys(u)[0],St=u[et];G=k(this.chart.scales[et].getPixelForValue(St))}zt=t.top,Ot=t.bottom,ht=G+M,mt=ht+w}else if(n==="y"){if(u==="center")G=k((t.left+t.right)/2);else if(ue(u)){const et=Object.keys(u)[0],St=u[et];G=k(this.chart.scales[et].getPixelForValue(St))}J=G-M,ft=J-w,Mt=t.left,kt=t.right}const Xt=ie(r.ticks.maxTicksLimit,_),Ht=Math.max(1,Math.ceil(_/Xt));for(ot=0;ot<_;ot+=Ht){const et=this.getContext(ot),St=l.setContext(et),Rt=d.setContext(et),rt=St.lineWidth,R=St.color,it=Rt.dash||[],xt=Rt.dashOffset,Q=St.tickWidth,_t=St.tickColor,qt=St.tickBorderDash||[],Lt=St.tickBorderDashOffset;H=bA(this,ot,f),H!==void 0&&($=ir(s,H,rt),g?J=ft=Mt=kt=$:ht=mt=zt=Ot=$,T.push({tx1:J,ty1:ht,tx2:ft,ty2:mt,x1:Mt,y1:zt,x2:kt,y2:Ot,width:rt,color:R,borderDash:it,borderDashOffset:xt,tickWidth:Q,tickColor:_t,tickBorderDash:qt,tickBorderDashOffset:Lt}))}return this._ticksLength=_,this._borderValue=G,T}_computeLabelItems(t){const n=this.axis,s=this.options,{position:r,ticks:l}=s,u=this.isHorizontal(),d=this.ticks,{align:f,crossAlign:g,padding:b,mirror:_}=l,w=ql(s.grid),T=w+b,C=_?-b:T,O=-xi(this.labelRotation),M=[];let k,G,ot,H,$,J,ht,ft,mt,Mt,zt,kt,Ot="middle";if(r==="top")J=this.bottom-C,ht=this._getXAxisLabelAlignment();else if(r==="bottom")J=this.top+C,ht=this._getXAxisLabelAlignment();else if(r==="left"){const Ht=this._getYAxisLabelAlignment(w);ht=Ht.textAlign,$=Ht.x}else if(r==="right"){const Ht=this._getYAxisLabelAlignment(w);ht=Ht.textAlign,$=Ht.x}else if(n==="x"){if(r==="center")J=(t.top+t.bottom)/2+T;else if(ue(r)){const Ht=Object.keys(r)[0],et=r[Ht];J=this.chart.scales[Ht].getPixelForValue(et)+T}ht=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")$=(t.left+t.right)/2-T;else if(ue(r)){const Ht=Object.keys(r)[0],et=r[Ht];$=this.chart.scales[Ht].getPixelForValue(et)}ht=this._getYAxisLabelAlignment(w).textAlign}n==="y"&&(f==="start"?Ot="top":f==="end"&&(Ot="bottom"));const Xt=this._getLabelSizes();for(k=0,G=d.length;k<G;++k){ot=d[k],H=ot.label;const Ht=l.setContext(this.getContext(k));ft=this.getPixelForTick(k)+l.labelOffset,mt=this._resolveTickFontOptions(k),Mt=mt.lineHeight,zt=ze(H)?H.length:1;const et=zt/2,St=Ht.color,Rt=Ht.textStrokeColor,rt=Ht.textStrokeWidth;let R=ht;u?($=ft,ht==="inner"&&(k===G-1?R=this.options.reverse?"left":"right":k===0?R=this.options.reverse?"right":"left":R="center"),r==="top"?g==="near"||O!==0?kt=-zt*Mt+Mt/2:g==="center"?kt=-Xt.highest.height/2-et*Mt+Mt:kt=-Xt.highest.height+Mt/2:g==="near"||O!==0?kt=Mt/2:g==="center"?kt=Xt.highest.height/2-et*Mt:kt=Xt.highest.height-zt*Mt,_&&(kt*=-1),O!==0&&!Ht.showLabelBackdrop&&($+=Mt/2*Math.sin(O))):(J=ft,kt=(1-zt)*Mt/2);let it;if(Ht.showLabelBackdrop){const xt=Dn(Ht.backdropPadding),Q=Xt.heights[k],_t=Xt.widths[k];let qt=kt-xt.top,Lt=0-xt.left;switch(Ot){case"middle":qt-=Q/2;break;case"bottom":qt-=Q;break}switch(ht){case"center":Lt-=_t/2;break;case"right":Lt-=_t;break;case"inner":k===G-1?Lt-=_t:k>0&&(Lt-=_t/2);break}it={left:Lt,top:qt,width:_t+xt.width,height:Q+xt.height,color:Ht.backdropColor}}M.push({label:H,font:mt,textOffset:kt,options:{rotation:O,color:St,strokeColor:Rt,strokeWidth:rt,textAlign:R,textBaseline:Ot,translation:[$,J],backdrop:it}})}return M}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-xi(this.labelRotation))return t==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:r,padding:l}}=this.options,u=this._getLabelSizes(),d=t+l,f=u.widest.width;let g,b;return n==="left"?r?(b=this.right+l,s==="near"?g="left":s==="center"?(g="center",b+=f/2):(g="right",b+=f)):(b=this.right-d,s==="near"?g="right":s==="center"?(g="center",b-=f/2):(g="left",b=this.left)):n==="right"?r?(b=this.left+l,s==="near"?g="right":s==="center"?(g="center",b-=f/2):(g="left",b-=f)):(b=this.left+d,s==="near"?g="left":s==="center"?(g="center",b+=f/2):(g="right",b=this.right)):g="right",{textAlign:g,x:b}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:r,width:l,height:u}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,r,l,u),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(l=>l.value===t);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let l,u;const d=(f,g,b)=>{!b.width||!b.color||(s.save(),s.lineWidth=b.width,s.strokeStyle=b.color,s.setLineDash(b.borderDash||[]),s.lineDashOffset=b.borderDashOffset,s.beginPath(),s.moveTo(f.x,f.y),s.lineTo(g.x,g.y),s.stroke(),s.restore())};if(n.display)for(l=0,u=r.length;l<u;++l){const f=r[l];n.drawOnChartArea&&d({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&d({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:r}}=this,l=s.setContext(this.getContext()),u=s.display?l.width:0;if(!u)return;const d=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,b,_,w;this.isHorizontal()?(g=ir(t,this.left,u)-u/2,b=ir(t,this.right,d)+d/2,_=w=f):(_=ir(t,this.top,u)-u/2,w=ir(t,this.bottom,d)+d/2,g=b=f),n.save(),n.lineWidth=l.width,n.strokeStyle=l.color,n.beginPath(),n.moveTo(g,_),n.lineTo(b,w),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&ed(s,r);const l=this.getLabelItems(t);for(const u of l){const d=u.options,f=u.font,g=u.label,b=u.textOffset;hr(s,g,0,b,f,d)}r&&nd(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const l=an(s.font),u=Dn(s.padding),d=s.align;let f=l.lineHeight/2;n==="bottom"||n==="center"||ue(n)?(f+=u.bottom,ze(s.text)&&(f+=l.lineHeight*(s.text.length-1))):f+=u.top;const{titleX:g,titleY:b,maxWidth:_,rotation:w}=EA(this,f,n,d);hr(t,s.text,0,0,l,{color:s.color,maxWidth:_,rotation:w,textAlign:wA(d,n,r),textBaseline:"middle",translation:[g,b]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=ie(t.grid&&t.grid.z,-1),r=ie(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==So.prototype.draw?[{z:n,draw:l=>{this.draw(l)}}]:[{z:s,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let l,u;for(l=0,u=n.length;l<u;++l){const d=n[l];d[s]===this.id&&(!t||d.type===t)&&r.push(d)}return r}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return an(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ru{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;DA(n)&&(s=this.register(n));const r=this.items,l=t.id,u=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+t);return l in r||(r[l]=t,AA(t,u,s),this.override&&Fe.override(t.id,t.overrides)),u}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,r=this.scope;s in n&&delete n[s],r&&s in Fe[r]&&(delete Fe[r][s],this.override&&delete fr[s])}}function AA(i,t,n){const s=tc(Object.create(null),[n?Fe.get(n):{},Fe.get(t),i.defaults]);Fe.set(t,s),i.defaultRoutes&&TA(t,i.defaultRoutes),i.descriptors&&Fe.describe(t,i.descriptors)}function TA(i,t){Object.keys(t).forEach(n=>{const s=n.split("."),r=s.pop(),l=[i].concat(s).join("."),u=t[n].split("."),d=u.pop(),f=u.join(".");Fe.route(l,r,f,d)})}function DA(i){return"id"in i&&"defaults"in i}class CA{constructor(){this.controllers=new Ru(_o,"datasets",!0),this.elements=new Ru(Ma,"elements"),this.plugins=new Ru(Object,"plugins"),this.scales=new Ru(So,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(r=>{const l=s||this._getRegistryForType(r);s||l.isForType(r)||l===this.plugins&&r.id?this._exec(t,l,r):xe(r,u=>{const d=s||this._getRegistryForType(u);this._exec(t,d,u)})})}_exec(t,n,s){const r=Gh(t);Ce(s["before"+r],[],s),n[t](s),Ce(s["after"+r],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const r=n.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return r}}var Ui=new CA;class jA{constructor(){this._init=[]}notify(t,n,s,r){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const l=r?this._descriptors(t).filter(r):this._descriptors(t),u=this._notify(l,t,n,s);return n==="afterDestroy"&&(this._notify(l,t,"stop"),this._notify(this._init,t,"uninstall")),u}_notify(t,n,s,r){r=r||{};for(const l of t){const u=l.plugin,d=u[s],f=[n,r,l.options];if(Ce(d,f,u)===!1&&r.cancelable)return!1}return!0}invalidate(){pe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,r=ie(s.options&&s.options.plugins,{}),l=MA(s);return r===!1&&!n?[]:kA(t,l,r,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,r=(l,u)=>l.filter(d=>!u.some(f=>d.plugin.id===f.plugin.id));this._notify(r(n,s),t,"stop"),this._notify(r(s,n),t,"start")}}function MA(i){const t={},n=[],s=Object.keys(Ui.plugins.items);for(let l=0;l<s.length;l++)n.push(Ui.getPlugin(s[l]));const r=i.plugins||[];for(let l=0;l<r.length;l++){const u=r[l];n.indexOf(u)===-1&&(n.push(u),t[u.id]=!0)}return{plugins:n,localIds:t}}function OA(i,t){return!t&&i===!1?null:i===!0?{}:i}function kA(i,{plugins:t,localIds:n},s,r){const l=[],u=i.getContext();for(const d of t){const f=d.id,g=OA(s[f],r);g!==null&&l.push({plugin:d,options:RA(i.config,{plugin:d,local:n[f]},g,u)})}return l}function RA(i,{plugin:t,local:n},s,r){const l=i.pluginScopeKeys(t),u=i.getOptionScopes(s,l);return n&&t.defaults&&u.push(t.defaults),i.createResolver(u,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Oh(i,t){const n=Fe.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function NA(i,t){let n=i;return i==="_index_"?n=t:i==="_value_"&&(n=t==="x"?"y":"x"),n}function LA(i,t){return i===t?"_index_":"_value_"}function dv(i){if(i==="x"||i==="y"||i==="r")return i}function zA(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function kh(i,...t){if(dv(i))return i;for(const n of t){const s=n.axis||zA(n.position)||i.length>1&&dv(i[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function fv(i,t,n){if(n[t+"AxisID"]===i)return{axis:t}}function BA(i,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===i||s.yAxisID===i);if(n.length)return fv(i,"x",n[0])||fv(i,"y",n[0])}return{}}function PA(i,t){const n=fr[i.type]||{scales:{}},s=t.scales||{},r=Oh(i.type,t),l=Object.create(null);return Object.keys(s).forEach(u=>{const d=s[u];if(!ue(d))return console.error(`Invalid scale configuration for scale: ${u}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const f=kh(u,d,BA(u,i),Fe.scales[d.type]),g=LA(f,r),b=n.scales||{};l[u]=Wl(Object.create(null),[{axis:f},d,b[f],b[g]])}),i.data.datasets.forEach(u=>{const d=u.type||i.type,f=u.indexAxis||Oh(d,t),b=(fr[d]||{}).scales||{};Object.keys(b).forEach(_=>{const w=NA(_,f),T=u[w+"AxisID"]||w;l[T]=l[T]||Object.create(null),Wl(l[T],[{axis:w},s[T],b[_]])})}),Object.keys(l).forEach(u=>{const d=l[u];Wl(d,[Fe.scales[d.type],Fe.scale])}),l}function fx(i){const t=i.options||(i.options={});t.plugins=ie(t.plugins,{}),t.scales=PA(i,t)}function hx(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function HA(i){return i=i||{},i.data=hx(i.data),fx(i),i}const hv=new Map,px=new Set;function Nu(i,t){let n=hv.get(i);return n||(n=t(),hv.set(i,n),px.add(n)),n}const Kl=(i,t,n)=>{const s=ws(t,n);s!==void 0&&i.add(s)};class UA{constructor(t){this._config=HA(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=hx(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),fx(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Nu(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Nu(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Nu(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return Nu(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let r=s.get(t);return(!r||n)&&(r=new Map,s.set(t,r)),r}getOptionScopes(t,n,s){const{options:r,type:l}=this,u=this._cachedScopes(t,s),d=u.get(n);if(d)return d;const f=new Set;n.forEach(b=>{t&&(f.add(t),b.forEach(_=>Kl(f,t,_))),b.forEach(_=>Kl(f,r,_)),b.forEach(_=>Kl(f,fr[l]||{},_)),b.forEach(_=>Kl(f,Fe,_)),b.forEach(_=>Kl(f,jh,_))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),px.has(n)&&u.set(n,g),g}chartOptionScopes(){const{options:t,type:n}=this;return[t,fr[n]||{},Fe.datasets[n]||{},{type:n},Fe,jh]}resolveNamedOptions(t,n,s,r=[""]){const l={$shared:!0},{resolver:u,subPrefixes:d}=pv(this._resolverCache,t,r);let f=u;if(KA(u,n)){l.$shared=!1,s=Es(s)?s():s;const g=this.createResolver(t,s,d);f=mo(u,s,g)}for(const g of n)l[g]=f[g];return l}createResolver(t,n,s=[""],r){const{resolver:l}=pv(this._resolverCache,t,s);return ue(n)?mo(l,n,void 0,r):l}}function pv(i,t,n){let s=i.get(t);s||(s=new Map,i.set(t,s));const r=n.join();let l=s.get(r);return l||(l={resolver:np(t,n),subPrefixes:n.filter(d=>!d.toLowerCase().includes("hover"))},s.set(r,l)),l}const qA=i=>ue(i)&&Object.getOwnPropertyNames(i).some(t=>Es(i[t]));function KA(i,t){const{isScriptable:n,isIndexable:s}=Yb(i);for(const r of t){const l=n(r),u=s(r),d=(u||l)&&i[r];if(l&&(Es(d)||qA(d))||u&&ze(d))return!0}return!1}var VA="4.5.0";const FA=["top","bottom","left","right","chartArea"];function gv(i,t){return i==="top"||i==="bottom"||FA.indexOf(i)===-1&&t==="x"}function mv(i,t){return function(n,s){return n[i]===s[i]?n[t]-s[t]:n[i]-s[i]}}function yv(i){const t=i.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Ce(n&&n.onComplete,[i],t)}function YA(i){const t=i.chart,n=t.options.animation;Ce(n&&n.onProgress,[i],t)}function gx(i){return sp()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const Ku={},vv=i=>{const t=gx(i);return Object.values(Ku).filter(n=>n.canvas===t).pop()};function XA(i,t,n){const s=Object.keys(i);for(const r of s){const l=+r;if(l>=t){const u=i[r];delete i[r],(n>0||l>t)&&(i[l+n]=u)}}}function WA(i,t,n,s){return!n||i.type==="mouseout"?null:s?t:i}let sd=class{static defaults=Fe;static instances=Ku;static overrides=fr;static registry=Ui;static version=VA;static getChart=vv;static register(...t){Ui.add(...t),bv()}static unregister(...t){Ui.remove(...t),bv()}constructor(t,n){const s=this.config=new UA(n),r=gx(t),l=vv(r);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const u=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||dA(r)),this.platform.updateConfig(s);const d=this.platform.acquireContext(r,u.aspectRatio),f=d&&d.canvas,g=f&&f.height,b=f&&f.width;if(this.id=Uw(),this.ctx=d,this.canvas=f,this.width=b,this.height=g,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new jA,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=a1(_=>this.update(_),u.resizeDelay||0),this._dataChanges=[],Ku[this.id]=this,!d||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Sa.listen(this,"complete",yv),Sa.listen(this,"progress",YA),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:r,_aspectRatio:l}=this;return pe(t)?n&&l?l:r?s/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ui}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():qy(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Py(this.canvas,this.ctx),this}stop(){return Sa.stop(this),this}resize(t,n){Sa.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,r=this.canvas,l=s.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(r,t,n,l),d=s.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,qy(this,d,!0)&&(this.notifyPlugins("resize",{size:u}),Ce(s.onResize,[this,u],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};xe(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,r=Object.keys(s).reduce((u,d)=>(u[d]=!1,u),{});let l=[];n&&(l=l.concat(Object.keys(n).map(u=>{const d=n[u],f=kh(u,d),g=f==="r",b=f==="x";return{options:d,dposition:g?"chartArea":b?"bottom":"left",dtype:g?"radialLinear":b?"category":"linear"}}))),xe(l,u=>{const d=u.options,f=d.id,g=kh(f,d),b=ie(d.type,u.dtype);(d.position===void 0||gv(d.position,g)!==gv(u.dposition))&&(d.position=u.dposition),r[f]=!0;let _=null;if(f in s&&s[f].type===b)_=s[f];else{const w=Ui.getScale(b);_=new w({id:f,type:b,ctx:this.ctx,chart:this}),s[_.id]=_}_.init(d,t)}),xe(r,(u,d)=>{u||delete s[d]}),xe(s,u=>{di.configure(this,u,u.options),di.addBox(this,u)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((r,l)=>r.index-l.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(mv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,r)=>{n.filter(l=>l===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const l=n[s];let u=this.getDatasetMeta(s);const d=l.type||this.config.type;if(u.type&&u.type!==d&&(this._destroyDatasetMeta(s),u=this.getDatasetMeta(s)),u.type=d,u.indexAxis=l.indexAxis||Oh(d,this.options),u.order=l.order||0,u.index=s,u.label=""+l.label,u.visible=this.isDatasetVisible(s),u.controller)u.controller.updateIndex(s),u.controller.linkScales();else{const f=Ui.getController(d),{datasetElementType:g,dataElementType:b}=Fe.datasets[d];Object.assign(f,{dataElementType:Ui.getElement(b),datasetElementType:g&&Ui.getElement(g)}),u.controller=new f(this,s),t.push(u.controller)}}return this._updateMetasets(),t}_resetElements(){xe(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let g=0,b=this.data.datasets.length;g<b;g++){const{controller:_}=this.getDatasetMeta(g),w=!r&&l.indexOf(_)===-1;_.buildOrUpdateElements(w),u=Math.max(+_.getMaxOverflow(),u)}u=this._minPadding=s.layout.autoPadding?u:0,this._updateLayout(u),r||xe(l,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(mv("z","_idx"));const{_active:d,_lastEvent:f}=this;f?this._eventHandler(f,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){xe(this.scales,t=>{di.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!jy(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:l}of n){const u=s==="_removeElements"?-l:l;XA(t,r,u)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=l=>new Set(t.filter(u=>u[0]===l).map((u,d)=>d+","+u.splice(1).join(","))),r=s(0);for(let l=1;l<n;l++)if(!jy(r,s(l)))return;return Array.from(r).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;di.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],xe(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,l)=>{r._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Es(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),r={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Sa.has(this)?this.attached&&!Sa.running(this)&&Sa.start(this):(this.draw(),yv({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let r,l;for(r=0,l=n.length;r<l;++r){const u=n[r];(!t||u.visible)&&s.push(u)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},r=nx(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&ed(n,r),t.controller.draw(),r&&nd(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return Ta(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,r){const l=FE.modes[n];return typeof l=="function"?l(this,t,s,r):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let r=s.filter(l=>l&&l._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Ts(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const r=s?"show":"hide",l=this.getDatasetMeta(t),u=l.controller._resolveAnimations(void 0,r);ec(n)?(l.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),u.update(l,{visible:s}),this.update(d=>d.datasetIndex===t?r:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Sa.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Py(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ku[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(l,u)=>{n.addEventListener(this,l,u),t[l]=u},r=(l,u,d)=>{l.offsetX=u,l.offsetY=d,this._eventHandler(l)};xe(this.options.events,l=>s(l,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(f,g)=>{n.addEventListener(this,f,g),t[f]=g},r=(f,g)=>{t[f]&&(n.removeEventListener(this,f,g),delete t[f])},l=(f,g)=>{this.canvas&&this.resize(f,g)};let u;const d=()=>{r("attach",d),this.attached=!0,this.resize(),s("resize",l),s("detach",u)};u=()=>{this.attached=!1,r("resize",l),this._stop(),this._resize(0,0),s("attach",d)},n.isAttached(this.canvas)?d():u()}unbindEvents(){xe(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},xe(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const r=s?"set":"remove";let l,u,d,f;for(n==="dataset"&&(l=this.getDatasetMeta(t[0].datasetIndex),l.controller["_"+r+"DatasetHoverStyle"]()),d=0,f=t.length;d<f;++d){u=t[d];const g=u&&this.getDatasetMeta(u.datasetIndex).controller;g&&g[r+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:l,index:u})=>{const d=this.getDatasetMeta(l);if(!d)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:d.data[u],index:u}});!Yu(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const r=this.options.hover,l=(f,g)=>f.filter(b=>!g.some(_=>b.datasetIndex===_.datasetIndex&&b.index===_.index)),u=l(n,t),d=s?t:l(t,n);u.length&&this.updateHoverStyle(u,r.mode,!1),d.length&&r.mode&&this.updateHoverStyle(d,r.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},r=u=>(u.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const l=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(l||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:r=[],options:l}=this,u=n,d=this._getActiveElements(t,r,s,u),f=Xw(t),g=WA(t,this._lastEvent,s,f);s&&(this._lastEvent=null,Ce(l.onHover,[t,d,this],this),f&&Ce(l.onClick,[t,d,this],this));const b=!Yu(d,r);return(b||n)&&(this._active=d,this._updateHoverStyles(d,r,n)),this._lastEvent=g,b}_getActiveElements(t,n,s,r){if(t.type==="mouseout")return[];if(!s)return n;const l=this.options.hover;return this.getElementsAtEventForMode(t,l.mode,l,r)}};function bv(){return xe(sd.instances,i=>i._plugins.invalidate())}function IA(i,t,n){const{startAngle:s,x:r,y:l,outerRadius:u,innerRadius:d,options:f}=t,{borderWidth:g,borderJoinStyle:b}=f,_=Math.min(g/u,An(s-n));if(i.beginPath(),i.arc(r,l,u-g/2,s+_/2,n-_/2),d>0){const w=Math.min(g/d,An(s-n));i.arc(r,l,d+g/2,n-w/2,s+w/2,!0)}else{const w=Math.min(g/2,u*An(s-n));if(b==="round")i.arc(r,l,w,n-me/2,s+me/2,!0);else if(b==="bevel"){const T=2*w*w,C=-T*Math.cos(n+me/2)+r,O=-T*Math.sin(n+me/2)+l,M=T*Math.cos(s+me/2)+r,k=T*Math.sin(s+me/2)+l;i.lineTo(C,O),i.lineTo(M,k)}}i.closePath(),i.moveTo(0,0),i.rect(0,0,i.canvas.width,i.canvas.height),i.clip("evenodd")}function GA(i,t,n){const{startAngle:s,pixelMargin:r,x:l,y:u,outerRadius:d,innerRadius:f}=t;let g=r/d;i.beginPath(),i.arc(l,u,d,s-g,n+g),f>r?(g=r/f,i.arc(l,u,f,n+g,s-g,!0)):i.arc(l,u,r,n+Qe,s-Qe),i.closePath(),i.clip()}function QA(i){return ep(i,["outerStart","outerEnd","innerStart","innerEnd"])}function ZA(i,t,n,s){const r=QA(i.options.borderRadius),l=(n-t)/2,u=Math.min(l,s*t/2),d=f=>{const g=(n-Math.min(l,f))*s/2;return Tn(f,0,Math.min(l,g))};return{outerStart:d(r.outerStart),outerEnd:d(r.outerEnd),innerStart:Tn(r.innerStart,0,u),innerEnd:Tn(r.innerEnd,0,u)}}function co(i,t,n,s){return{x:n+i*Math.cos(t),y:s+i*Math.sin(t)}}function Zu(i,t,n,s,r,l){const{x:u,y:d,startAngle:f,pixelMargin:g,innerRadius:b}=t,_=Math.max(t.outerRadius+s+n-g,0),w=b>0?b+s+n+g:0;let T=0;const C=r-f;if(s){const Ht=b>0?b-s:0,et=_>0?_-s:0,St=(Ht+et)/2,Rt=St!==0?C*St/(St+s):C;T=(C-Rt)/2}const O=Math.max(.001,C*_-n/me)/_,M=(C-O)/2,k=f+M+T,G=r-M-T,{outerStart:ot,outerEnd:H,innerStart:$,innerEnd:J}=ZA(t,w,_,G-k),ht=_-ot,ft=_-H,mt=k+ot/ht,Mt=G-H/ft,zt=w+$,kt=w+J,Ot=k+$/zt,Xt=G-J/kt;if(i.beginPath(),l){const Ht=(mt+Mt)/2;if(i.arc(u,d,_,mt,Ht),i.arc(u,d,_,Ht,Mt),H>0){const rt=co(ft,Mt,u,d);i.arc(rt.x,rt.y,H,Mt,G+Qe)}const et=co(kt,G,u,d);if(i.lineTo(et.x,et.y),J>0){const rt=co(kt,Xt,u,d);i.arc(rt.x,rt.y,J,G+Qe,Xt+Math.PI)}const St=(G-J/w+(k+$/w))/2;if(i.arc(u,d,w,G-J/w,St,!0),i.arc(u,d,w,St,k+$/w,!0),$>0){const rt=co(zt,Ot,u,d);i.arc(rt.x,rt.y,$,Ot+Math.PI,k-Qe)}const Rt=co(ht,k,u,d);if(i.lineTo(Rt.x,Rt.y),ot>0){const rt=co(ht,mt,u,d);i.arc(rt.x,rt.y,ot,k-Qe,mt)}}else{i.moveTo(u,d);const Ht=Math.cos(mt)*_+u,et=Math.sin(mt)*_+d;i.lineTo(Ht,et);const St=Math.cos(Mt)*_+u,Rt=Math.sin(Mt)*_+d;i.lineTo(St,Rt)}i.closePath()}function $A(i,t,n,s,r){const{fullCircles:l,startAngle:u,circumference:d}=t;let f=t.endAngle;if(l){Zu(i,t,n,s,f,r);for(let g=0;g<l;++g)i.fill();isNaN(d)||(f=u+(d%ke||ke))}return Zu(i,t,n,s,f,r),i.fill(),f}function JA(i,t,n,s,r){const{fullCircles:l,startAngle:u,circumference:d,options:f}=t,{borderWidth:g,borderJoinStyle:b,borderDash:_,borderDashOffset:w,borderRadius:T}=f,C=f.borderAlign==="inner";if(!g)return;i.setLineDash(_||[]),i.lineDashOffset=w,C?(i.lineWidth=g*2,i.lineJoin=b||"round"):(i.lineWidth=g,i.lineJoin=b||"bevel");let O=t.endAngle;if(l){Zu(i,t,n,s,O,r);for(let M=0;M<l;++M)i.stroke();isNaN(d)||(O=u+(d%ke||ke))}C&&GA(i,t,O),f.selfJoin&&O-u>=me&&T===0&&b!=="miter"&&IA(i,t,O),l||(Zu(i,t,n,s,O,r),i.stroke())}class tT extends Ma{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,s){const r=this.getProps(["x","y"],s),{angle:l,distance:u}=Pb(r,{x:t,y:n}),{startAngle:d,endAngle:f,innerRadius:g,outerRadius:b,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),w=(this.options.spacing+this.options.borderWidth)/2,T=ie(_,f-d),C=ic(l,d,f)&&d!==f,O=T>=ke||C,M=Aa(u,g+w,b+w);return O&&M}getCenterPoint(t){const{x:n,y:s,startAngle:r,endAngle:l,innerRadius:u,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:g}=this.options,b=(r+l)/2,_=(u+d+g+f)/2;return{x:n+Math.cos(b)*_,y:s+Math.sin(b)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:s}=this,r=(n.offset||0)/4,l=(n.spacing||0)/2,u=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>ke?Math.floor(s/ke):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const d=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(d)*r,Math.sin(d)*r);const f=1-Math.sin(Math.min(me,s||0)),g=r*f;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,$A(t,this,g,l,u),JA(t,this,g,l,u),t.restore()}}function mx(i,t,n=t){i.lineCap=ie(n.borderCapStyle,t.borderCapStyle),i.setLineDash(ie(n.borderDash,t.borderDash)),i.lineDashOffset=ie(n.borderDashOffset,t.borderDashOffset),i.lineJoin=ie(n.borderJoinStyle,t.borderJoinStyle),i.lineWidth=ie(n.borderWidth,t.borderWidth),i.strokeStyle=ie(n.borderColor,t.borderColor)}function eT(i,t,n){i.lineTo(n.x,n.y)}function nT(i){return i.stepped?b1:i.tension||i.cubicInterpolationMode==="monotone"?x1:eT}function yx(i,t,n={}){const s=i.length,{start:r=0,end:l=s-1}=n,{start:u,end:d}=t,f=Math.max(r,u),g=Math.min(l,d),b=r<u&&l<u||r>d&&l>d;return{count:s,start:f,loop:t.loop,ilen:g<f&&!b?s+g-f:g-f}}function iT(i,t,n,s){const{points:r,options:l}=t,{count:u,start:d,loop:f,ilen:g}=yx(r,n,s),b=nT(l);let{move:_=!0,reverse:w}=s||{},T,C,O;for(T=0;T<=g;++T)C=r[(d+(w?g-T:T))%u],!C.skip&&(_?(i.moveTo(C.x,C.y),_=!1):b(i,O,C,w,l.stepped),O=C);return f&&(C=r[(d+(w?g:0))%u],b(i,O,C,w,l.stepped)),!!f}function aT(i,t,n,s){const r=t.points,{count:l,start:u,ilen:d}=yx(r,n,s),{move:f=!0,reverse:g}=s||{};let b=0,_=0,w,T,C,O,M,k;const G=H=>(u+(g?d-H:H))%l,ot=()=>{O!==M&&(i.lineTo(b,M),i.lineTo(b,O),i.lineTo(b,k))};for(f&&(T=r[G(0)],i.moveTo(T.x,T.y)),w=0;w<=d;++w){if(T=r[G(w)],T.skip)continue;const H=T.x,$=T.y,J=H|0;J===C?($<O?O=$:$>M&&(M=$),b=(_*b+H)/++_):(ot(),i.lineTo(H,$),C=J,_=0,O=M=$),k=$}ot()}function Rh(i){const t=i.options,n=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?aT:iT}function sT(i){return i.stepped?$1:i.tension||i.cubicInterpolationMode==="monotone"?J1:or}function rT(i,t,n,s){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,s)&&r.closePath()),mx(i,t.options),i.stroke(r)}function oT(i,t,n,s){const{segments:r,options:l}=t,u=Rh(t);for(const d of r)mx(i,l,d.style),i.beginPath(),u(i,t,d,{start:n,end:n+s-1})&&i.closePath(),i.stroke()}const lT=typeof Path2D=="function";function cT(i,t,n,s){lT&&!t.options.segment?rT(i,t,n,s):oT(i,t,n,s)}class rd extends Ma{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;F1(this._points,s,t,r,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=sE(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,s=t.length;return s&&n[t[s-1].end]}interpolate(t,n){const s=this.options,r=t[n],l=this.points,u=ex(this,{property:n,start:r,end:r});if(!u.length)return;const d=[],f=sT(s);let g,b;for(g=0,b=u.length;g<b;++g){const{start:_,end:w}=u[g],T=l[_],C=l[w];if(T===C){d.push(T);continue}const O=Math.abs((r-T[n])/(C[n]-T[n])),M=f(T,C,O,s.stepped);M[n]=t[n],d.push(M)}return d.length===1?d[0]:d}pathSegment(t,n,s){return Rh(this)(t,this,n,s)}path(t,n,s){const r=this.segments,l=Rh(this);let u=this._loop;n=n||0,s=s||this.points.length-n;for(const d of r)u&=l(t,this,d,{start:n,end:n+s-1});return!!u}draw(t,n,s,r){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(t.save(),cT(t,this,s,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function xv(i,t,n,s){const r=i.options,{[n]:l}=i.getProps([n],s);return Math.abs(t-l)<r.radius+r.hitRadius}class uT extends Ma{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,s){const r=this.options,{x:l,y:u}=this.getProps(["x","y"],s);return Math.pow(t-l,2)+Math.pow(n-u,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,n){return xv(this,t,"x",n)}inYRange(t,n){return xv(this,t,"y",n)}getCenterPoint(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const s=n&&t.borderWidth||0;return(n+s)*2}draw(t,n){const s=this.options;this.skip||s.radius<.1||!Ta(this,n,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,Mh(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function vx(i,t){const{x:n,y:s,base:r,width:l,height:u}=i.getProps(["x","y","base","width","height"],t);let d,f,g,b,_;return i.horizontal?(_=u/2,d=Math.min(n,r),f=Math.max(n,r),g=s-_,b=s+_):(_=l/2,d=n-_,f=n+_,g=Math.min(s,r),b=Math.max(s,r)),{left:d,top:g,right:f,bottom:b}}function _s(i,t,n,s){return i?0:Tn(t,n,s)}function dT(i,t,n){const s=i.options.borderWidth,r=i.borderSkipped,l=Fb(s);return{t:_s(r.top,l.top,0,n),r:_s(r.right,l.right,0,t),b:_s(r.bottom,l.bottom,0,n),l:_s(r.left,l.left,0,t)}}function fT(i,t,n){const{enableBorderRadius:s}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,l=cr(r),u=Math.min(t,n),d=i.borderSkipped,f=s||ue(r);return{topLeft:_s(!f||d.top||d.left,l.topLeft,0,u),topRight:_s(!f||d.top||d.right,l.topRight,0,u),bottomLeft:_s(!f||d.bottom||d.left,l.bottomLeft,0,u),bottomRight:_s(!f||d.bottom||d.right,l.bottomRight,0,u)}}function hT(i){const t=vx(i),n=t.right-t.left,s=t.bottom-t.top,r=dT(i,n/2,s/2),l=fT(i,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:l},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,l.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(r.b,r.r))}}}}function yh(i,t,n,s){const r=t===null,l=n===null,d=i&&!(r&&l)&&vx(i,s);return d&&(r||Aa(t,d.left,d.right))&&(l||Aa(n,d.top,d.bottom))}function pT(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function gT(i,t){i.rect(t.x,t.y,t.w,t.h)}function vh(i,t,n={}){const s=i.x!==n.x?-t:0,r=i.y!==n.y?-t:0,l=(i.x+i.w!==n.x+n.w?t:0)-s,u=(i.y+i.h!==n.y+n.h?t:0)-r;return{x:i.x+s,y:i.y+r,w:i.w+l,h:i.h+u,radius:i.radius}}class mT extends Ma{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:r}}=this,{inner:l,outer:u}=hT(this),d=pT(u.radius)?ac:gT;t.save(),(u.w!==l.w||u.h!==l.h)&&(t.beginPath(),d(t,vh(u,n,l)),t.clip(),d(t,vh(l,-n,u)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),d(t,vh(l,n)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,n,s){return yh(this,t,n,s)}inXRange(t,n){return yh(this,t,null,n)}inYRange(t,n){return yh(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:r,horizontal:l}=this.getProps(["x","y","base","horizontal"],t);return{x:l?(n+r)/2:n,y:l?s:(s+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}function yT(i,t,n){const s=i.segments,r=i.points,l=t.points,u=[];for(const d of s){let{start:f,end:g}=d;g=od(f,g,r);const b=Nh(n,r[f],r[g],d.loop);if(!t.segments){u.push({source:d,target:b,start:r[f],end:r[g]});continue}const _=ex(t,b);for(const w of _){const T=Nh(n,l[w.start],l[w.end],w.loop),C=tx(d,r,T);for(const O of C)u.push({source:O,target:w,start:{[n]:_v(b,T,"start",Math.max)},end:{[n]:_v(b,T,"end",Math.min)}})}}return u}function Nh(i,t,n,s){if(s)return;let r=t[i],l=n[i];return i==="angle"&&(r=An(r),l=An(l)),{property:i,start:r,end:l}}function vT(i,t){const{x:n=null,y:s=null}=i||{},r=t.points,l=[];return t.segments.forEach(({start:u,end:d})=>{d=od(u,d,r);const f=r[u],g=r[d];s!==null?(l.push({x:f.x,y:s}),l.push({x:g.x,y:s})):n!==null&&(l.push({x:n,y:f.y}),l.push({x:n,y:g.y}))}),l}function od(i,t,n){for(;t>i;t--){const s=n[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function _v(i,t,n,s){return i&&t?s(i[n],t[n]):i?i[n]:t?t[n]:0}function bx(i,t){let n=[],s=!1;return ze(i)?(s=!0,n=i):n=vT(i,t),n.length?new rd({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function Sv(i){return i&&i.fill!==!1}function bT(i,t,n){let r=i[t].fill;const l=[t];let u;if(!n)return r;for(;r!==!1&&l.indexOf(r)===-1;){if(!dn(r))return r;if(u=i[r],!u)return!1;if(u.visible)return r;l.push(r),r=u.fill}return!1}function xT(i,t,n){const s=ET(i);if(ue(s))return isNaN(s.value)?!1:s;let r=parseFloat(s);return dn(r)&&Math.floor(r)===r?_T(s[0],t,r,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function _T(i,t,n,s){return(i==="-"||i==="+")&&(n=t+n),n===t||n<0||n>=s?!1:n}function ST(i,t){let n=null;return i==="start"?n=t.bottom:i==="end"?n=t.top:ue(i)?n=t.getPixelForValue(i.value):t.getBasePixel&&(n=t.getBasePixel()),n}function wT(i,t,n){let s;return i==="start"?s=n:i==="end"?s=t.options.reverse?t.min:t.max:ue(i)?s=i.value:s=t.getBaseValue(),s}function ET(i){const t=i.options,n=t.fill;let s=ie(n&&n.target,n);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function AT(i){const{scale:t,index:n,line:s}=i,r=[],l=s.segments,u=s.points,d=TT(t,n);d.push(bx({x:null,y:t.bottom},s));for(let f=0;f<l.length;f++){const g=l[f];for(let b=g.start;b<=g.end;b++)DT(r,u[b],d)}return new rd({points:r,options:{}})}function TT(i,t){const n=[],s=i.getMatchingVisibleMetas("line");for(let r=0;r<s.length;r++){const l=s[r];if(l.index===t)break;l.hidden||n.unshift(l.dataset)}return n}function DT(i,t,n){const s=[];for(let r=0;r<n.length;r++){const l=n[r],{first:u,last:d,point:f}=CT(l,t,"x");if(!(!f||u&&d)){if(u)s.unshift(f);else if(i.push(f),!d)break}}i.push(...s)}function CT(i,t,n){const s=i.interpolate(t,n);if(!s)return{};const r=s[n],l=i.segments,u=i.points;let d=!1,f=!1;for(let g=0;g<l.length;g++){const b=l[g],_=u[b.start][n],w=u[b.end][n];if(Aa(r,_,w)){d=r===_,f=r===w;break}}return{first:d,last:f,point:s}}class xx{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,s){const{x:r,y:l,radius:u}=this;return n=n||{start:0,end:ke},t.arc(r,l,u,n.end,n.start,!0),!s.bounds}interpolate(t){const{x:n,y:s,radius:r}=this,l=t.angle;return{x:n+Math.cos(l)*r,y:s+Math.sin(l)*r,angle:l}}}function jT(i){const{chart:t,fill:n,line:s}=i;if(dn(n))return MT(t,n);if(n==="stack")return AT(i);if(n==="shape")return!0;const r=OT(i);return r instanceof xx?r:bx(r,s)}function MT(i,t){const n=i.getDatasetMeta(t);return n&&i.isDatasetVisible(t)?n.dataset:null}function OT(i){return(i.scale||{}).getPointPositionForValue?RT(i):kT(i)}function kT(i){const{scale:t={},fill:n}=i,s=ST(n,t);if(dn(s)){const r=t.isHorizontal();return{x:r?s:null,y:r?null:s}}return null}function RT(i){const{scale:t,fill:n}=i,s=t.options,r=t.getLabels().length,l=s.reverse?t.max:t.min,u=wT(n,t,l),d=[];if(s.grid.circular){const f=t.getPointPositionForValue(0,l);return new xx({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(u)})}for(let f=0;f<r;++f)d.push(t.getPointPositionForValue(f,u));return d}function bh(i,t,n){const s=jT(t),{chart:r,index:l,line:u,scale:d,axis:f}=t,g=u.options,b=g.fill,_=g.backgroundColor,{above:w=_,below:T=_}=b||{},C=r.getDatasetMeta(l),O=nx(r,C);s&&u.points.length&&(ed(i,n),NT(i,{line:u,target:s,above:w,below:T,area:n,scale:d,axis:f,clip:O}),nd(i))}function NT(i,t){const{line:n,target:s,above:r,below:l,area:u,scale:d,clip:f}=t,g=n._loop?"angle":t.axis;i.save();let b=l;l!==r&&(g==="x"?(wv(i,s,u.top),xh(i,{line:n,target:s,color:r,scale:d,property:g,clip:f}),i.restore(),i.save(),wv(i,s,u.bottom)):g==="y"&&(Ev(i,s,u.left),xh(i,{line:n,target:s,color:l,scale:d,property:g,clip:f}),i.restore(),i.save(),Ev(i,s,u.right),b=r)),xh(i,{line:n,target:s,color:b,scale:d,property:g,clip:f}),i.restore()}function wv(i,t,n){const{segments:s,points:r}=t;let l=!0,u=!1;i.beginPath();for(const d of s){const{start:f,end:g}=d,b=r[f],_=r[od(f,g,r)];l?(i.moveTo(b.x,b.y),l=!1):(i.lineTo(b.x,n),i.lineTo(b.x,b.y)),u=!!t.pathSegment(i,d,{move:u}),u?i.closePath():i.lineTo(_.x,n)}i.lineTo(t.first().x,n),i.closePath(),i.clip()}function Ev(i,t,n){const{segments:s,points:r}=t;let l=!0,u=!1;i.beginPath();for(const d of s){const{start:f,end:g}=d,b=r[f],_=r[od(f,g,r)];l?(i.moveTo(b.x,b.y),l=!1):(i.lineTo(n,b.y),i.lineTo(b.x,b.y)),u=!!t.pathSegment(i,d,{move:u}),u?i.closePath():i.lineTo(n,_.y)}i.lineTo(n,t.first().y),i.closePath(),i.clip()}function xh(i,t){const{line:n,target:s,property:r,color:l,scale:u,clip:d}=t,f=yT(n,s,r);for(const{source:g,target:b,start:_,end:w}of f){const{style:{backgroundColor:T=l}={}}=g,C=s!==!0;i.save(),i.fillStyle=T,LT(i,u,d,C&&Nh(r,_,w)),i.beginPath();const O=!!n.pathSegment(i,g);let M;if(C){O?i.closePath():Av(i,s,w,r);const k=!!s.pathSegment(i,b,{move:O,reverse:!0});M=O&&k,M||Av(i,s,_,r)}i.closePath(),i.fill(M?"evenodd":"nonzero"),i.restore()}}function LT(i,t,n,s){const r=t.chart.chartArea,{property:l,start:u,end:d}=s||{};if(l==="x"||l==="y"){let f,g,b,_;l==="x"?(f=u,g=r.top,b=d,_=r.bottom):(f=r.left,g=u,b=r.right,_=d),i.beginPath(),n&&(f=Math.max(f,n.left),b=Math.min(b,n.right),g=Math.max(g,n.top),_=Math.min(_,n.bottom)),i.rect(f,g,b-f,_-g),i.clip()}}function Av(i,t,n,s){const r=t.interpolate(n,s);r&&i.lineTo(r.x,r.y)}var zT={id:"filler",afterDatasetsUpdate(i,t,n){const s=(i.data.datasets||[]).length,r=[];let l,u,d,f;for(u=0;u<s;++u)l=i.getDatasetMeta(u),d=l.dataset,f=null,d&&d.options&&d instanceof rd&&(f={visible:i.isDatasetVisible(u),index:u,fill:xT(d,u,s),chart:i,axis:l.controller.options.indexAxis,scale:l.vScale,line:d}),l.$filler=f,r.push(f);for(u=0;u<s;++u)f=r[u],!(!f||f.fill===!1)&&(f.fill=bT(r,u,n.propagate))},beforeDraw(i,t,n){const s=n.drawTime==="beforeDraw",r=i.getSortedVisibleDatasetMetas(),l=i.chartArea;for(let u=r.length-1;u>=0;--u){const d=r[u].$filler;d&&(d.line.updateControlPoints(l,d.axis),s&&d.fill&&bh(i.ctx,d,l))}},beforeDatasetsDraw(i,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=i.getSortedVisibleDatasetMetas();for(let r=s.length-1;r>=0;--r){const l=s[r].$filler;Sv(l)&&bh(i.ctx,l,i.chartArea)}},beforeDatasetDraw(i,t,n){const s=t.meta.$filler;!Sv(s)||n.drawTime!=="beforeDatasetDraw"||bh(i.ctx,s,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Tv=(i,t)=>{let{boxHeight:n=t,boxWidth:s=t}=i;return i.usePointStyle&&(n=Math.min(n,t),s=i.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},BT=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index;class Dv extends Ma{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Ce(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,r)=>t.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,r=an(s.font),l=r.size,u=this._computeTitleHeight(),{boxWidth:d,itemHeight:f}=Tv(s,l);let g,b;n.font=r.string,this.isHorizontal()?(g=this.maxWidth,b=this._fitRows(u,l,d,f)+10):(b=this.maxHeight,g=this._fitCols(u,r,d,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(b,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,r){const{ctx:l,maxWidth:u,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],b=r+d;let _=t;l.textAlign="left",l.textBaseline="middle";let w=-1,T=-b;return this.legendItems.forEach((C,O)=>{const M=s+n/2+l.measureText(C.text).width;(O===0||g[g.length-1]+M+2*d>u)&&(_+=b,g[g.length-(O>0?0:1)]=0,T+=b,w++),f[O]={left:0,top:T,row:w,width:M,height:r},g[g.length-1]+=M+d}),_}_fitCols(t,n,s,r){const{ctx:l,maxHeight:u,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],b=u-t;let _=d,w=0,T=0,C=0,O=0;return this.legendItems.forEach((M,k)=>{const{itemWidth:G,itemHeight:ot}=PT(s,n,l,M,r);k>0&&T+ot+2*d>b&&(_+=w+d,g.push({width:w,height:T}),C+=w+d,O++,w=T=0),f[k]={left:C,top:T,col:O,width:G,height:ot},w=Math.max(w,G),T+=ot+d}),_+=w,g.push({width:w,height:T}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:l}}=this,u=go(l,this.left,this.width);if(this.isHorizontal()){let d=0,f=En(s,this.left+r,this.right-this.lineWidths[d]);for(const g of n)d!==g.row&&(d=g.row,f=En(s,this.left+r,this.right-this.lineWidths[d])),g.top+=this.top+t+r,g.left=u.leftForLtr(u.x(f),g.width),f+=g.width+r}else{let d=0,f=En(s,this.top+t+r,this.bottom-this.columnSizes[d].height);for(const g of n)g.col!==d&&(d=g.col,f=En(s,this.top+t+r,this.bottom-this.columnSizes[d].height)),g.top=f,g.left+=this.left+r,g.left=u.leftForLtr(u.x(g.left),g.width),f+=g.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;ed(t,this),this._draw(),nd(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:r}=this,{align:l,labels:u}=t,d=Fe.color,f=go(t.rtl,this.left,this.width),g=an(u.font),{padding:b}=u,_=g.size,w=_/2;let T;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:C,boxHeight:O,itemHeight:M}=Tv(u,_),k=function(J,ht,ft){if(isNaN(C)||C<=0||isNaN(O)||O<0)return;r.save();const mt=ie(ft.lineWidth,1);if(r.fillStyle=ie(ft.fillStyle,d),r.lineCap=ie(ft.lineCap,"butt"),r.lineDashOffset=ie(ft.lineDashOffset,0),r.lineJoin=ie(ft.lineJoin,"miter"),r.lineWidth=mt,r.strokeStyle=ie(ft.strokeStyle,d),r.setLineDash(ie(ft.lineDash,[])),u.usePointStyle){const Mt={radius:O*Math.SQRT2/2,pointStyle:ft.pointStyle,rotation:ft.rotation,borderWidth:mt},zt=f.xPlus(J,C/2),kt=ht+w;Vb(r,Mt,zt,kt,u.pointStyleWidth&&C)}else{const Mt=ht+Math.max((_-O)/2,0),zt=f.leftForLtr(J,C),kt=cr(ft.borderRadius);r.beginPath(),Object.values(kt).some(Ot=>Ot!==0)?ac(r,{x:zt,y:Mt,w:C,h:O,radius:kt}):r.rect(zt,Mt,C,O),r.fill(),mt!==0&&r.stroke()}r.restore()},G=function(J,ht,ft){hr(r,ft.text,J,ht+M/2,g,{strikethrough:ft.hidden,textAlign:f.textAlign(ft.textAlign)})},ot=this.isHorizontal(),H=this._computeTitleHeight();ot?T={x:En(l,this.left+b,this.right-s[0]),y:this.top+b+H,line:0}:T={x:this.left+b,y:En(l,this.top+H+b,this.bottom-n[0].height),line:0},Zb(this.ctx,t.textDirection);const $=M+b;this.legendItems.forEach((J,ht)=>{r.strokeStyle=J.fontColor,r.fillStyle=J.fontColor;const ft=r.measureText(J.text).width,mt=f.textAlign(J.textAlign||(J.textAlign=u.textAlign)),Mt=C+w+ft;let zt=T.x,kt=T.y;f.setWidth(this.width),ot?ht>0&&zt+Mt+b>this.right&&(kt=T.y+=$,T.line++,zt=T.x=En(l,this.left+b,this.right-s[T.line])):ht>0&&kt+$>this.bottom&&(zt=T.x=zt+n[T.line].width+b,T.line++,kt=T.y=En(l,this.top+H+b,this.bottom-n[T.line].height));const Ot=f.x(zt);if(k(Ot,kt,J),zt=s1(mt,zt+C+w,ot?zt+Mt:this.right,t.rtl),G(f.x(zt),kt,J),ot)T.x+=Mt+b;else if(typeof J.text!="string"){const Xt=g.lineHeight;T.y+=_x(J,Xt)+b}else T.y+=$}),$b(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=an(n.font),r=Dn(n.padding);if(!n.display)return;const l=go(t.rtl,this.left,this.width),u=this.ctx,d=n.position,f=s.size/2,g=r.top+f;let b,_=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),b=this.top+g,_=En(t.align,_,this.right-w);else{const C=this.columnSizes.reduce((O,M)=>Math.max(O,M.height),0);b=g+En(t.align,this.top,this.bottom-C-t.labels.padding-this._computeTitleHeight())}const T=En(d,_,_+w);u.textAlign=l.textAlign($h(d)),u.textBaseline="middle",u.strokeStyle=n.color,u.fillStyle=n.color,u.font=s.string,hr(u,n.text,T,b,s)}_computeTitleHeight(){const t=this.options.title,n=an(t.font),s=Dn(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,r,l;if(Aa(t,this.left,this.right)&&Aa(n,this.top,this.bottom)){for(l=this.legendHitBoxes,s=0;s<l.length;++s)if(r=l[s],Aa(t,r.left,r.left+r.width)&&Aa(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!qT(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,l=BT(r,s);r&&!l&&Ce(n.onLeave,[t,r,this],this),this._hoveredItem=s,s&&!l&&Ce(n.onHover,[t,s,this],this)}else s&&Ce(n.onClick,[t,s,this],this)}}function PT(i,t,n,s,r){const l=HT(s,i,t,n),u=UT(r,s,t.lineHeight);return{itemWidth:l,itemHeight:u}}function HT(i,t,n,s){let r=i.text;return r&&typeof r!="string"&&(r=r.reduce((l,u)=>l.length>u.length?l:u)),t+n.size/2+s.measureText(r).width}function UT(i,t,n){let s=i;return typeof t.text!="string"&&(s=_x(t,n)),s}function _x(i,t){const n=i.text?i.text.length:0;return t*n}function qT(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var KT={id:"legend",_element:Dv,start(i,t,n){const s=i.legend=new Dv({ctx:i.ctx,options:n,chart:i});di.configure(i,s,n),di.addBox(i,s)},stop(i){di.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,n){const s=i.legend;di.configure(i,s,n),s.options=n},afterUpdate(i){const t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,n){const s=t.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),t.hidden=!0):(r.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const t=i.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:l,useBorderRadius:u,borderRadius:d}}=i.legend.options;return i._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(n?0:void 0),b=Dn(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:l,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(b.width+b.height)/4,strokeStyle:g.borderColor,pointStyle:s||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:u&&(d||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class Sx extends Ma{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const r=ze(s.text)?s.text.length:1;this._padding=Dn(s.padding);const l=r*an(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:r,right:l,options:u}=this,d=u.align;let f=0,g,b,_;return this.isHorizontal()?(b=En(d,s,l),_=n+t,g=l-s):(u.position==="left"?(b=s+t,_=En(d,r,n),f=me*-.5):(b=l-t,_=En(d,n,r),f=me*.5),g=r-n),{titleX:b,titleY:_,maxWidth:g,rotation:f}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=an(n.font),l=s.lineHeight/2+this._padding.top,{titleX:u,titleY:d,maxWidth:f,rotation:g}=this._drawArgs(l);hr(t,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:g,textAlign:$h(n.align),textBaseline:"middle",translation:[u,d]})}}function VT(i,t){const n=new Sx({ctx:i.ctx,options:t,chart:i});di.configure(i,n,t),di.addBox(i,n),i.titleBlock=n}var FT={id:"title",_element:Sx,start(i,t,n){VT(i,n)},stop(i){const t=i.titleBlock;di.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,n){const s=i.titleBlock;di.configure(i,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yl={average(i){if(!i.length)return!1;let t,n,s=new Set,r=0,l=0;for(t=0,n=i.length;t<n;++t){const d=i[t].element;if(d&&d.hasValue()){const f=d.tooltipPosition();s.add(f.x),r+=f.y,++l}}return l===0||s.size===0?!1:{x:[...s].reduce((d,f)=>d+f)/s.size,y:r/l}},nearest(i,t){if(!i.length)return!1;let n=t.x,s=t.y,r=Number.POSITIVE_INFINITY,l,u,d;for(l=0,u=i.length;l<u;++l){const f=i[l].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),b=Ch(t,g);b<r&&(r=b,d=f)}}if(d){const f=d.tooltipPosition();n=f.x,s=f.y}return{x:n,y:s}}};function Hi(i,t){return t&&(ze(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function wa(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function YT(i,t){const{element:n,datasetIndex:s,index:r}=t,l=i.getDatasetMeta(s).controller,{label:u,value:d}=l.getLabelAndValue(r);return{chart:i,label:u,parsed:l.getParsed(r),raw:i.data.datasets[s].data[r],formattedValue:d,dataset:l.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function Cv(i,t){const n=i.chart.ctx,{body:s,footer:r,title:l}=i,{boxWidth:u,boxHeight:d}=t,f=an(t.bodyFont),g=an(t.titleFont),b=an(t.footerFont),_=l.length,w=r.length,T=s.length,C=Dn(t.padding);let O=C.height,M=0,k=s.reduce((H,$)=>H+$.before.length+$.lines.length+$.after.length,0);if(k+=i.beforeBody.length+i.afterBody.length,_&&(O+=_*g.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),k){const H=t.displayColors?Math.max(d,f.lineHeight):f.lineHeight;O+=T*H+(k-T)*f.lineHeight+(k-1)*t.bodySpacing}w&&(O+=t.footerMarginTop+w*b.lineHeight+(w-1)*t.footerSpacing);let G=0;const ot=function(H){M=Math.max(M,n.measureText(H).width+G)};return n.save(),n.font=g.string,xe(i.title,ot),n.font=f.string,xe(i.beforeBody.concat(i.afterBody),ot),G=t.displayColors?u+2+t.boxPadding:0,xe(s,H=>{xe(H.before,ot),xe(H.lines,ot),xe(H.after,ot)}),G=0,n.font=b.string,xe(i.footer,ot),n.restore(),M+=C.width,{width:M,height:O}}function XT(i,t){const{y:n,height:s}=t;return n<s/2?"top":n>i.height-s/2?"bottom":"center"}function WT(i,t,n,s){const{x:r,width:l}=s,u=n.caretSize+n.caretPadding;if(i==="left"&&r+l+u>t.width||i==="right"&&r-l-u<0)return!0}function IT(i,t,n,s){const{x:r,width:l}=n,{width:u,chartArea:{left:d,right:f}}=i;let g="center";return s==="center"?g=r<=(d+f)/2?"left":"right":r<=l/2?g="left":r>=u-l/2&&(g="right"),WT(g,i,t,n)&&(g="center"),g}function jv(i,t,n){const s=n.yAlign||t.yAlign||XT(i,n);return{xAlign:n.xAlign||t.xAlign||IT(i,t,n,s),yAlign:s}}function GT(i,t){let{x:n,width:s}=i;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function QT(i,t,n){let{y:s,height:r}=i;return t==="top"?s+=n:t==="bottom"?s-=r+n:s-=r/2,s}function Mv(i,t,n,s){const{caretSize:r,caretPadding:l,cornerRadius:u}=i,{xAlign:d,yAlign:f}=n,g=r+l,{topLeft:b,topRight:_,bottomLeft:w,bottomRight:T}=cr(u);let C=GT(t,d);const O=QT(t,f,g);return f==="center"?d==="left"?C+=g:d==="right"&&(C-=g):d==="left"?C-=Math.max(b,w)+r:d==="right"&&(C+=Math.max(_,T)+r),{x:Tn(C,0,s.width-t.width),y:Tn(O,0,s.height-t.height)}}function Lu(i,t,n){const s=Dn(n.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-s.right:i.x+s.left}function Ov(i){return Hi([],wa(i))}function ZT(i,t,n){return Ts(i,{tooltip:t,tooltipItems:n,type:"tooltip"})}function kv(i,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?i.override(n):i}const wx={beforeTitle:xa,title(i){if(i.length>0){const t=i[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:xa,beforeBody:xa,beforeLabel:xa,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");const n=i.formattedValue;return pe(n)||(t+=n),t},labelColor(i){const n=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const n=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:xa,afterBody:xa,beforeFooter:xa,footer:xa,afterFooter:xa};function Un(i,t,n,s){const r=i[t].call(n,s);return typeof r>"u"?wx[t].call(n,s):r}class Rv extends Ma{static positioners=Yl;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,l=new ix(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=ZT(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,r=Un(s,"beforeTitle",this,t),l=Un(s,"title",this,t),u=Un(s,"afterTitle",this,t);let d=[];return d=Hi(d,wa(r)),d=Hi(d,wa(l)),d=Hi(d,wa(u)),d}getBeforeBody(t,n){return Ov(Un(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,r=[];return xe(t,l=>{const u={before:[],lines:[],after:[]},d=kv(s,l);Hi(u.before,wa(Un(d,"beforeLabel",this,l))),Hi(u.lines,Un(d,"label",this,l)),Hi(u.after,wa(Un(d,"afterLabel",this,l))),r.push(u)}),r}getAfterBody(t,n){return Ov(Un(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,r=Un(s,"beforeFooter",this,t),l=Un(s,"footer",this,t),u=Un(s,"afterFooter",this,t);let d=[];return d=Hi(d,wa(r)),d=Hi(d,wa(l)),d=Hi(d,wa(u)),d}_createItems(t){const n=this._active,s=this.chart.data,r=[],l=[],u=[];let d=[],f,g;for(f=0,g=n.length;f<g;++f)d.push(YT(this.chart,n[f]));return t.filter&&(d=d.filter((b,_,w)=>t.filter(b,_,w,s))),t.itemSort&&(d=d.sort((b,_)=>t.itemSort(b,_,s))),xe(d,b=>{const _=kv(t.callbacks,b);r.push(Un(_,"labelColor",this,b)),l.push(Un(_,"labelPointStyle",this,b)),u.push(Un(_,"labelTextColor",this,b))}),this.labelColors=r,this.labelPointStyles=l,this.labelTextColors=u,this.dataPoints=d,d}update(t,n){const s=this.options.setContext(this.getContext()),r=this._active;let l,u=[];if(!r.length)this.opacity!==0&&(l={opacity:0});else{const d=Yl[s.position].call(this,r,this._eventPosition);u=this._createItems(s),this.title=this.getTitle(u,s),this.beforeBody=this.getBeforeBody(u,s),this.body=this.getBody(u,s),this.afterBody=this.getAfterBody(u,s),this.footer=this.getFooter(u,s);const f=this._size=Cv(this,s),g=Object.assign({},d,f),b=jv(this.chart,s,g),_=Mv(s,g,b,this.chart);this.xAlign=b.xAlign,this.yAlign=b.yAlign,l={opacity:1,x:_.x,y:_.y,width:f.width,height:f.height,caretX:d.x,caretY:d.y}}this._tooltipItems=u,this.$context=void 0,l&&this._resolveAnimations().update(this,l),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,r){const l=this.getCaretPosition(t,s,r);n.lineTo(l.x1,l.y1),n.lineTo(l.x2,l.y2),n.lineTo(l.x3,l.y3)}getCaretPosition(t,n,s){const{xAlign:r,yAlign:l}=this,{caretSize:u,cornerRadius:d}=s,{topLeft:f,topRight:g,bottomLeft:b,bottomRight:_}=cr(d),{x:w,y:T}=t,{width:C,height:O}=n;let M,k,G,ot,H,$;return l==="center"?(H=T+O/2,r==="left"?(M=w,k=M-u,ot=H+u,$=H-u):(M=w+C,k=M+u,ot=H-u,$=H+u),G=M):(r==="left"?k=w+Math.max(f,b)+u:r==="right"?k=w+C-Math.max(g,_)-u:k=this.caretX,l==="top"?(ot=T,H=ot-u,M=k-u,G=k+u):(ot=T+O,H=ot+u,M=k+u,G=k-u),$=ot),{x1:M,x2:k,x3:G,y1:ot,y2:H,y3:$}}drawTitle(t,n,s){const r=this.title,l=r.length;let u,d,f;if(l){const g=go(s.rtl,this.x,this.width);for(t.x=Lu(this,s.titleAlign,s),n.textAlign=g.textAlign(s.titleAlign),n.textBaseline="middle",u=an(s.titleFont),d=s.titleSpacing,n.fillStyle=s.titleColor,n.font=u.string,f=0;f<l;++f)n.fillText(r[f],g.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+d,f+1===l&&(t.y+=s.titleMarginBottom-d)}}_drawColorBox(t,n,s,r,l){const u=this.labelColors[s],d=this.labelPointStyles[s],{boxHeight:f,boxWidth:g}=l,b=an(l.bodyFont),_=Lu(this,"left",l),w=r.x(_),T=f<b.lineHeight?(b.lineHeight-f)/2:0,C=n.y+T;if(l.usePointStyle){const O={radius:Math.min(g,f)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},M=r.leftForLtr(w,g)+g/2,k=C+f/2;t.strokeStyle=l.multiKeyBackground,t.fillStyle=l.multiKeyBackground,Mh(t,O,M,k),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,Mh(t,O,M,k)}else{t.lineWidth=ue(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;const O=r.leftForLtr(w,g),M=r.leftForLtr(r.xPlus(w,1),g-2),k=cr(u.borderRadius);Object.values(k).some(G=>G!==0)?(t.beginPath(),t.fillStyle=l.multiKeyBackground,ac(t,{x:O,y:C,w:g,h:f,radius:k}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),ac(t,{x:M,y:C+1,w:g-2,h:f-2,radius:k}),t.fill()):(t.fillStyle=l.multiKeyBackground,t.fillRect(O,C,g,f),t.strokeRect(O,C,g,f),t.fillStyle=u.backgroundColor,t.fillRect(M,C+1,g-2,f-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:r}=this,{bodySpacing:l,bodyAlign:u,displayColors:d,boxHeight:f,boxWidth:g,boxPadding:b}=s,_=an(s.bodyFont);let w=_.lineHeight,T=0;const C=go(s.rtl,this.x,this.width),O=function(ft){n.fillText(ft,C.x(t.x+T),t.y+w/2),t.y+=w+l},M=C.textAlign(u);let k,G,ot,H,$,J,ht;for(n.textAlign=u,n.textBaseline="middle",n.font=_.string,t.x=Lu(this,M,s),n.fillStyle=s.bodyColor,xe(this.beforeBody,O),T=d&&M!=="right"?u==="center"?g/2+b:g+2+b:0,H=0,J=r.length;H<J;++H){for(k=r[H],G=this.labelTextColors[H],n.fillStyle=G,xe(k.before,O),ot=k.lines,d&&ot.length&&(this._drawColorBox(n,t,H,C,s),w=Math.max(_.lineHeight,f)),$=0,ht=ot.length;$<ht;++$)O(ot[$]),w=_.lineHeight;xe(k.after,O)}T=0,w=_.lineHeight,xe(this.afterBody,O),t.y-=l}drawFooter(t,n,s){const r=this.footer,l=r.length;let u,d;if(l){const f=go(s.rtl,this.x,this.width);for(t.x=Lu(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=f.textAlign(s.footerAlign),n.textBaseline="middle",u=an(s.footerFont),n.fillStyle=s.footerColor,n.font=u.string,d=0;d<l;++d)n.fillText(r[d],f.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+s.footerSpacing}}drawBackground(t,n,s,r){const{xAlign:l,yAlign:u}=this,{x:d,y:f}=t,{width:g,height:b}=s,{topLeft:_,topRight:w,bottomLeft:T,bottomRight:C}=cr(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(d+_,f),u==="top"&&this.drawCaret(t,n,s,r),n.lineTo(d+g-w,f),n.quadraticCurveTo(d+g,f,d+g,f+w),u==="center"&&l==="right"&&this.drawCaret(t,n,s,r),n.lineTo(d+g,f+b-C),n.quadraticCurveTo(d+g,f+b,d+g-C,f+b),u==="bottom"&&this.drawCaret(t,n,s,r),n.lineTo(d+T,f+b),n.quadraticCurveTo(d,f+b,d,f+b-T),u==="center"&&l==="left"&&this.drawCaret(t,n,s,r),n.lineTo(d,f+_),n.quadraticCurveTo(d,f,d+_,f),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,r=s&&s.x,l=s&&s.y;if(r||l){const u=Yl[t.position].call(this,this._active,this._eventPosition);if(!u)return;const d=this._size=Cv(this,t),f=Object.assign({},u,this._size),g=jv(n,t,f),b=Mv(t,f,g,n);(r._to!==b.x||l._to!==b.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=d.width,this.height=d.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,b))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},l={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const u=Dn(n.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&d&&(t.save(),t.globalAlpha=s,this.drawBackground(l,t,r,n),Zb(t,n.textDirection),l.y+=u.top,this.drawTitle(l,t,n),this.drawBody(l,t,n),this.drawFooter(l,t,n),$b(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,r=t.map(({datasetIndex:d,index:f})=>{const g=this.chart.getDatasetMeta(d);if(!g)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:g.data[f],index:f}}),l=!Yu(s,r),u=this._positionChanged(r,n);(l||u)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,l=this._active||[],u=this._getActiveElements(t,l,n,s),d=this._positionChanged(u,t),f=n||!Yu(u,l)||d;return f&&(this._active=u,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),f}_getActiveElements(t,n,s,r){const l=this.options;if(t.type==="mouseout")return[];if(!r)return n.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const u=this.chart.getElementsAtEventForMode(t,l.mode,l,s);return l.reverse&&u.reverse(),u}_positionChanged(t,n){const{caretX:s,caretY:r,options:l}=this,u=Yl[l.position].call(this,t,n);return u!==!1&&(s!==u.x||r!==u.y)}}var $T={id:"tooltip",_element:Rv,positioners:Yl,afterInit(i,t,n){n&&(i.tooltip=new Rv({chart:i,options:n}))},beforeUpdate(i,t,n){i.tooltip&&i.tooltip.initialize(n)},reset(i,t,n){i.tooltip&&i.tooltip.initialize(n)},afterDraw(i){const t=i.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",n)}},afterEvent(i,t){if(i.tooltip){const n=t.replay;i.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:wx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const JT=(i,t,n,s)=>(typeof t=="string"?(n=i.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function tD(i,t,n,s){const r=i.indexOf(t);if(r===-1)return JT(i,t,n,s);const l=i.lastIndexOf(t);return r!==l?n:r}const eD=(i,t)=>i===null?null:Tn(Math.round(i),0,t);function Nv(i){const t=this.getLabels();return i>=0&&i<t.length?t[i]:i}class nD extends So{static id="category";static defaults={ticks:{callback:Nv}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:l}of n)s[r]===l&&s.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(pe(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:tD(s,t,ie(n,t),this._addedLabels),eD(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,r=[];let l=this.getLabels();l=t===0&&n===l.length-1?l:l.slice(t,n+1),this._valueRange=Math.max(l.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let u=t;u<=n;u++)r.push({value:u});return r}getLabelForValue(t){return Nv.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function iD(i,t){const n=[],{bounds:r,step:l,min:u,max:d,precision:f,count:g,maxTicks:b,maxDigits:_,includeBounds:w}=i,T=l||1,C=b-1,{min:O,max:M}=t,k=!pe(u),G=!pe(d),ot=!pe(g),H=(M-O)/(_+1);let $=Oy((M-O)/C/T)*T,J,ht,ft,mt;if($<1e-14&&!k&&!G)return[{value:O},{value:M}];mt=Math.ceil(M/$)-Math.floor(O/$),mt>C&&($=Oy(mt*$/C/T)*T),pe(f)||(J=Math.pow(10,f),$=Math.ceil($*J)/J),r==="ticks"?(ht=Math.floor(O/$)*$,ft=Math.ceil(M/$)*$):(ht=O,ft=M),k&&G&&l&&Zw((d-u)/l,$/1e3)?(mt=Math.round(Math.min((d-u)/$,b)),$=(d-u)/mt,ht=u,ft=d):ot?(ht=k?u:ht,ft=G?d:ft,mt=g-1,$=(ft-ht)/mt):(mt=(ft-ht)/$,Il(mt,Math.round(mt),$/1e3)?mt=Math.round(mt):mt=Math.ceil(mt));const Mt=Math.max(ky($),ky(ht));J=Math.pow(10,pe(f)?Mt:f),ht=Math.round(ht*J)/J,ft=Math.round(ft*J)/J;let zt=0;for(k&&(w&&ht!==u?(n.push({value:u}),ht<u&&zt++,Il(Math.round((ht+zt*$)*J)/J,u,Lv(u,H,i))&&zt++):ht<u&&zt++);zt<mt;++zt){const kt=Math.round((ht+zt*$)*J)/J;if(G&&kt>d)break;n.push({value:kt})}return G&&w&&ft!==d?n.length&&Il(n[n.length-1].value,d,Lv(d,H,i))?n[n.length-1].value=d:n.push({value:d}):(!G||ft===d)&&n.push({value:ft}),n}function Lv(i,t,{horizontal:n,minRotation:s}){const r=xi(s),l=(n?Math.sin(r):Math.cos(r))||.001,u=.75*t*(""+i).length;return Math.min(t/l,u)}class Lh extends So{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return pe(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:l}=this;const u=f=>r=n?r:f,d=f=>l=s?l:f;if(t){const f=Ki(r),g=Ki(l);f<0&&g<0?d(0):f>0&&g>0&&u(0)}if(r===l){let f=l===0?1:Math.abs(l*.05);d(l+f),t||u(r-f)}this.min=r,this.max=l}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},l=this._range||this,u=iD(r,l);return t.bounds==="ticks"&&$w(u,this,"value"),t.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const r=(s-n)/Math.max(t.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return td(t,this.chart.options.locale,this.options.ticks.format)}}class aD extends Lh{static id="linear";static defaults={ticks:{callback:tp.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=dn(t)?t:0,this.max=dn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=xi(this.options.ticks.minRotation),r=(t?Math.sin(s):Math.cos(s))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,l.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function zh(i){const t=i.ticks;if(t.display&&i.display){const n=Dn(t.backdropPadding);return ie(t.font&&t.font.size,Fe.font.size)+n.height}return 0}function sD(i,t,n){return n=ze(n)?n:[n],{w:v1(i,t.string,n),h:n.length*t.lineHeight}}function zv(i,t,n,s,r){return i===s||i===r?{start:t-n/2,end:t+n/2}:i<s||i>r?{start:t-n,end:t}:{start:t,end:t+n}}function rD(i){const t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},n=Object.assign({},t),s=[],r=[],l=i._pointLabels.length,u=i.options.pointLabels,d=u.centerPointLabels?me/l:0;for(let f=0;f<l;f++){const g=u.setContext(i.getPointLabelContext(f));r[f]=g.padding;const b=i.getPointPosition(f,i.drawingArea+r[f],d),_=an(g.font),w=sD(i.ctx,_,i._pointLabels[f]);s[f]=w;const T=An(i.getIndexAngle(f)+d),C=Math.round(Qh(T)),O=zv(C,b.x,w.w,0,180),M=zv(C,b.y,w.h,90,270);oD(n,t,T,O,M)}i.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),i._pointLabelItems=uD(i,s,r)}function oD(i,t,n,s,r){const l=Math.abs(Math.sin(n)),u=Math.abs(Math.cos(n));let d=0,f=0;s.start<t.l?(d=(t.l-s.start)/l,i.l=Math.min(i.l,t.l-d)):s.end>t.r&&(d=(s.end-t.r)/l,i.r=Math.max(i.r,t.r+d)),r.start<t.t?(f=(t.t-r.start)/u,i.t=Math.min(i.t,t.t-f)):r.end>t.b&&(f=(r.end-t.b)/u,i.b=Math.max(i.b,t.b+f))}function lD(i,t,n){const s=i.drawingArea,{extra:r,additionalAngle:l,padding:u,size:d}=n,f=i.getPointPosition(t,s+r+u,l),g=Math.round(Qh(An(f.angle+Qe))),b=hD(f.y,d.h,g),_=dD(g),w=fD(f.x,d.w,_);return{visible:!0,x:f.x,y:b,textAlign:_,left:w,top:b,right:w+d.w,bottom:b+d.h}}function cD(i,t){if(!t)return!0;const{left:n,top:s,right:r,bottom:l}=i;return!(Ta({x:n,y:s},t)||Ta({x:n,y:l},t)||Ta({x:r,y:s},t)||Ta({x:r,y:l},t))}function uD(i,t,n){const s=[],r=i._pointLabels.length,l=i.options,{centerPointLabels:u,display:d}=l.pointLabels,f={extra:zh(l)/2,additionalAngle:u?me/r:0};let g;for(let b=0;b<r;b++){f.padding=n[b],f.size=t[b];const _=lD(i,b,f);s.push(_),d==="auto"&&(_.visible=cD(_,g),_.visible&&(g=_))}return s}function dD(i){return i===0||i===180?"center":i<180?"left":"right"}function fD(i,t,n){return n==="right"?i-=t:n==="center"&&(i-=t/2),i}function hD(i,t,n){return n===90||n===270?i-=t/2:(n>270||n<90)&&(i-=t),i}function pD(i,t,n){const{left:s,top:r,right:l,bottom:u}=n,{backdropColor:d}=t;if(!pe(d)){const f=cr(t.borderRadius),g=Dn(t.backdropPadding);i.fillStyle=d;const b=s-g.left,_=r-g.top,w=l-s+g.width,T=u-r+g.height;Object.values(f).some(C=>C!==0)?(i.beginPath(),ac(i,{x:b,y:_,w,h:T,radius:f}),i.fill()):i.fillRect(b,_,w,T)}}function gD(i,t){const{ctx:n,options:{pointLabels:s}}=i;for(let r=t-1;r>=0;r--){const l=i._pointLabelItems[r];if(!l.visible)continue;const u=s.setContext(i.getPointLabelContext(r));pD(n,u,l);const d=an(u.font),{x:f,y:g,textAlign:b}=l;hr(n,i._pointLabels[r],f,g+d.lineHeight/2,d,{color:u.color,textAlign:b,textBaseline:"middle"})}}function Ex(i,t,n,s){const{ctx:r}=i;if(n)r.arc(i.xCenter,i.yCenter,t,0,ke);else{let l=i.getPointPosition(0,t);r.moveTo(l.x,l.y);for(let u=1;u<s;u++)l=i.getPointPosition(u,t),r.lineTo(l.x,l.y)}}function mD(i,t,n,s,r){const l=i.ctx,u=t.circular,{color:d,lineWidth:f}=t;!u&&!s||!d||!f||n<0||(l.save(),l.strokeStyle=d,l.lineWidth=f,l.setLineDash(r.dash||[]),l.lineDashOffset=r.dashOffset,l.beginPath(),Ex(i,n,u,s),l.closePath(),l.stroke(),l.restore())}function yD(i,t,n){return Ts(i,{label:n,index:t,type:"pointLabel"})}class vD extends Lh{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:tp.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Dn(zh(this.options)/2),n=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=dn(t)&&!isNaN(t)?t:0,this.max=dn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/zh(this.options))}generateTickLabels(t){Lh.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,s)=>{const r=Ce(this.options.pointLabels.callback,[n,s],this);return r||r===0?r:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const t=this.options;t.display&&t.pointLabels.display?rD(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,s,r){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((s-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,s,r))}getIndexAngle(t){const n=ke/(this._pointLabels.length||1),s=this.options.startAngle||0;return An(t*n+xi(s))}getDistanceFromCenterForValue(t){if(pe(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(pe(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const s=n[t];return yD(this.getContext(),t,s)}}getPointPosition(t,n,s=0){const r=this.getIndexAngle(t)-Qe+s;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:s,right:r,bottom:l}=this._pointLabelItems[t];return{left:n,top:s,right:r,bottom:l}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),Ex(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:s,grid:r,border:l}=n,u=this._pointLabels.length;let d,f,g;if(n.pointLabels.display&&gD(this,u),r.display&&this.ticks.forEach((b,_)=>{if(_!==0||_===0&&this.min<0){f=this.getDistanceFromCenterForValue(b.value);const w=this.getContext(_),T=r.setContext(w),C=l.setContext(w);mD(this,T,f,u,C)}}),s.display){for(t.save(),d=u-1;d>=0;d--){const b=s.setContext(this.getPointLabelContext(d)),{color:_,lineWidth:w}=b;!w||!_||(t.lineWidth=w,t.strokeStyle=_,t.setLineDash(b.borderDash),t.lineDashOffset=b.borderDashOffset,f=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),g=this.getPointPosition(d,f),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(g.x,g.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const r=this.getIndexAngle(0);let l,u;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((d,f)=>{if(f===0&&this.min>=0&&!n.reverse)return;const g=s.setContext(this.getContext(f)),b=an(g.font);if(l=this.getDistanceFromCenterForValue(this.ticks[f].value),g.showLabelBackdrop){t.font=b.string,u=t.measureText(d.label).width,t.fillStyle=g.backdropColor;const _=Dn(g.backdropPadding);t.fillRect(-u/2-_.left,-l-b.size/2-_.top,u+_.width,b.size+_.height)}hr(t,d.label,0,-l,b,{color:g.color,strokeColor:g.textStrokeColor,strokeWidth:g.textStrokeWidth})}),t.restore()}drawTitle(){}}const ld={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qn=Object.keys(ld);function Bv(i,t){return i-t}function Pv(i,t){if(pe(t))return null;const n=i._adapter,{parser:s,round:r,isoWeekday:l}=i._parseOpts;let u=t;return typeof s=="function"&&(u=s(u)),dn(u)||(u=typeof s=="string"?n.parse(u,s):n.parse(u)),u===null?null:(r&&(u=r==="week"&&(nc(l)||l===!0)?n.startOf(u,"isoWeek",l):n.startOf(u,r)),+u)}function Hv(i,t,n,s){const r=qn.length;for(let l=qn.indexOf(i);l<r-1;++l){const u=ld[qn[l]],d=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((n-t)/(d*u.size))<=s)return qn[l]}return qn[r-1]}function bD(i,t,n,s,r){for(let l=qn.length-1;l>=qn.indexOf(n);l--){const u=qn[l];if(ld[u].common&&i._adapter.diff(r,s,u)>=t-1)return u}return qn[n?qn.indexOf(n):0]}function xD(i){for(let t=qn.indexOf(i)+1,n=qn.length;t<n;++t)if(ld[qn[t]].common)return qn[t]}function Uv(i,t,n){if(!n)i[t]=!0;else if(n.length){const{lo:s,hi:r}=Zh(n,t),l=n[s]>=t?n[s]:n[r];i[l]=!0}}function _D(i,t,n,s){const r=i._adapter,l=+r.startOf(t[0].value,s),u=t[t.length-1].value;let d,f;for(d=l;d<=u;d=+r.add(d,1,s))f=n[d],f>=0&&(t[f].major=!0);return t}function qv(i,t,n){const s=[],r={},l=t.length;let u,d;for(u=0;u<l;++u)d=t[u],r[d]=u,s.push({value:d,major:!1});return l===0||!n?s:_D(i,s,r,n)}class Kv extends So{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),r=this._adapter=new HE._date(t.adapters.date);r.init(n),Wl(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Pv(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:r,max:l,minDefined:u,maxDefined:d}=this.getUserBounds();function f(g){!u&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!d&&!isNaN(g.max)&&(l=Math.max(l,g.max))}(!u||!d)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=dn(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),l=dn(l)&&!isNaN(l)?l:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,l-1),this.max=Math.max(r+1,l)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const l=this.min,u=this.max,d=n1(r,l,u);return this._unit=n.unit||(s.autoSkip?Hv(n.minUnit,this.min,this.max,this._getLabelCapacity(l)):bD(this,d.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:xD(this._unit),this.initOffsets(r),t.reverse&&d.reverse(),qv(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,r,l;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?n=1-r:n=(this.getDecimalForValue(t[1])-r)/2,l=this.getDecimalForValue(t[t.length-1]),t.length===1?s=l:s=(l-this.getDecimalForValue(t[t.length-2]))/2);const u=t.length<3?.5:.25;n=Tn(n,0,u),s=Tn(s,0,u),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,r=this.options,l=r.time,u=l.unit||Hv(l.minUnit,n,s,this._getLabelCapacity(n)),d=ie(r.ticks.stepSize,1),f=u==="week"?l.isoWeekday:!1,g=nc(f)||f===!0,b={};let _=n,w,T;if(g&&(_=+t.startOf(_,"isoWeek",f)),_=+t.startOf(_,g?"day":u),t.diff(s,n,u)>1e5*d)throw new Error(n+" and "+s+" are too far apart with stepSize of "+d+" "+u);const C=r.ticks.source==="data"&&this.getDataTimestamps();for(w=_,T=0;w<s;w=+t.add(w,d,u),T++)Uv(b,w,C);return(w===s||r.bounds==="ticks"||T===1)&&Uv(b,w,C),Object.keys(b).sort(Bv).map(O=>+O)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const r=this.options.time.displayFormats,l=this._unit,u=n||r[l];return this._adapter.format(t,u)}_tickFormatFunction(t,n,s,r){const l=this.options,u=l.ticks.callback;if(u)return Ce(u,[t,n,s],this);const d=l.time.displayFormats,f=this._unit,g=this._majorUnit,b=f&&d[f],_=g&&d[g],w=s[n],T=g&&_&&w&&w.major;return this._adapter.format(t,r||(T?_:b))}generateTickLabels(t){let n,s,r;for(n=0,s=t.length;n<s;++n)r=t[n],r.label=this._tickFormatFunction(r.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,r=xi(this.isHorizontal()?n.maxRotation:n.minRotation),l=Math.cos(r),u=Math.sin(r),d=this._resolveTickFontOptions(0).size;return{w:s*l+d*u,h:s*u+d*l}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,l=this._tickFormatFunction(t,0,qv(this,[t],this._majorUnit),r),u=this._getLabelSize(l),d=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return d>0?d:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)t=t.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)t.push(Pv(this,r[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Ub(t.sort(Bv))}}function zu(i,t,n){let s=0,r=i.length-1,l,u,d,f;n?(t>=i[s].pos&&t<=i[r].pos&&({lo:s,hi:r}=lr(i,"pos",t)),{pos:l,time:d}=i[s],{pos:u,time:f}=i[r]):(t>=i[s].time&&t<=i[r].time&&({lo:s,hi:r}=lr(i,"time",t)),{time:l,pos:d}=i[s],{time:u,pos:f}=i[r]);const g=u-l;return g?d+(f-d)*(t-l)/g:d}class KD extends Kv{static id="timeseries";static defaults=Kv.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=zu(n,this.min),this._tableRange=zu(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,r=[],l=[];let u,d,f,g,b;for(u=0,d=t.length;u<d;++u)g=t[u],g>=n&&g<=s&&r.push(g);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(u=0,d=r.length;u<d;++u)b=r[u+1],f=r[u-1],g=r[u],Math.round((b+f)/2)!==g&&l.push({time:g,pos:u/(d-1)});return l}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,l)=>r-l)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(zu(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return zu(this._table,s*this._tableRange+this._minPos,!0)}}const Ax="label";function Vv(i,t){typeof i=="function"?i(t):i&&(i.current=t)}function SD(i,t){const n=i.options;n&&t&&Object.assign(n,t)}function Tx(i,t){i.labels=t}function Dx(i,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ax;const s=[];i.datasets=t.map(r=>{const l=i.datasets.find(u=>u[n]===r[n]);return!l||!r.data||s.includes(l)?{...r}:(s.push(l),Object.assign(l,r),l)})}function wD(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ax;const n={labels:[],datasets:[]};return Tx(n,i.labels),Dx(n,i.datasets,t),n}function ED(i,t){const{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:l,type:u,data:d,options:f,plugins:g=[],fallbackContent:b,updateMode:_,...w}=i,T=P.useRef(null),C=P.useRef(null),O=()=>{T.current&&(C.current=new sd(T.current,{type:u,data:wD(d,l),options:f&&{...f},plugins:g}),Vv(t,C.current))},M=()=>{Vv(t,null),C.current&&(C.current.destroy(),C.current=null)};return P.useEffect(()=>{!r&&C.current&&f&&SD(C.current,f)},[r,f]),P.useEffect(()=>{!r&&C.current&&Tx(C.current.config.data,d.labels)},[r,d.labels]),P.useEffect(()=>{!r&&C.current&&d.datasets&&Dx(C.current.config.data,d.datasets,l)},[r,d.datasets]),P.useEffect(()=>{C.current&&(r?(M(),setTimeout(O)):C.current.update(_))},[r,f,d.labels,d.datasets,_]),P.useEffect(()=>{C.current&&(M(),setTimeout(O))},[u]),P.useEffect(()=>(O(),()=>M()),[]),Wv.createElement("canvas",{ref:T,role:"img",height:n,width:s,...w},b)}const AD=P.forwardRef(ED);function wo(i,t){return sd.register(t),P.forwardRef((n,s)=>Wv.createElement(AD,{...n,ref:s,type:i}))}const Fv=wo("line",LE),_a=wo("bar",RE),TD=wo("radar",PE),_h=wo("doughnut",rx),DD=wo("polarArea",zE),Yv=wo("pie",BE),ui={calculateGrowthRate(i,t=30){if(i.length<2)return 0;const n=new Date;n.setDate(n.getDate()-t);const s=i.filter(l=>new Date(l.timestamp)>=n);return s.length===0?0:s.reduce((l,u)=>l+(u.xp_change||0),0)/t},calculateStreak(i){if(i.length===0)return{current:0,longest:0};const t=[...i].sort((g,b)=>new Date(b.timestamp)-new Date(g.timestamp)),n=new Date,s=1440*60*1e3;let r=0,l=0;const u={};t.forEach(g=>{const b=new Date(g.timestamp).toDateString();u[b]||(u[b]=[]),u[b].push(g)});const d=Object.keys(u).sort((g,b)=>new Date(b)-new Date(g));for(let g=0;g<d.length;g++){const b=new Date(d[g]),_=Math.floor((n-b)/s);if(g===0&&_<=1)r=1;else if(g>0){const w=new Date(d[g-1]);if(Math.floor((w-b)/s)===1)r++;else break}else break}let f=0;for(let g=0;g<d.length;g++)if(g===0)f=1;else{const b=new Date(d[g]),_=new Date(d[g-1]);Math.floor((_-b)/s)===1?f++:(l=Math.max(l,f),f=1)}return l=Math.max(l,f),{current:r,longest:l}},calculateImprovementTrend(i){if(i.length===0)return"stable";i.reduce((r,l)=>r+(l.current_level*100+l.current_xp),0)/i.length;const n=i.filter(r=>r.current_level>=3).length,s=i.filter(r=>r.current_level===1).length;return n>s?"improving":s>n?"declining":"stable"},getActivityPatterns(i){const t={hourlyDistribution:{},dayOfWeekDistribution:{},monthlyDistribution:{}};return i.forEach(n=>{const s=new Date(n.timestamp),r=s.getHours(),l=s.getDay(),u=s.getMonth();t.hourlyDistribution[r]=(t.hourlyDistribution[r]||0)+1,t.dayOfWeekDistribution[l]=(t.dayOfWeekDistribution[l]||0)+1,t.monthlyDistribution[u]=(t.monthlyDistribution[u]||0)+1}),t},getPerformanceMetrics(i){if(i.length===0)return{averageChoiceValue:0,excellenceRate:0,improvementRate:0,consistencyScore:0};const t=i.map(_=>_.choice_value).filter(_=>_!=null),n=t.reduce((_,w)=>_+w,0)/t.length,r=i.filter(_=>_.choice_value>=3).length/i.length*100,u=i.filter(_=>_.xp_change>0).length/i.length*100,d=i.map(_=>new Date(_.timestamp).toDateString()),f=new Set(d),g=i.length>1?Math.ceil((new Date(Math.max(...i.map(_=>new Date(_.timestamp))))-new Date(Math.min(...i.map(_=>new Date(_.timestamp)))))/(1e3*60*60*24)):1,b=Math.min(f.size/g*100,100);return{averageChoiceValue:Math.round(n*10)/10,excellenceRate:Math.round(r*10)/10,improvementRate:Math.round(u*10)/10,consistencyScore:Math.round(b*10)/10}},generateInsights(i,t){const n=[],s=this.calculateStreak(t);s.current>0&&n.push({type:"streak",message:` You're on a ${s.current}-day streak! Keep it up!`,priority:"high"});const r=this.getPerformanceMetrics(t);r.excellenceRate>75?n.push({type:"performance",message:` Excellent! ${r.excellenceRate}% of your choices are high quality.`,priority:"high"}):r.excellenceRate<50&&n.push({type:"improvement",message:` Focus on making better choices. Currently at ${r.excellenceRate}% excellence rate.`,priority:"medium"});const l=this.calculateGrowthRate(t);l>1&&n.push({type:"growth",message:` Great progress! You're gaining ${Math.round(l*10)/10} XP per day on average.`,priority:"medium"});const u=i.sort((d,f)=>f.current_level*100+f.current_xp-(d.current_level*100+d.current_xp))[0];return u&&u.current_level>1&&n.push({type:"achievement",message:` ${u.title} is your strongest area at level ${u.current_level}!`,priority:"low"}),n.sort((d,f)=>{const g={high:3,medium:2,low:1};return g[f.priority]-g[d.priority]})}};sd.register(nD,aD,mT,rd,uT,tT,vD,FT,$T,KT,zT);function CD(){const{theme:i}=hb(),[t,n]=P.useState({opportunities:[],events:[],stats:null,situations:[]}),[s,r]=P.useState(!0),[l,u]=P.useState("all"),[d,f]=P.useState("all"),[g,b]=P.useState("all"),[_,w]=P.useState({start:"",end:""}),[T,C]=P.useState("detailed"),[O,M]=P.useState("all");P.useEffect(()=>{G()},[]);const k=P.useMemo(()=>{let rt=[...t.events],R=[...t.opportunities];if(l!=="all"){if(l==="custom"&&_.start&&_.end){const it=new Date(_.start),xt=new Date(_.end);rt=rt.filter(Q=>{const _t=new Date(Q.timestamp);return _t>=it&&_t<=xt})}else if(l!=="custom"){const it=l==="30days"?30:l==="7days"?7:l==="3months"?90:365,xt=new Date;xt.setDate(xt.getDate()-it),rt=rt.filter(Q=>new Date(Q.timestamp)>=xt)}}return d!=="all"&&(rt=rt.filter(it=>it.situation_id===parseInt(d))),g!=="all"&&(R=R.filter(it=>it.id===parseInt(g))),{events:rt,opportunities:R,situations:t.situations}},[t,l,d,g,_]),G=async()=>{try{r(!0);const[rt,R,it,xt]=await Promise.all([Wt.getOpportunitiesSorted("level"),Wt.getEventsWithDetails(),Wt.getDataStats(),Wt.getSituationsWithOpportunities()]);n({opportunities:rt,events:R,stats:it,situations:xt})}catch(rt){console.error("Error loading analytics data:",rt)}finally{r(!1)}},H=i==="dark"?{primary:"#646cff",secondary:"#535bf2",success:"#22c55e",warning:"#f59e0b",danger:"#ef4444",info:"#3b82f6",text:"#e2e8f0",grid:"#374151"}:{primary:"#646cff",secondary:"#535bf2",success:"#16a34a",warning:"#d97706",danger:"#dc2626",info:"#2563eb",text:"#1f2937",grid:"#d1d5db"},$=()=>{const rt={};return k.opportunities.forEach(R=>{rt[R.current_level]=(rt[R.current_level]||0)+1}),{labels:Object.keys(rt).sort((R,it)=>Number(R)-Number(it)),datasets:[{label:"Opportunities by Level",data:Object.keys(rt).sort((R,it)=>Number(R)-Number(it)).map(R=>rt[R]),backgroundColor:H.primary,borderColor:H.secondary,borderWidth:2,borderRadius:6}]}},J=()=>({labels:k.opportunities.map(rt=>rt.title),datasets:[{label:"Current XP",data:k.opportunities.map(rt=>rt.current_xp),backgroundColor:H.success,borderColor:H.success,borderWidth:2,borderRadius:6}]}),ht=()=>{const rt={};k.events.forEach(it=>{const xt=new Date(it.timestamp).toLocaleDateString();rt[xt]=(rt[xt]||0)+1});const R=Object.keys(rt).sort((it,xt)=>new Date(it)-new Date(xt));return{labels:R,datasets:[{label:"Events per Day",data:R.map(it=>rt[it]),fill:!1,borderColor:H.info,backgroundColor:H.info,tension:.4,pointBackgroundColor:H.info,pointBorderColor:H.text,pointRadius:4}]}},ft=()=>{const rt={1:"Poor (1)",2:"Below Average (2)",3:"Good (3)",4:"Excellent (4)"},R={1:0,2:0,3:0,4:0};return k.events.forEach(it=>{it.choice_value>=1&&it.choice_value<=4&&R[it.choice_value]++}),{labels:Object.keys(R).map(it=>rt[it]),datasets:[{data:Object.values(R),backgroundColor:[H.danger,H.warning,H.success,H.primary],borderColor:H.text,borderWidth:1}]}},mt=()=>{const rt=[...k.opportunities].sort((R,it)=>it.current_level*100+it.current_xp-(R.current_level*100+R.current_xp)).slice(0,6);return{labels:rt.map(R=>R.title),datasets:[{label:"Total Progress",data:rt.map(R=>R.current_level*100+R.current_xp),backgroundColor:[H.primary,H.secondary,H.success,H.info,H.warning,H.danger],borderWidth:0}]}},Mt=()=>{const rt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],R=new Array(7).fill(0);return k.events.forEach(it=>{const xt=new Date(it.timestamp).getDay();R[xt]++}),{labels:rt,datasets:[{label:"Events by Day",data:R,backgroundColor:H.info,borderColor:H.primary,borderWidth:2,borderRadius:6}]}},zt=()=>{const rt=k.opportunities.slice(0,6);return{labels:rt.map(R=>R.title),datasets:[{label:"Current Level",data:rt.map(R=>R.current_level),backgroundColor:H.primary+"40",borderColor:H.primary,borderWidth:2,pointBackgroundColor:H.primary}]}},kt=()=>{const rt={},R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];k.events.forEach(xt=>{const Q=new Date(xt.timestamp).getMonth(),_t=new Date(xt.timestamp).getFullYear(),qt=`${R[Q]} ${_t}`;rt[qt]||(rt[qt]={events:0,totalXp:0}),rt[qt].events++,rt[qt].totalXp+=xt.xp_change||0});const it=Object.keys(rt).sort((xt,Q)=>{const[_t,qt]=xt.split(" "),[Lt,Re]=Q.split(" "),de=new Date(`${_t} 1, ${qt}`),Ut=new Date(`${Lt} 1, ${Re}`);return de-Ut});return{labels:it,datasets:[{label:"Events",data:it.map(xt=>rt[xt].events),backgroundColor:H.primary,borderColor:H.primary,borderWidth:2,yAxisID:"y"},{label:"Total XP",data:it.map(xt=>rt[xt].totalXp),backgroundColor:H.success,borderColor:H.success,borderWidth:2,type:"line",yAxisID:"y1"}]}},Ot=()=>{const rt={};return k.events.forEach(R=>{const it=R.situation?.title||"Unknown";rt[it]=(rt[it]||0)+1}),{labels:Object.keys(rt),datasets:[{data:Object.values(rt),backgroundColor:[H.primary,H.secondary,H.success,H.warning,H.danger,H.info],borderWidth:2,borderColor:H.text}]}},Xt=()=>{const rt={};k.events.forEach(Q=>{const _t=new Date(Q.timestamp).toLocaleDateString();rt[_t]=(rt[_t]||0)+(Q.xp_change||0)});const R=Object.keys(rt).sort((Q,_t)=>new Date(Q)-new Date(_t));let it=0;const xt=R.map(Q=>(it+=rt[Q],it));return{labels:R,datasets:[{label:"Daily XP",data:R.map(Q=>rt[Q]),backgroundColor:H.info+"60",borderColor:H.info,borderWidth:2,type:"bar"},{label:"Cumulative XP",data:xt,backgroundColor:"transparent",borderColor:H.success,borderWidth:3,type:"line",fill:!1,tension:.4}]}},Ht={responsive:!0,plugins:{legend:{labels:{color:H.text}}},scales:{x:{ticks:{color:H.text},grid:{color:H.grid}},y:{ticks:{color:H.text},grid:{color:H.grid}}}},et={responsive:!0,plugins:{legend:{position:"bottom",labels:{color:H.text,padding:20}}}},St={responsive:!0,plugins:{legend:{labels:{color:H.text}}},scales:{r:{beginAtZero:!0,ticks:{color:H.text},grid:{color:H.grid},pointLabels:{color:H.text}}}},Rt={responsive:!0,plugins:{legend:{labels:{color:H.text}}},scales:{x:{ticks:{color:H.text},grid:{color:H.grid}},y:{type:"linear",display:!0,position:"left",ticks:{color:H.text},grid:{color:H.grid}},y1:{type:"linear",display:!0,position:"right",ticks:{color:H.text},grid:{drawOnChartArea:!1}}}};return s?y.jsxs("div",{className:"analytics-loading",children:[y.jsx("div",{className:"loading-spinner"}),y.jsx("p",{children:"Loading analytics..."})]}):y.jsxs("div",{className:"analytics-container",children:[y.jsxs("div",{className:"analytics-header",children:[y.jsx("h2",{children:" Analytics Dashboard"}),y.jsxs("div",{className:"analytics-filters",children:[y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:"Time Range:"}),y.jsxs("select",{value:l,onChange:rt=>u(rt.target.value),className:"filter-select",children:[y.jsx("option",{value:"all",children:"All Time"}),y.jsx("option",{value:"7days",children:"Last 7 Days"}),y.jsx("option",{value:"30days",children:"Last 30 Days"}),y.jsx("option",{value:"3months",children:"Last 3 Months"}),y.jsx("option",{value:"1year",children:"Last Year"}),y.jsx("option",{value:"custom",children:"Custom Range"})]})]}),l==="custom"&&y.jsxs("div",{className:"filter-group custom-date-range",children:[y.jsx("input",{type:"date",value:_.start,onChange:rt=>w({..._,start:rt.target.value}),className:"filter-input"}),y.jsx("span",{children:"to"}),y.jsx("input",{type:"date",value:_.end,onChange:rt=>w({..._,end:rt.target.value}),className:"filter-input"})]}),y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:"Situation:"}),y.jsxs("select",{value:d,onChange:rt=>f(rt.target.value),className:"filter-select",children:[y.jsx("option",{value:"all",children:"All Situations"}),t.situations.map(rt=>y.jsx("option",{value:rt.id,children:rt.title},rt.id))]})]}),y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:"Opportunity:"}),y.jsxs("select",{value:g,onChange:rt=>b(rt.target.value),className:"filter-select",children:[y.jsx("option",{value:"all",children:"All Opportunities"}),t.opportunities.map(rt=>y.jsx("option",{value:rt.id,children:rt.title},rt.id))]})]}),y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:"View:"}),y.jsxs("select",{value:T,onChange:rt=>C(rt.target.value),className:"filter-select",children:[y.jsx("option",{value:"overview",children:"Overview"}),y.jsx("option",{value:"detailed",children:"Detailed"}),y.jsx("option",{value:"comparison",children:"Comparison"})]})]})]})]}),y.jsxs("div",{className:"stats-grid",children:[y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{children:t.stats?.opportunities||0}),y.jsx("p",{children:"Opportunities"})]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{children:k.events.length}),y.jsxs("p",{children:["Events ",l!=="all"?`(${l})`:"Logged"]})]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{children:k.opportunities.length>0?Math.round(k.opportunities.reduce((rt,R)=>rt+R.current_level,0)/k.opportunities.length*10)/10:0}),y.jsx("p",{children:"Avg Level"})]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsxs("div",{className:"stat-content",children:[y.jsx("h3",{children:ui.calculateStreak(k.events).current}),y.jsx("p",{children:"Day Streak"})]})]})]}),y.jsxs("div",{className:"insights-section",children:[y.jsx("h3",{children:" Insights & Recommendations"}),y.jsx("div",{className:"insights-grid",children:ui.generateInsights(k.opportunities,k.events).map((rt,R)=>y.jsx("div",{className:`insight-card ${rt.priority}`,children:y.jsx("div",{className:"insight-content",children:y.jsx("p",{children:rt.message})})},R))})]}),y.jsxs("div",{className:"charts-grid",children:[y.jsxs("div",{className:"chart-card",children:[y.jsx("h3",{children:" XP Progress by Opportunity"}),y.jsx("div",{className:"chart-wrapper",children:y.jsx(_a,{data:J(),options:Ht})})]}),y.jsxs("div",{className:"chart-card",children:[y.jsx("h3",{children:" Level Distribution"}),y.jsx("div",{className:"chart-wrapper",children:y.jsx(_a,{data:$(),options:Ht})})]}),y.jsxs("div",{className:"chart-card wide",children:[y.jsx("h3",{children:" Events Timeline"}),y.jsx("div",{className:"chart-wrapper",children:y.jsx(Fv,{data:ht(),options:Ht})})]}),y.jsxs("div",{className:"chart-card",children:[y.jsx("h3",{children:" Choice Quality Distribution"}),y.jsx("div",{className:"chart-wrapper",children:y.jsx(_h,{data:ft(),options:et})})]}),y.jsxs("div",{className:"chart-card",children:[y.jsx("h3",{children:" Top Performing Opportunities"}),y.jsx("div",{className:"chart-wrapper",children:y.jsx(Yv,{data:mt(),options:et})})]}),y.jsxs("div",{className:"chart-card",children:[y.jsx("h3",{children:" Activity by Day of Week"}),y.jsx("div",{className:"chart-wrapper",children:y.jsx(_a,{data:Mt(),options:Ht})})]}),y.jsxs("div",{className:"chart-card progress-summary",children:[y.jsx("h3",{children:" Progress Summary"}),y.jsxs("div",{className:"summary-content",children:[y.jsxs("div",{className:"summary-item",children:[y.jsx("span",{className:"summary-label",children:"Total XP Earned:"}),y.jsx("span",{className:"summary-value",children:k.opportunities.reduce((rt,R)=>rt+R.current_xp,0)})]}),y.jsxs("div",{className:"summary-item",children:[y.jsx("span",{className:"summary-label",children:"Levels Gained:"}),y.jsx("span",{className:"summary-value",children:k.opportunities.reduce((rt,R)=>rt+(R.current_level-1),0)})]}),y.jsxs("div",{className:"summary-item",children:[y.jsx("span",{className:"summary-label",children:"Most Active Area:"}),y.jsx("span",{className:"summary-value",children:t.opportunities.length>0&&[...t.opportunities].sort((rt,R)=>R.current_xp-rt.current_xp)[0]?.title||"N/A"})]}),y.jsxs("div",{className:"summary-item",children:[y.jsx("span",{className:"summary-label",children:"Excellence Rate:"}),y.jsx("span",{className:"summary-value",children:t.events.length>0?Math.round(t.events.filter(rt=>rt.choice_value>=3).length/t.events.length*100)+"%":"0%"})]}),y.jsxs("div",{className:"summary-item",children:[y.jsx("span",{className:"summary-label",children:"Current Streak:"}),y.jsxs("span",{className:"summary-value",children:[ui.calculateStreak(t.events).current," days"]})]}),y.jsxs("div",{className:"summary-item",children:[y.jsx("span",{className:"summary-label",children:"Longest Streak:"}),y.jsxs("span",{className:"summary-value",children:[ui.calculateStreak(t.events).longest," days"]})]})]})]}),y.jsxs("div",{style:{padding:"12px 20px",backgroundColor:"var(--card-bg)",borderRadius:"8px",marginBottom:"20px",border:"2px solid var(--accent-color)",textAlign:"center",fontWeight:"bold",color:"var(--accent-color)"},children:[" Current View: ",T.charAt(0).toUpperCase()+T.slice(1)," Mode"]}),y.jsxs("div",{className:"charts-grid",children:[T==="overview"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"chart-card",children:[y.jsx("h3",{children:" XP Progress by Opportunity"}),y.jsx("div",{className:"chart-wrapper",children:y.jsx(_a,{data:J(),options:Ht})})]}),y.jsxs("div",{className:"chart-card",children:[y.jsx("h3",{children:" Level Distribution"}),y.jsx("div",{className:"chart-wrapper",children:y.jsx(_a,{data:$(),options:Ht})})]}),y.jsxs("div",{className:"chart-card",children:[y.jsx("h3",{children:" Choice Quality Distribution"}),y.jsx("div",{className:"chart-wrapper",children:y.jsx(_h,{data:ft(),options:et})})]}),y.jsxs("div",{className:"chart-card",children:[y.jsx("h3",{children:" Activity by Day of Week"}),y.jsx("div",{className:"chart-wrapper",children:y.jsx(_a,{data:Mt(),options:Ht})})]})]}),T==="detailed"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"chart-card",children:[y.jsx("h3",{children:" Opportunity Levels Radar"}),y.jsx("div",{className:"chart-wrapper",children:y.jsx(TD,{data:zt(),options:St})})]}),y.jsxs("div",{className:"chart-card wide",children:[y.jsx("h3",{children:" Monthly Progress Trend"}),y.jsx("div",{className:"chart-wrapper",children:y.jsx(_a,{data:kt(),options:Rt})})]}),y.jsxs("div",{className:"chart-card wide",children:[y.jsx("h3",{children:" XP Trend Analysis"}),y.jsx("div",{className:"chart-wrapper",children:y.jsx(_a,{data:Xt(),options:Ht})})]}),y.jsxs("div",{className:"chart-card",children:[y.jsx("h3",{children:" Situation Breakdown"}),y.jsx("div",{className:"chart-wrapper",children:y.jsx(DD,{data:Ot(),options:et})})]})]}),T==="comparison"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"chart-card wide",children:[y.jsx("h3",{children:" Events Timeline"}),y.jsx("div",{className:"chart-wrapper",children:y.jsx(Fv,{data:ht(),options:Ht})})]}),y.jsxs("div",{className:"chart-card",children:[y.jsx("h3",{children:" Top Performing Opportunities"}),y.jsx("div",{className:"chart-wrapper",children:y.jsx(Yv,{data:mt(),options:et})})]}),y.jsxs("div",{className:"chart-card wide",children:[y.jsx("h3",{children:" Performance Metrics"}),y.jsxs("div",{className:"metrics-comparison",children:[y.jsxs("div",{className:"metric-item",children:[y.jsx("span",{className:"metric-label",children:"Excellence Rate:"}),y.jsxs("div",{className:"metric-bar",children:[y.jsx("div",{className:"metric-fill",style:{width:`${ui.getPerformanceMetrics(k.events).excellenceRate}%`,backgroundColor:H.success}}),y.jsxs("span",{className:"metric-value",children:[ui.getPerformanceMetrics(k.events).excellenceRate,"%"]})]})]}),y.jsxs("div",{className:"metric-item",children:[y.jsx("span",{className:"metric-label",children:"Improvement Rate:"}),y.jsxs("div",{className:"metric-bar",children:[y.jsx("div",{className:"metric-fill",style:{width:`${ui.getPerformanceMetrics(k.events).improvementRate}%`,backgroundColor:H.primary}}),y.jsxs("span",{className:"metric-value",children:[ui.getPerformanceMetrics(k.events).improvementRate,"%"]})]})]}),y.jsxs("div",{className:"metric-item",children:[y.jsx("span",{className:"metric-label",children:"Consistency Score:"}),y.jsxs("div",{className:"metric-bar",children:[y.jsx("div",{className:"metric-fill",style:{width:`${ui.getPerformanceMetrics(k.events).consistencyScore}%`,backgroundColor:H.info}}),y.jsxs("span",{className:"metric-value",children:[ui.getPerformanceMetrics(k.events).consistencyScore,"%"]})]})]})]})]}),y.jsxs("div",{className:"chart-card",children:[y.jsx("h3",{children:" Level Distribution"}),y.jsx("div",{className:"chart-wrapper",children:y.jsx(_a,{data:$(),options:Ht})})]}),y.jsxs("div",{className:"chart-card",children:[y.jsx("h3",{children:" Choice Quality Distribution"}),y.jsx("div",{className:"chart-wrapper",children:y.jsx(_h,{data:ft(),options:et})})]})]}),y.jsxs("div",{className:"chart-card progress-summary",children:[y.jsx("h3",{children:" Progress Summary"}),y.jsxs("div",{className:"summary-content",children:[y.jsxs("div",{className:"summary-item",children:[y.jsx("span",{className:"summary-label",children:"Total XP Earned:"}),y.jsx("span",{className:"summary-value",children:k.opportunities.reduce((rt,R)=>rt+R.current_xp,0)})]}),y.jsxs("div",{className:"summary-item",children:[y.jsx("span",{className:"summary-label",children:"Levels Gained:"}),y.jsx("span",{className:"summary-value",children:k.opportunities.reduce((rt,R)=>rt+(R.current_level-1),0)})]}),y.jsxs("div",{className:"summary-item",children:[y.jsx("span",{className:"summary-label",children:"Most Active Area:"}),y.jsx("span",{className:"summary-value",children:k.opportunities.length>0&&[...k.opportunities].sort((rt,R)=>R.current_xp-rt.current_xp)[0]?.title||"N/A"})]}),y.jsxs("div",{className:"summary-item",children:[y.jsx("span",{className:"summary-label",children:"Excellence Rate:"}),y.jsx("span",{className:"summary-value",children:k.events.length>0?Math.round(k.events.filter(rt=>rt.choice_value>=3).length/k.events.length*100)+"%":"0%"})]}),y.jsxs("div",{className:"summary-item",children:[y.jsx("span",{className:"summary-label",children:"Current Streak:"}),y.jsxs("span",{className:"summary-value",children:[ui.calculateStreak(k.events).current," days"]})]}),y.jsxs("div",{className:"summary-item",children:[y.jsx("span",{className:"summary-label",children:"Longest Streak:"}),y.jsxs("span",{className:"summary-value",children:[ui.calculateStreak(k.events).longest," days"]})]})]})]})]})]})]})}function jD(){const i=As(),t=ib(),n=i.pathname==="/analytics";P.useEffect(()=>{Th()},[]);const s=()=>{t("/LCG")};return y.jsxs("div",{className:"app",children:[y.jsx("header",{className:"app-header",children:y.jsxs("div",{className:"header-content",children:[y.jsxs("div",{className:"header-text",children:[y.jsx("h1",{onClick:s,style:{cursor:"pointer",userSelect:"none",transition:"opacity 0.2s ease"},onMouseEnter:r=>r.target.style.opacity="0.7",onMouseLeave:r=>r.target.style.opacity="1",title:"Go to home",children:" Life Progress Tracker"}),y.jsx("p",{children:"Gamify your personal development"})]}),y.jsx(fw,{})]})}),y.jsx("main",{className:`app-main ${n?"wide-layout":""}`,children:y.jsxs(V_,{children:[y.jsx(sr,{path:"/",element:y.jsx(Sy,{})}),y.jsx(sr,{path:"/add-event",element:y.jsx(Sy,{})}),y.jsx(sr,{path:"/progress",element:y.jsx(pw,{})}),y.jsx(sr,{path:"/history",element:y.jsx(mw,{})}),y.jsx(sr,{path:"/analytics",element:y.jsx(CD,{})}),y.jsx(sr,{path:"/customize",element:y.jsx(yw,{})})]})}),y.jsx(_S,{}),y.jsx(SS,{}),y.jsx(wS,{}),y.jsx(pb,{})]})}function MD(){return y.jsx(ES,{children:y.jsx(sw,{children:y.jsx(fS,{children:y.jsx(jD,{})})})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(i=>{console.log("SW registered: ",i)}).catch(i=>{console.log("SW registration failed: ",i)})});J0.createRoot(document.getElementById("root")).render(y.jsx(P.StrictMode,{children:y.jsx(MD,{})}));
